import{JITSI_HOST,JVB_HOST,JVB_MUC}from"../../../../../../constants.js";function t(e,t,i){return typeof e===t||e instanceof i}function isFunction(e){return t(e,"function",Function)}function isString(e){return t(e,"string",String)}function isNumber(e){return t(e,"number",Number)}function isBoolean(e){return t(e,"boolean",Boolean)}function isGoodNumber(e){return isNumber(e)&&!Number.isNaN(e)}function clamp(e,t,i){return Math.min(i,Math.max(t,e))}function project(e,t,i){const n=i-t;return 0===n?0:(e-t)/n}function unproject(e,t,i){return e*(i-t)+t}function lerp(e,t,i){return(1-i)*e+i*t}function arrayRandom(e,t){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");const i=t?1:0,n=Math.floor(Math.random()*(e.length+i))-i;return n<0?t:e[n]}function arrayClear(e){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");return e.splice(0)}function arrayRemoveAt(e,t){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");return e.splice(t,1)}function arrayScan(e,...t){if(!(e instanceof Array))throw new Error("Must provide an array as the first parameter.");for(let i of t){const t=e.filter(i);if(t.length>0)return t[0]}return null}function add(e,t){return i=>{e(i),t(i)}}let oldEventTarget=null;try{new window.EventTarget}catch(e){const t=new WeakMap;class i{constructor(){t.set(this,new Map)}addEventListener(e,i,n){if(isFunction(i)){const s=t.get(this);s.has(e)||s.set(e,[]);const a=s.get(e);a.find(e=>e.callback===i)||a.push({target:this,callback:i,options:n})}}removeEventListener(e,i){if(isFunction(i)){const n=t.get(this);if(n.has(e)){const t=n.get(e),s=t.findIndex(e=>e.callback===i);s>=0&&arrayRemoveAt(t,s)}}}dispatchEvent(e){const i=t.get(this);if(i.has(e.type)){const t=i.get(e.type);for(let i of t)i.options&&i.options.once&&this.removeEventListener(e.type,i.callback),i.callback.call(i.target,e);return!e.defaultPrevented}return!0}}oldEventTarget=window.EventTarget,window.EventTarget=i}EventTarget.prototype.once=function(e,t,i){return void 0===i&&isGoodNumber(t)&&(i=t,t=void 0),new Promise((n,s)=>{const a=isString(e);if(a){const t=n,i=()=>{this.removeEventListener(e,t)};n=add(i,n),s=add(i,s)}const o=isString(t);if(o){const e=s,i=()=>{this.removeEventListener(t,e)};n=add(i,n),s=add(i,s)}if(isNumber(i)){const t=setTimeout(s,i,`'${e}' has timed out.`),a=()=>clearTimeout(t);n=add(a,n),s=add(a,s)}a&&this.addEventListener(e,n),o&&this.addEventListener(t,()=>{s("Rejection event found")})})},EventTarget.prototype.when=function(e,t,i){if(!isString(e))throw new Error("Filtering tests function is required. Otherwise, use `once`.");if(!isFunction(t))throw new Error("Filtering tests function is required. Otherwise, use `once`.");return new Promise((t,n)=>{const s=()=>{this.removeEventListener(e,t)};if(t=add(s,t),n=add(s,n),isNumber(i)){const s=setTimeout(n,i,`'${e}' has timed out.`),a=()=>clearTimeout(s);t=add(a,t),n=add(a,n)}this.addEventListener(e,t)})},EventTarget.prototype.until=function(e,t,i,n,s){return new Promise((a,o)=>{let r=null,A=null;const l=()=>{null!==r&&clearTimeout(r),null!==A&&clearTimeout(A),this.removeEventListener(e,c)};function c(e){i(e)&&(l(),a(e))}if(this.addEventListener(e,c),void 0!==n){void 0!==s&&(A=setTimeout(()=>{l(),o(`'${e}' has timed out.`)},s));const i=()=>{t(),r=setTimeout(i,n)};r=setTimeout(i,0)}})},EventTarget.prototype.addEventListeners=function(e){for(let t in e){let i=e[t],n=void 0;i instanceof Array&&(n=i[1],i=i[0]),this.addEventListener(t,i,n)}},oldEventTarget&&(oldEventTarget.prototype.addEventListeners=EventTarget.prototype.addEventListeners,oldEventTarget.prototype.until=EventTarget.prototype.until,oldEventTarget.prototype.once=EventTarget.prototype.once,oldEventTarget.prototype.when=EventTarget.prototype.when),HTMLElement.prototype.isOpen=function(){return"none"!==this.style.display},HTMLElement.prototype.setOpen=function(e,t=""){this.style.display=e?t:"none"},HTMLElement.prototype.setOpenWithLabel=function(e,t,i,n,s,a=""){this.setOpen(e,a),t.updateLabel(this.isOpen(),i,n,s)},HTMLElement.prototype.updateLabel=function(e,t,i,n){n=n||"",this.accessKey&&(n+=` <kbd>(ALT+${this.accessKey.toUpperCase()})</kbd>`),this.innerHTML=(e?t:i)+n},HTMLElement.prototype.toggleOpen=function(e=""){this.setOpen(!this.isOpen(),e)},HTMLElement.prototype.toggleOpenWithLabel=function(e,t,i,n,s=""){this.setOpenWithLabel(!this.isOpen(),e,t,i,n,s)},HTMLElement.prototype.show=function(e=""){this.setOpen(!0,e)},HTMLElement.prototype.hide=function(){this.setOpen(!1)},HTMLElement.prototype.setLocked=function(e){e?this.lock():this.unlock()},HTMLElement.prototype.lock=function(){this.disabled="disabled"},HTMLElement.prototype.unlock=function(){this.disabled=""},HTMLElement.prototype.blinkBorder=function(e,t){e=2*(e||3),t=t||"rgb(255, 127, 127)";let i=!1;const n=setInterval(()=>{i=!i,this.style.backgroundColor=i?t:"",0===--e&&clearInterval(n)},125)};const oldAddEventListener=HTMLInputElement.prototype.addEventListener;if(HTMLInputElement.prototype.addEventListener=function(e,t,i){"enter"===e?oldAddEventListener.call(this,"keypress",(function(e){"Enter"===e.key&&t(e)}),i):oldAddEventListener.call(this,e,t,i)},Response.prototype.xml=async function(){const e=await this.text();return(new DOMParser).parseFromString(e,"text/xml").documentElement},Response.prototype.html=async function(){const e=await this.text();return(new DOMParser).parseFromString(e,"text/html").documentElement},Storage.prototype.getInt=function(e,t){const i=this.getItem(e);if(null===i)return t;const n=parseInt(i,10);return Number.isInteger(n)?n:t},String.prototype.firstLetterToUpper=function(){return this[0].toLocaleUpperCase()+this.substring(1)},!Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"getTransform")&&Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"mozCurrentTransform")){class e{constructor(e){this.a=e[0],this.b=e[1],this.c=e[2],this.d=e[3],this.e=e[4],this.f=e[5]}get is2D(){return!0}get isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}transformPoint(e){return{x:e.x*this.a+e.y*this.c+this.e,y:e.x*this.b+e.y*this.d+this.f}}}CanvasRenderingContext2D.prototype.getTransform=function(){return new e(this.mozCurrentTransform)}}class HtmlAttr{constructor(e,t,...i){this.key=e,this.value=t,this.tags=i.map(e=>e.toLocaleUpperCase()),Object.freeze(this)}apply(e){0===this.tags.length||this.tags.indexOf(e.tagName)>-1?"style"===this.key?Object.assign(e[this.key],this.value):isBoolean(value)?this.value?e.setAttribute(this.key,""):e.removeAttribute(this.key):e[this.key]=this.value:console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`)}}function alt(e){return new HtmlAttr("alt",e,"applet","area","img","input")}function autoPlay(e){return new HtmlAttr("autoplay",e,"audio","video")}function className(e){return new HtmlAttr("className",e)}function controls(e){return new HtmlAttr("controls",e,"audio","video")}function disabled(e){return new HtmlAttr("disabled",e,"button","command","fieldset","input","keygen","optgroup","option","select","textarea")}function htmlFor(e){return new HtmlAttr("htmlFor",e,"label","output")}function height(e){return new HtmlAttr("height",e,"canvas","embed","iframe","img","input","object","video")}function href(e){return new HtmlAttr("href",e,"a","area","base","link")}function id(e){return new HtmlAttr("id",e)}function max(e){return new HtmlAttr("max",e,"input","meter","progress")}function min(e){return new HtmlAttr("min",e,"input","meter")}function muted(e){return new HtmlAttr("muted",e,"audio","video")}function placeHolder(e){return new HtmlAttr("placeholder",e,"input","textarea")}function playsInline(e){return new HtmlAttr("playsInline",e,"audio","video")}function role(e){return new HtmlAttr("role",e)}function src(e){return new HtmlAttr("src",e,"audio","embed","iframe","img","input","script","source","track","video")}function srcObject(e){return new HtmlAttr("srcObject",e,"audio","video")}function step(e){return new HtmlAttr("step",e,"input")}function title(e){return new HtmlAttr("title",e)}function type(e){return new HtmlAttr("type",e,"button","input","command","embed","object","script","source","style","menu")}function value(e){return new HtmlAttr("value",e,"button","data","input","li","meter","option","progress","param")}function volume(e){return new HtmlAttr("volume",e,"audio","video")}function width(e){return new HtmlAttr("width",e,"canvas","embed","iframe","img","input","object","video")}class CssProp{constructor(e,t){this.key=e,this.value=t,Object.freeze(this)}apply(e){e.style[this.key]=this.value}}class CssPropSet{constructor(...e){this.set=new Map;const t=(e,t)=>{t||isBoolean(t)?this.set.set(e,t):this.set.has(e)&&this.set.delete(e)};for(let i of e)if(i instanceof CssProp){const{key:e,value:n}=i;t(e,n)}else if(i instanceof CssPropSet)for(let e of i.set.entries()){const[i,n]=e;t(i,n)}}apply(e){for(let t of this.set.entries()){const[i,n]=t;e.style[i]=n}}}function styles(...e){return new CssPropSet(...e)}function backgroundColor(e){return new CssProp("backgroundColor",e)}function borderBottom(e){return new CssProp("borderBottom",e)}function borderBottomColor(e){return new CssProp("borderBottomColor",e)}function borderLeft(e){return new CssProp("borderLeft",e)}function borderRight(e){return new CssProp("borderRight",e)}function borderStyle(e){return new CssProp("borderStyle",e)}function borderTop(e){return new CssProp("borderTop",e)}function borderWidth(e){return new CssProp("borderWidth",e)}function color(e){return new CssProp("color",e)}function columnGap(e){return new CssProp("columnGap",e)}function display(e){return new CssProp("display",e)}function flexDirection(e){return new CssProp("flexDirection",e)}function fontFamily(e){return new CssProp("fontFamily",e)}function fontSize(e){return new CssProp("fontSize",e)}function gridArea(e){return new CssProp("gridArea",e)}function gridColumn(e){return new CssProp("gridColumn",e)}function gridRow(e){return new CssProp("gridRow",e)}function gridTemplateColumns(e){return new CssProp("gridTemplateColumns",e)}function gridTemplateRows(e){return new CssProp("gridTemplateRows",e)}function height$1(e){return new CssProp("height",e)}function margin(e){return new CssProp("margin",e)}function marginBottom(e){return new CssProp("marginBottom",e)}function overflowY(e){return new CssProp("overflowY",e)}function padding(e){return new CssProp("padding",e)}function pointerEvents(e){return new CssProp("pointerEvents",e)}function textAlign(e){return new CssProp("textAlign",e)}function textDecoration(e){return new CssProp("textDecoration",e)}function textTransform(e){return new CssProp("textTransform",e)}function touchAction(e){return new CssProp("touchAction",e)}function width$1(e){return new CssProp("width",e)}function zIndex(e){return new CssProp("zIndex",e)}const monospaceFonts="'Droid Sans Mono', 'Consolas', 'Lucida Console', 'Courier New', 'Courier', monospace",monospaceFamily=fontFamily(monospaceFonts),systemFonts="-apple-system, '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif",systemFamily=fontFamily(systemFonts);class HtmlEvt{constructor(e,t,i){if(!isFunction(t))throw new Error("A function instance is required for this parameter");this.name=e,this.callback=t,this.opts=i,Object.freeze(this)}add(e){e.addEventListener(this.name,this.callback,this.opts)}remove(e){e.removeEventListener(this.name,this.callback)}}function onClick(e,t){return new HtmlEvt("click",e,t)}function onInput(e,t){return new HtmlEvt("input",e,t)}function onKeyUp(e,t){return new HtmlEvt("keyup",e,t)}function onMouseOut(e,t){return new HtmlEvt("mouseout",e,t)}function onMouseOver(e,t){return new HtmlEvt("mouseover",e,t)}function tag(e,...t){const i=document.createElement(e);for(let e=0;e<t.length;++e)isFunction(t[e])&&(t[e]=t[e](!0));for(let e of t)null!=e&&(isString(e)||isNumber(e)||isBoolean(e)||e instanceof Date?i.appendChild(document.createTextNode(e)):e instanceof Element?i.appendChild(e):e instanceof HtmlCustomTag?i.appendChild(e.element):e instanceof HtmlAttr||e instanceof CssProp||e instanceof CssPropSet?e.apply(i):e instanceof HtmlEvt?e.add(i):console.trace(`Skipping ${e}: unsupported value type.`,e));return i}class HtmlCustomTag extends EventTarget{constructor(e,...t){super(),1===t.length&&t[0]instanceof Element?this.element=t[0]:this.element=tag(e,...t)}get id(){return this.element.id}get eventTarget(){return this.element}isForwardedEvent(e){return!0}addEventListener(e,t,i){this.isForwardedEvent(e)?this.eventTarget.addEventListener(e,t,i):super.addEventListener(e,t,i)}removeEventListener(e,t){this.isForwardedEvent(e)?this.eventTarget.removeEventListener(e,t):super.removeEventListener(e,t)}async once(e,t,i){return await this.eventTarget.once(e,t,i)}setOpen(e){this.element.setOpen(e)}show(){this.setOpen(!0)}hide(){this.setOpen(!1)}get style(){return this.element.style}focus(){this.element.focus()}blur(){this.element.blur()}}class LabeledInputTag extends HtmlCustomTag{constructor(e,t,i,...n){super("div"),this.label=Label(htmlFor(e),i),this.input=Input(type(t),...n),this.element.append(this.label,this.input),Object.seal(this)}get eventTarget(){return this.input}get value(){return this.input.value}set value(e){this.input.value=e}get checked(){return this.input.checked}set checked(e){this.input.checked=e}setLocked(e){this.input.setLocked(e)}}class LabeledSelectBoxTag extends HtmlCustomTag{constructor(e,t,i,n,s,...a){super("div"),this.label=Label(htmlFor(e),t),this.select=new SelectBox(i,n,s,id(e),...a),this.element.append(this.label,this.select.element),Object.seal(this)}get eventTarget(){return this.select}get emptySelectionEnabled(){return this.select.emptySelectionEnabled}set emptySelectionEnabled(e){this.select.emptySelectionEnabled=e}get values(){return this.select.values}set values(e){this.select.values=e}get options(){return this.select.options}get selectedIndex(){return this.select.selectedIndex}set selectedIndex(e){this.select.selectedIndex=e}get selectedValue(){return this.select.selectedValue}set selectedValue(e){this.select.selectedValue=e}indexOf(e){return this.select.indexOf(e)}contains(e){return this.select.contains(e)}}const selectEvt=new Event("select");class OptionPanelTag extends HtmlCustomTag{constructor(e,t,...i){super("div",id(e),padding("1em"),P(...i)),this.button=Button(id(e+"Btn"),onClick(()=>this.dispatchEvent(selectEvt)),t)}isForwardedEvent(e){return"select"!==e}get visible(){return null!==this.element.style.display}set visible(e){this.element.setOpen(e),styles(borderStyle("solid"),borderWidth("2px"),backgroundColor(e?"#ddd":"transparent"),borderTop(e?"":"none"),borderRight(e?"":"none"),borderBottomColor(e?"#ddd":""),borderLeft(e?"":"none")).apply(this.button)}}const values=new WeakMap;function render(e){if(clear(e.element),0===e.values.length)e.element.append(Option(e.noSelectionText)),e.element.lock();else{e.emptySelectionEnabled&&e.element.append(Option(e.noSelectionText));for(let t of e.values)e.element.append(Option(value(e.makeID(t)),e.makeLabel(t)));e.element.unlock()}}class SelectBoxTag extends HtmlCustomTag{constructor(e,t,i,...n){if(super("select",...n),!isFunction(t))throw new Error("makeID parameter must be a Function");if(!isFunction(i))throw new Error("makeLabel parameter must be a Function");this.noSelectionText=e,this.makeID=e=>null!==e&&t(e)||null,this.makeLabel=e=>null!==e&&i(e)||"None",this.emptySelectionEnabled=!0,Object.seal(this)}get emptySelectionEnabled(){return this._emptySelectionEnabled}set emptySelectionEnabled(e){this._emptySelectionEnabled=e,render(this)}get values(){return values.has(this)||values.set(this,[]),values.get(this)}set values(e){const t=this.selectedValue,i=this.values;i.splice(0,i.length,...e),render(this),this.selectedValue=t}get options(){return this.element.options}get selectedIndex(){let e=this.element.selectedIndex;return this.emptySelectionEnabled&&--e,e}set selectedIndex(e){this.emptySelectionEnabled&&++e,this.element.selectedIndex=e}get selectedValue(){return 0<=this.selectedIndex&&this.selectedIndex<this.values.length?this.values[this.selectedIndex]:null}set selectedValue(e){this.selectedIndex=this.indexOf(e)}indexOf(e){return this.values.findIndex(t=>null!==e&&this.makeID(e)===this.makeID(t))}contains(e){return this.indexOf(e)>=0}}function clear(e){for(;e.lastChild;)e.lastChild.remove()}function A(...e){return tag("a",...e)}function Audio(...e){return tag("audio",...e)}function ButtonRaw(...e){return tag("button",...e)}function Button(...e){return ButtonRaw(...e,type("button"))}function Canvas(...e){return tag("canvas",...e)}function Div(...e){return tag("div",...e)}function H1(...e){return tag("h1",...e)}function H2(...e){return tag("h2",...e)}function Img(...e){return tag("img",...e)}function Input(...e){return tag("input",...e)}function InputURL(...e){return Input(type("url"),...e)}function Label(...e){return tag("label",...e)}function LI(...e){return tag("li",...e)}function Option(...e){return tag("option",...e)}function P(...e){return tag("p",...e)}function Source(...e){return tag("source",...e)}function Span(...e){return tag("span",...e)}function UL(...e){return tag("ul",...e)}function Video(...e){return tag("video",...e)}function CanvasOffscreen(e,t,...i){return window.OffscreenCanvas?new OffscreenCanvas(e,t):Canvas(...i,width(e),height(t))}function LabeledInput(e,t,i,...n){return new LabeledInputTag(e,t,i,...n)}function SelectBox(e,t,i,...n){return new SelectBoxTag(e,t,i,...n)}function LabeledSelectBox(e,t,i,n,s,...a){return new LabeledSelectBoxTag(e,t,i,n,s,...a)}function OptionPanel(e,t,...i){return new OptionPanelTag(e,t,...i)}function Run(...e){return Div(margin("auto"),...e)}class SFX extends EventTarget{constructor(){super(),this.clips=new Map,Object.seal(this)}add(e,...t){const i=t.map(e=>src(e)).map(e=>Source(e)),n=Audio(controls(!1),playsInline,...i);return this.clips.set(e,n),this}play(e,t=1){if(this.clips.has(e)){const i=this.clips.get(e);i.volume=t,i.play()}}}class Emoji{constructor(e,t){this.value=e,this.desc=t}contains(e){return this.value.indexOf(e.value)>=0}}class EmojiGroup extends Emoji{constructor(e,t,...i){super(e,t),this.alts=i,this.width=null}random(){const e=arrayRandom(this.alts);return e instanceof EmojiGroup?e.random():e}contains(e){return super.contains(e)||this.alts.reduce((t,i)=>t||i.contains(e),!1)}}function e(e,t,i=null){return Object.assign(new Emoji(e,t),i)}function g(e,t,...i){return new EmojiGroup(e,t,...i)}function gg(e,t,i,...n){return Object.assign(g(e,t,...Object.values(i).filter(e=>e instanceof Emoji),...n),i)}const textStyle=e("ï¸","Variation Selector-15: text style"),emojiStyle=e("ï¸","Variation Selector-16: emoji style"),zeroWidthJoiner=e("â€","Zero Width Joiner"),combiningEnclosingCircleBackslash=e("âƒ£","Combining Enclosing Circle Backslash"),combiningEnclosingKeycap=e("âƒ£","Combining Enclosing Keycap"),female=e("â™€ï¸","Female"),male=e("â™‚ï¸","Male"),skinL=e("ğŸ»","Light Skin Tone"),skinML=e("ğŸ¼","Medium-Light Skin Tone"),skinM=e("ğŸ½","Medium Skin Tone"),skinMD=e("ğŸ¾","Medium-Dark Skin Tone"),skinD=e("ğŸ¿","Dark Skin Tone"),hairRed=e("ğŸ¦°","Red Hair"),hairCurly=e("ğŸ¦±","Curly Hair"),hairWhite=e("ğŸ¦³","White Hair"),hairBald=e("ğŸ¦²","Bald");function combo(t,i){if(t instanceof Array)return t.map(e=>combo(e,i));if(t instanceof EmojiGroup){const{value:n,desc:s}=combo(e(t.value,t.desc),i);return g(n,s,...combo(t.alts,i))}return i instanceof Array?i.map(e=>combo(t,e)):e(t.value+i.value,t.desc+": "+i.desc)}function join(t,i){if(t instanceof Array)return t.map(e=>join(e,i));if(t instanceof EmojiGroup){const{value:n,desc:s}=join(e(t.value,t.desc),i);return g(n,s,...join(t.alts,i))}return i instanceof Array?i.map(e=>join(t,e)):e(t.value+zeroWidthJoiner.value+i.value,t.desc+": "+i.desc)}function isSurfer(e){return surfers.contains(e)||rowers.contains(e)||swimmers.contains(e)||merpeople.contains(e)}function skin(t,i,...n){const s=e(t,i),a=combo(s,skinL),o=combo(s,skinML),r=combo(s,skinM),A=combo(s,skinMD),l=combo(s,skinD);return gg(s.value,s.desc,{default:s,light:a,mediumLight:o,medium:r,mediumDark:A,dark:l},...n)}function sex(e){const t=join(e,male),i=join(e,female);return gg(e.value,e.desc,{default:e,man:t,woman:i})}function skinAndSex(e,t){return sex(skin(e,t))}function skinAndHair(e,t,...i){const n=skin(e,t),s=join(n,hairRed),a=join(n,hairCurly),o=join(n,hairWhite),r=join(n,hairBald);return gg(n.value,n.desc,{default:n,red:s,curly:a,white:o,bald:r},...i)}function sym(t,i){const n=e(t.value,i),s=join(man.default,n),a=join(woman.default,n);return gg(t.value,t.desc,{symbol:t,men:s,women:a})}const frowners=skinAndSex("ğŸ™","Frowning"),pouters=skinAndSex("ğŸ™","Pouting"),gesturingNo=skinAndSex("ğŸ™…","Gesturing NO"),gesturingOK=skinAndSex("ğŸ™†","Gesturing OK"),tippingHand=skinAndSex("ğŸ’","Tipping Hand"),raisingHand=skinAndSex("ğŸ™‹","Raising Hand"),bowing=skinAndSex("ğŸ™‡","Bowing"),facePalming=skinAndSex("ğŸ¤¦","Facepalming"),shrugging=skinAndSex("ğŸ¤·","Shrugging"),cantHear=skinAndSex("ğŸ§","Can't Hear"),gettingMassage=skinAndSex("ğŸ’†","Getting Massage"),gettingHaircut=skinAndSex("ğŸ’‡","Getting Haircut"),constructionWorkers=skinAndSex("ğŸ‘·","Construction Worker"),guards=skinAndSex("ğŸ’‚","Guard"),spies=skinAndSex("ğŸ•µ","Spy"),police=skinAndSex("ğŸ‘®","Police"),wearingTurban=skinAndSex("ğŸ‘³","Wearing Turban"),superheroes=skinAndSex("ğŸ¦¸","Superhero"),supervillains=skinAndSex("ğŸ¦¹","Supervillain"),mages=skinAndSex("ğŸ§™","Mage"),fairies=skinAndSex("ğŸ§š","Fairy"),vampires=skinAndSex("ğŸ§›","Vampire"),merpeople=skinAndSex("ğŸ§œ","Merperson"),elves=skinAndSex("ğŸ§","Elf"),walking=skinAndSex("ğŸš¶","Walking"),standing=skinAndSex("ğŸ§","Standing"),kneeling=skinAndSex("ğŸ§","Kneeling"),runners=skinAndSex("ğŸƒ","Running"),gestures=g("Gestures","Gestures",frowners,pouters,gesturingNo,gesturingOK,tippingHand,raisingHand,bowing,facePalming,shrugging,cantHear,gettingMassage,gettingHaircut),baby=skin("ğŸ‘¶","Baby"),child=skin("ğŸ§’","Child"),boy=skin("ğŸ‘¦","Boy"),girl=skin("ğŸ‘§","Girl"),children=gg(child.value,child.desc,{default:child,male:boy,female:girl}),blondes=skinAndSex("ğŸ‘±","Blond Person"),person=skin("ğŸ§‘","Person",blondes.default,wearingTurban.default),beardedMan=skin("ğŸ§”","Bearded Man"),manInSuitLevitating=e("ğŸ•´ï¸","Man in Suit, Levitating"),manWithChineseCap=skin("ğŸ‘²","Man With Chinese Cap"),manInTuxedo=skin("ğŸ¤µ","Man in Tuxedo"),man=skinAndHair("ğŸ‘¨","Man",blondes.man,beardedMan,manInSuitLevitating,manWithChineseCap,wearingTurban.man,manInTuxedo),pregnantWoman=skin("ğŸ¤°","Pregnant Woman"),breastFeeding=skin("ğŸ¤±","Breast-Feeding"),womanWithHeadscarf=skin("ğŸ§•","Woman With Headscarf"),brideWithVeil=skin("ğŸ‘°","Bride With Veil"),woman=skinAndHair("ğŸ‘©","Woman",blondes.woman,pregnantWoman,breastFeeding,womanWithHeadscarf,wearingTurban.woman,brideWithVeil),adults=gg(person.value,"Adult",{default:person,male:man,female:woman}),olderPerson=skin("ğŸ§“","Older Person"),oldMan=skin("ğŸ‘´","Old Man"),oldWoman=skin("ğŸ‘µ","Old Woman"),elderly=gg(olderPerson.value,olderPerson.desc,{default:olderPerson,male:oldMan,female:oldWoman}),medical=e("âš•ï¸","Medical"),healthCareWorkers=sym(medical,"Health Care"),graduationCap=e("ğŸ“","Graduation Cap"),students=sym(graduationCap,"Student"),school=e("ğŸ«","School"),teachers=sym(school,"Teacher"),balanceScale=e("âš–ï¸","Balance Scale"),judges=sym(balanceScale,"Judge"),sheafOfRice=e("ğŸŒ¾","Sheaf of Rice"),farmers=sym(sheafOfRice,"Farmer"),cooking=e("ğŸ³","Cooking"),cooks=sym(cooking,"Cook"),wrench=e("ğŸ”§","Wrench"),mechanics=sym(wrench,"Mechanic"),factory=e("ğŸ­","Factory"),factoryWorkers=sym(factory,"Factory Worker"),briefcase=e("ğŸ’¼","Briefcase"),officeWorkers=sym(briefcase,"Office Worker"),fireEngine=e("ğŸš’","Fire Engine"),fireFighters=sym(fireEngine,"Fire Fighter"),rocket=e("ğŸš€","Rocket"),astronauts=sym(rocket,"Astronaut"),airplane=e("âœˆï¸","Airplane"),pilots=sym(airplane,"Pilot"),artistPalette=e("ğŸ¨","Artist Palette"),artists=sym(artistPalette,"Artist"),microphone=e("ğŸ¤","Microphone"),singers=sym(microphone,"Singer"),laptop=e("ğŸ’»","Laptop"),technologists=sym(laptop,"Technologist"),microscope=e("ğŸ”¬","Microscope"),scientists=sym(microscope,"Scientist"),crown=e("ğŸ‘‘","Crown"),prince=skin("ğŸ¤´","Prince"),princess=skin("ğŸ‘¸","Princess"),royalty=gg(crown.value,crown.desc,{symbol:crown,male:prince,female:princess}),roles=gg("Roles","Depictions of people working",{healthCareWorkers:healthCareWorkers,students:students,teachers:teachers,judges:judges,farmers:farmers,cooks:cooks,mechanics:mechanics,factoryWorkers:factoryWorkers,officeWorkers:officeWorkers,scientists:scientists,technologists:technologists,singers:singers,artists:artists,pilots:pilots,astronauts:astronauts,fireFighters:fireFighters,spies:spies,guards:guards,constructionWorkers:constructionWorkers,royalty:royalty}),cherub=skin("ğŸ‘¼","Cherub"),santaClaus=skin("ğŸ…","Santa Claus"),mrsClaus=skin("ğŸ¤¶","Mrs. Claus"),genies=sex(e("ğŸ§","Genie")),zombies=sex(e("ğŸ§Ÿ","Zombie")),fantasy=gg("Fantasy","Depictions of fantasy characters",{cherub:cherub,santaClaus:santaClaus,mrsClaus:mrsClaus,superheroes:superheroes,supervillains:supervillains,mages:mages,fairies:fairies,vampires:vampires,merpeople:merpeople,elves:elves,genies:genies,zombies:zombies}),whiteCane=e("ğŸ¦¯","Probing Cane"),withProbingCane=sym(whiteCane,"Probing"),motorizedWheelchair=e("ğŸ¦¼","Motorized Wheelchair"),inMotorizedWheelchair=sym(motorizedWheelchair,"In Motorized Wheelchair"),manualWheelchair=e("ğŸ¦½","Manual Wheelchair"),inManualWheelchair=sym(manualWheelchair,"In Manual Wheelchair"),manDancing=skin("ğŸ•º","Man Dancing"),womanDancing=skin("ğŸ’ƒ","Woman Dancing"),dancers=gg(manDancing.value,"Dancing",{male:manDancing,female:womanDancing}),jugglers=skinAndSex("ğŸ¤¹","Juggler"),climbers=skinAndSex("ğŸ§—","Climber"),fencer=e("ğŸ¤º","Fencer"),jockeys=skin("ğŸ‡","Jockey"),skier=e("â›·ï¸","Skier"),snowboarders=skin("ğŸ‚","Snowboarder"),golfers=skinAndSex("ğŸŒï¸","Golfer"),surfers=skinAndSex("ğŸ„","Surfing"),rowers=skinAndSex("ğŸš£","Rowing Boat"),swimmers=skinAndSex("ğŸŠ","Swimming"),basketballers=skinAndSex("â›¹ï¸","Basket Baller"),weightLifters=skinAndSex("ğŸ‹ï¸","Weight Lifter"),bikers=skinAndSex("ğŸš´","Biker"),mountainBikers=skinAndSex("ğŸšµ","Mountain Biker"),cartwheelers=skinAndSex("ğŸ¤¸","Cartwheeler"),wrestlers=sex(e("ğŸ¤¼","Wrestler")),waterPoloers=skinAndSex("ğŸ¤½","Water Polo Player"),handBallers=skinAndSex("ğŸ¤¾","Hand Baller"),inMotion=gg("In Motion","Depictions of people in motion",{walking:walking,standing:standing,kneeling:kneeling,withProbingCane:withProbingCane,inMotorizedWheelchair:inMotorizedWheelchair,inManualWheelchair:inManualWheelchair,dancers:dancers,jugglers:jugglers,climbers:climbers,fencer:fencer,jockeys:jockeys,skier:skier,snowboarders:snowboarders,golfers:golfers,surfers:surfers,rowers:rowers,swimmers:swimmers,runners:runners,basketballers:basketballers,weightLifters:weightLifters,bikers:bikers,mountainBikers:mountainBikers,cartwheelers:cartwheelers,wrestlers:wrestlers,waterPoloers:waterPoloers,handBallers:handBallers}),inLotusPosition=skinAndSex("ğŸ§˜","In Lotus Position"),inBath=skin("ğŸ›€","In Bath"),inBed=skin("ğŸ›Œ","In Bed"),inSauna=skinAndSex("ğŸ§–","In Sauna"),resting=gg("Resting","Depictions of people at rest",{inLotusPosition:inLotusPosition,inBath:inBath,inBed:inBed,inSauna:inSauna}),babies=g(baby.value,baby.desc,baby,cherub),people=gg("People","People",{babies:babies,children:children,adults:adults,elderly:elderly}),allPeople=gg("All People","All People",{people:people,gestures:gestures,inMotion:inMotion,resting:resting,roles:roles,fantasy:fantasy}),ogre=e("ğŸ‘¹","Ogre"),goblin=e("ğŸ‘º","Goblin"),ghost=e("ğŸ‘»","Ghost"),alien=e("ğŸ‘½","Alien"),alienMonster=e("ğŸ‘¾","Alien Monster"),angryFaceWithHorns=e("ğŸ‘¿","Angry Face with Horns"),skull=e("ğŸ’€","Skull"),pileOfPoo=e("ğŸ’©","Pile of Poo"),grinningFace=e("ğŸ˜€","Grinning Face"),beamingFaceWithSmilingEyes=e("ğŸ˜","Beaming Face with Smiling Eyes"),faceWithTearsOfJoy=e("ğŸ˜‚","Face with Tears of Joy"),grinningFaceWithBigEyes=e("ğŸ˜ƒ","Grinning Face with Big Eyes"),grinningFaceWithSmilingEyes=e("ğŸ˜„","Grinning Face with Smiling Eyes"),grinningFaceWithSweat=e("ğŸ˜…","Grinning Face with Sweat"),grinningSquitingFace=e("ğŸ˜†","Grinning Squinting Face"),smillingFaceWithHalo=e("ğŸ˜‡","Smiling Face with Halo"),smilingFaceWithHorns=e("ğŸ˜ˆ","Smiling Face with Horns"),winkingFace=e("ğŸ˜‰","Winking Face"),smilingFaceWithSmilingEyes=e("ğŸ˜Š","Smiling Face with Smiling Eyes"),faceSavoringFood=e("ğŸ˜‹","Face Savoring Food"),relievedFace=e("ğŸ˜Œ","Relieved Face"),smilingFaceWithHeartEyes=e("ğŸ˜","Smiling Face with Heart-Eyes"),smilingFaceWithSunglasses=e("ğŸ˜","Smiling Face with Sunglasses"),smirkingFace=e("ğŸ˜","Smirking Face"),neutralFace=e("ğŸ˜","Neutral Face"),expressionlessFace=e("ğŸ˜‘","Expressionless Face"),unamusedFace=e("ğŸ˜’","Unamused Face"),downcastFaceWithSweat=e("ğŸ˜“","Downcast Face with Sweat"),pensiveFace=e("ğŸ˜”","Pensive Face"),confusedFace=e("ğŸ˜•","Confused Face"),confoundedFace=e("ğŸ˜–","Confounded Face"),kissingFace=e("ğŸ˜—","Kissing Face"),faceBlowingAKiss=e("ğŸ˜˜","Face Blowing a Kiss"),kissingFaceWithSmilingEyes=e("ğŸ˜™","Kissing Face with Smiling Eyes"),kissingFaceWithClosedEyes=e("ğŸ˜š","Kissing Face with Closed Eyes"),faceWithTongue=e("ğŸ˜›","Face with Tongue"),winkingFaceWithTongue=e("ğŸ˜œ","Winking Face with Tongue"),squintingFaceWithTongue=e("ğŸ˜","Squinting Face with Tongue"),disappointedFace=e("ğŸ˜","Disappointed Face"),worriedFace=e("ğŸ˜Ÿ","Worried Face"),angryFace=e("ğŸ˜ ","Angry Face"),poutingFace=e("ğŸ˜¡","Pouting Face"),cryingFace=e("ğŸ˜¢","Crying Face"),perseveringFace=e("ğŸ˜£","Persevering Face"),faceWithSteamFromNose=e("ğŸ˜¤","Face with Steam From Nose"),sadButRelievedFace=e("ğŸ˜¥","Sad but Relieved Face"),frowningFaceWithOpenMouth=e("ğŸ˜¦","Frowning Face with Open Mouth"),anguishedFace=e("ğŸ˜§","Anguished Face"),fearfulFace=e("ğŸ˜¨","Fearful Face"),wearyFace=e("ğŸ˜©","Weary Face"),sleepyFace=e("ğŸ˜ª","Sleepy Face"),tiredFace=e("ğŸ˜«","Tired Face"),grimacingFace=e("ğŸ˜¬","Grimacing Face"),loudlyCryingFace=e("ğŸ˜­","Loudly Crying Face"),faceWithOpenMouth=e("ğŸ˜®","Face with Open Mouth"),hushedFace=e("ğŸ˜¯","Hushed Face"),anxiousFaceWithSweat=e("ğŸ˜°","Anxious Face with Sweat"),faceScreamingInFear=e("ğŸ˜±","Face Screaming in Fear"),astonishedFace=e("ğŸ˜²","Astonished Face"),flushedFace=e("ğŸ˜³","Flushed Face"),sleepingFace=e("ğŸ˜´","Sleeping Face"),dizzyFace=e("ğŸ˜µ","Dizzy Face"),faceWithoutMouth=e("ğŸ˜¶","Face Without Mouth"),faceWithMedicalMask=e("ğŸ˜·","Face with Medical Mask"),grinningCatWithSmilingEyes=e("ğŸ˜¸","Grinning Cat with Smiling Eyes"),catWithTearsOfJoy=e("ğŸ˜¹","Cat with Tears of Joy"),grinningCat=e("ğŸ˜º","Grinning Cat"),smilingCatWithHeartEyes=e("ğŸ˜»","Smiling Cat with Heart-Eyes"),catWithWrySmile=e("ğŸ˜¼","Cat with Wry Smile"),kissingCat=e("ğŸ˜½","Kissing Cat"),poutingCat=e("ğŸ˜¾","Pouting Cat"),cryingCat=e("ğŸ˜¿","Crying Cat"),wearyCat=e("ğŸ™€","Weary Cat"),slightlyFrowningFace=e("ğŸ™","Slightly Frowning Face"),slightlySmilingFace=e("ğŸ™‚","Slightly Smiling Face"),updisdeDownFace=e("ğŸ™ƒ","Upside-Down Face"),faceWithRollingEyes=e("ğŸ™„","Face with Rolling Eyes"),seeNoEvilMonkey=e("ğŸ™ˆ","See-No-Evil Monkey"),hearNoEvilMonkey=e("ğŸ™‰","Hear-No-Evil Monkey"),speakNoEvilMonkey=e("ğŸ™Š","Speak-No-Evil Monkey"),zipperMouthFace=e("ğŸ¤","Zipper-Mouth Face"),moneyMouthFace=e("ğŸ¤‘","Money-Mouth Face"),faceWithThermometer=e("ğŸ¤’","Face with Thermometer"),nerdFace=e("ğŸ¤“","Nerd Face"),thinkingFace=e("ğŸ¤”","Thinking Face"),faceWithHeadBandage=e("ğŸ¤•","Face with Head-Bandage"),robot=e("ğŸ¤–","Robot"),huggingFace=e("ğŸ¤—","Hugging Face"),cowboyHatFace=e("ğŸ¤ ","Cowboy Hat Face"),clownFace=e("ğŸ¤¡","Clown Face"),nauseatedFace=e("ğŸ¤¢","Nauseated Face"),rollingOnTheFloorLaughing=e("ğŸ¤£","Rolling on the Floor Laughing"),droolingFace=e("ğŸ¤¤","Drooling Face"),lyingFace=e("ğŸ¤¥","Lying Face"),sneezingFace=e("ğŸ¤§","Sneezing Face"),faceWithRaisedEyebrow=e("ğŸ¤¨","Face with Raised Eyebrow"),starStruck=e("ğŸ¤©","Star-Struck"),zanyFace=e("ğŸ¤ª","Zany Face"),shushingFace=e("ğŸ¤«","Shushing Face"),faceWithSymbolsOnMouth=e("ğŸ¤¬","Face with Symbols on Mouth"),faceWithHandOverMouth=e("ğŸ¤­","Face with Hand Over Mouth"),faceVomitting=e("ğŸ¤®","Face Vomiting"),explodingHead=e("ğŸ¤¯","Exploding Head"),smilingFaceWithHearts=e("ğŸ¥°","Smiling Face with Hearts"),yawningFace=e("ğŸ¥±","Yawning Face"),smilingFaceWithTear=e("ğŸ¥²","Smiling Face with Tear"),partyingFace=e("ğŸ¥³","Partying Face"),woozyFace=e("ğŸ¥´","Woozy Face"),hotFace=e("ğŸ¥µ","Hot Face"),coldFace=e("ğŸ¥¶","Cold Face"),disguisedFace=e("ğŸ¥¸","Disguised Face"),pleadingFace=e("ğŸ¥º","Pleading Face"),faceWithMonocle=e("ğŸ§","Face with Monocle"),skullAndCrossbones=e("â˜ ï¸","Skull and Crossbones"),frowningFace=e("â˜¹ï¸","Frowning Face"),fmilingFace=e("â˜ºï¸","Smiling Face"),speakingHead=e("ğŸ—£ï¸","Speaking Head"),bust=e("ğŸ‘¤","Bust in Silhouette"),faces=gg("Faces","Round emoji faces",{ogre:ogre,goblin:goblin,ghost:ghost,alien:alien,alienMonster:alienMonster,angryFaceWithHorns:angryFaceWithHorns,skull:skull,pileOfPoo:pileOfPoo,grinningFace:grinningFace,beamingFaceWithSmilingEyes:beamingFaceWithSmilingEyes,faceWithTearsOfJoy:faceWithTearsOfJoy,grinningFaceWithBigEyes:grinningFaceWithBigEyes,grinningFaceWithSmilingEyes:grinningFaceWithSmilingEyes,grinningFaceWithSweat:grinningFaceWithSweat,grinningSquitingFace:grinningSquitingFace,smillingFaceWithHalo:smillingFaceWithHalo,smilingFaceWithHorns:smilingFaceWithHorns,winkingFace:winkingFace,smilingFaceWithSmilingEyes:smilingFaceWithSmilingEyes,faceSavoringFood:faceSavoringFood,relievedFace:relievedFace,smilingFaceWithHeartEyes:smilingFaceWithHeartEyes,smilingFaceWithSunglasses:smilingFaceWithSunglasses,smirkingFace:smirkingFace,neutralFace:neutralFace,expressionlessFace:expressionlessFace,unamusedFace:unamusedFace,downcastFaceWithSweat:downcastFaceWithSweat,pensiveFace:pensiveFace,confusedFace:confusedFace,confoundedFace:confoundedFace,kissingFace:kissingFace,faceBlowingAKiss:faceBlowingAKiss,kissingFaceWithSmilingEyes:kissingFaceWithSmilingEyes,kissingFaceWithClosedEyes:kissingFaceWithClosedEyes,faceWithTongue:faceWithTongue,winkingFaceWithTongue:winkingFaceWithTongue,squintingFaceWithTongue:squintingFaceWithTongue,disappointedFace:disappointedFace,worriedFace:worriedFace,angryFace:angryFace,poutingFace:poutingFace,cryingFace:cryingFace,perseveringFace:perseveringFace,faceWithSteamFromNose:faceWithSteamFromNose,sadButRelievedFace:sadButRelievedFace,frowningFaceWithOpenMouth:frowningFaceWithOpenMouth,anguishedFace:anguishedFace,fearfulFace:fearfulFace,wearyFace:wearyFace,sleepyFace:sleepyFace,tiredFace:tiredFace,grimacingFace:grimacingFace,loudlyCryingFace:loudlyCryingFace,faceWithOpenMouth:faceWithOpenMouth,hushedFace:hushedFace,anxiousFaceWithSweat:anxiousFaceWithSweat,faceScreamingInFear:faceScreamingInFear,astonishedFace:astonishedFace,flushedFace:flushedFace,sleepingFace:sleepingFace,dizzyFace:dizzyFace,faceWithoutMouth:faceWithoutMouth,faceWithMedicalMask:faceWithMedicalMask,grinningCatWithSmilingEyes:grinningCatWithSmilingEyes,catWithTearsOfJoy:catWithTearsOfJoy,grinningCat:grinningCat,smilingCatWithHeartEyes:smilingCatWithHeartEyes,catWithWrySmile:catWithWrySmile,kissingCat:kissingCat,poutingCat:poutingCat,cryingCat:cryingCat,wearyCat:wearyCat,slightlyFrowningFace:slightlyFrowningFace,slightlySmilingFace:slightlySmilingFace,updisdeDownFace:updisdeDownFace,faceWithRollingEyes:faceWithRollingEyes,seeNoEvilMonkey:seeNoEvilMonkey,hearNoEvilMonkey:hearNoEvilMonkey,speakNoEvilMonkey:speakNoEvilMonkey,zipperMouthFace:zipperMouthFace,moneyMouthFace:moneyMouthFace,faceWithThermometer:faceWithThermometer,nerdFace:nerdFace,thinkingFace:thinkingFace,faceWithHeadBandage:faceWithHeadBandage,robot:robot,huggingFace:huggingFace,cowboyHatFace:cowboyHatFace,clownFace:clownFace,nauseatedFace:nauseatedFace,rollingOnTheFloorLaughing:rollingOnTheFloorLaughing,droolingFace:droolingFace,lyingFace:lyingFace,sneezingFace:sneezingFace,faceWithRaisedEyebrow:faceWithRaisedEyebrow,starStruck:starStruck,zanyFace:zanyFace,shushingFace:shushingFace,faceWithSymbolsOnMouth:faceWithSymbolsOnMouth,faceWithHandOverMouth:faceWithHandOverMouth,faceVomitting:faceVomitting,explodingHead:explodingHead,smilingFaceWithHearts:smilingFaceWithHearts,yawningFace:yawningFace,smilingFaceWithTear:smilingFaceWithTear,partyingFace:partyingFace,woozyFace:woozyFace,hotFace:hotFace,coldFace:coldFace,disguisedFace:disguisedFace,pleadingFace:pleadingFace,faceWithMonocle:faceWithMonocle,skullAndCrossbones:skullAndCrossbones,frowningFace:frowningFace,fmilingFace:fmilingFace,speakingHead:speakingHead,bust:bust}),kissMark=e("ğŸ’‹","Kiss Mark"),loveLetter=e("ğŸ’Œ","Love Letter"),beatingHeart=e("ğŸ’“","Beating Heart"),brokenHeart=e("ğŸ’”","Broken Heart"),twoHearts=e("ğŸ’•","Two Hearts"),sparklingHeart=e("ğŸ’–","Sparkling Heart"),growingHeart=e("ğŸ’—","Growing Heart"),heartWithArrow=e("ğŸ’˜","Heart with Arrow"),blueHeart=e("ğŸ’™","Blue Heart"),greenHeart=e("ğŸ’š","Green Heart"),yellowHeart=e("ğŸ’›","Yellow Heart"),purpleHeart=e("ğŸ’œ","Purple Heart"),heartWithRibbon=e("ğŸ’","Heart with Ribbon"),revolvingHearts=e("ğŸ’","Revolving Hearts"),heartDecoration=e("ğŸ’Ÿ","Heart Decoration"),blackHeart=e("ğŸ–¤","Black Heart"),whiteHeart=e("ğŸ¤","White Heart"),brownHeart=e("ğŸ¤","Brown Heart"),orangeHeart=e("ğŸ§¡","Orange Heart"),heartExclamation=e("â£ï¸","Heart Exclamation"),redHeart=e("â¤ï¸","Red Heart"),love=gg("Love","Hearts and kisses",{kissMark:kissMark,loveLetter:loveLetter,beatingHeart:beatingHeart,brokenHeart:brokenHeart,twoHearts:twoHearts,sparklingHeart:sparklingHeart,growingHeart:growingHeart,heartWithArrow:heartWithArrow,blueHeart:blueHeart,greenHeart:greenHeart,yellowHeart:yellowHeart,purpleHeart:purpleHeart,heartWithRibbon:heartWithRibbon,revolvingHearts:revolvingHearts,heartDecoration:heartDecoration,blackHeart:blackHeart,whiteHeart:whiteHeart,brownHeart:brownHeart,orangeHeart:orangeHeart,heartExclamation:heartExclamation,redHeart:redHeart}),cartoon=g("Cartoon","Cartoon symbols",e("ğŸ’¢","Anger Symbol"),e("ğŸ’£","Bomb"),e("ğŸ’¤","Zzz"),e("ğŸ’¥","Collision"),e("ğŸ’¦","Sweat Droplets"),e("ğŸ’¨","Dashing Away"),e("ğŸ’«","Dizzy"),e("ğŸ’¬","Speech Balloon"),e("ğŸ’­","Thought Balloon"),e("ğŸ’¯","Hundred Points"),e("ğŸ•³ï¸","Hole"),e("ğŸ—¨ï¸","Left Speech Bubble"),e("ğŸ—¯ï¸","Right Anger Bubble")),hands=g("Hands","Hands pointing at things",e("ğŸ‘†","Backhand Index Pointing Up"),e("ğŸ‘‡","Backhand Index Pointing Down"),e("ğŸ‘ˆ","Backhand Index Pointing Left"),e("ğŸ‘‰","Backhand Index Pointing Right"),e("ğŸ‘Š","Oncoming Fist"),e("ğŸ‘‹","Waving Hand"),e("ğŸ‘Œ","OK Hand"),e("ğŸ‘","Thumbs Up"),e("ğŸ‘","Thumbs Down"),e("ğŸ‘","Clapping Hands"),e("ğŸ‘","Open Hands"),e("ğŸ’…","Nail Polish"),e("ğŸ–ï¸","Hand with Fingers Splayed"),e("ğŸ–•","Middle Finger"),e("ğŸ––","Vulcan Salute"),e("ğŸ™Œ","Raising Hands"),e("ğŸ™","Folded Hands"),e("ğŸ¤Œ","Pinched Fingers"),e("ğŸ¤","Pinching Hand"),e("ğŸ¤˜","Sign of the Horns"),e("ğŸ¤™","Call Me Hand"),e("ğŸ¤š","Raised Back of Hand"),e("ğŸ¤›","Left-Facing Fist"),e("ğŸ¤œ","Right-Facing Fist"),e("ğŸ¤","Handshake"),e("ğŸ¤","Crossed Fingers"),e("ğŸ¤Ÿ","Love-You Gesture"),e("ğŸ¤²","Palms Up Together"),e("â˜ï¸","Index Pointing Up"),e("âœŠ","Raised Fist"),e("âœ‹","Raised Hand"),e("âœŒï¸","Victory Hand"),e("âœï¸","Writing Hand")),bodyParts=g("Body Parts","General body parts",e("ğŸ‘€","Eyes"),e("ğŸ‘ï¸","Eye"),e("ğŸ‘ï¸â€ğŸ—¨ï¸","Eye in Speech Bubble"),e("ğŸ‘‚","Ear"),e("ğŸ‘ƒ","Nose"),e("ğŸ‘„","Mouth"),e("ğŸ‘…","Tongue"),e("ğŸ’ª","Flexed Biceps"),e("ğŸ¤³","Selfie"),e("ğŸ¦´","Bone"),e("ğŸ¦µ","Leg"),e("ğŸ¦¶","Foot"),e("ğŸ¦·","Tooth"),e("ğŸ¦»","Ear with Hearing Aid"),e("ğŸ¦¾","Mechanical Arm"),e("ğŸ¦¿","Mechanical Leg"),e("ğŸ§ ","Brain"),e("ğŸ«€","Anatomical Heart"),e("ğŸ«","Lungs")),animals=g("Animals","Animals and insects",e("ğŸ€","Rat"),e("ğŸ","Mouse"),e("ğŸ‚","Ox"),e("ğŸƒ","Water Buffalo"),e("ğŸ„","Cow"),e("ğŸ…","Tiger"),e("ğŸ†","Leopard"),e("ğŸ‡","Rabbit"),e("ğŸˆ","Cat"),e("ğŸˆâ€â¬›","Black Cat"),e("ğŸ‰","Dragon"),e("ğŸŠ","Crocodile"),e("ğŸ‹","Whale"),e("ğŸŒ","Snail"),e("ğŸ","Snake"),e("ğŸ","Horse"),e("ğŸ","Ram"),e("ğŸ","Goat"),e("ğŸ‘","Ewe"),e("ğŸ’","Monkey"),e("ğŸ“","Rooster"),e("ğŸ”","Chicken"),e("ğŸ•","Dog"),e("ğŸ•â€ğŸ¦º","Service Dog"),e("ğŸ–","Pig"),e("ğŸ—","Boar"),e("ğŸ˜","Elephant"),e("ğŸ™","Octopus"),e("ğŸš","Spiral Shell"),e("ğŸ›","Bug"),e("ğŸœ","Ant"),e("ğŸ","Honeybee"),e("ğŸ","Lady Beetle"),e("ğŸŸ","Fish"),e("ğŸ ","Tropical Fish"),e("ğŸ¡","Blowfish"),e("ğŸ¢","Turtle"),e("ğŸ£","Hatching Chick"),e("ğŸ¤","Baby Chick"),e("ğŸ¥","Front-Facing Baby Chick"),e("ğŸ¦","Bird"),e("ğŸ§","Penguin"),e("ğŸ¨","Koala"),e("ğŸ©","Poodle"),e("ğŸª","Camel"),e("ğŸ«","Two-Hump Camel"),e("ğŸ¬","Dolphin"),e("ğŸ­","Mouse Face"),e("ğŸ®","Cow Face"),e("ğŸ¯","Tiger Face"),e("ğŸ°","Rabbit Face"),e("ğŸ±","Cat Face"),e("ğŸ²","Dragon Face"),e("ğŸ³","Spouting Whale"),e("ğŸ´","Horse Face"),e("ğŸµ","Monkey Face"),e("ğŸ¶","Dog Face"),e("ğŸ·","Pig Face"),e("ğŸ¸","Frog"),e("ğŸ¹","Hamster"),e("ğŸº","Wolf"),e("ğŸ»","Bear"),e("ğŸ»â€â„ï¸","Polar Bear"),e("ğŸ¼","Panda"),e("ğŸ½","Pig Nose"),e("ğŸ¾","Paw Prints"),e("ğŸ¿ï¸","Chipmunk"),e("ğŸ•Šï¸","Dove"),e("ğŸ•·ï¸","Spider"),e("ğŸ•¸ï¸","Spider Web"),e("ğŸ¦","Lion"),e("ğŸ¦‚","Scorpion"),e("ğŸ¦ƒ","Turkey"),e("ğŸ¦„","Unicorn"),e("ğŸ¦…","Eagle"),e("ğŸ¦†","Duck"),e("ğŸ¦‡","Bat"),e("ğŸ¦ˆ","Shark"),e("ğŸ¦‰","Owl"),e("ğŸ¦Š","Fox"),e("ğŸ¦‹","Butterfly"),e("ğŸ¦Œ","Deer"),e("ğŸ¦","Gorilla"),e("ğŸ¦","Lizard"),e("ğŸ¦","Rhinoceros"),e("ğŸ¦’","Giraffe"),e("ğŸ¦“","Zebra"),e("ğŸ¦”","Hedgehog"),e("ğŸ¦•","Sauropod"),e("ğŸ¦–","T-Rex"),e("ğŸ¦—","Cricket"),e("ğŸ¦˜","Kangaroo"),e("ğŸ¦™","Llama"),e("ğŸ¦š","Peacock"),e("ğŸ¦›","Hippopotamus"),e("ğŸ¦œ","Parrot"),e("ğŸ¦","Raccoon"),e("ğŸ¦Ÿ","Mosquito"),e("ğŸ¦ ","Microbe"),e("ğŸ¦¡","Badger"),e("ğŸ¦¢","Swan"),e("ğŸ¦£","Mammoth"),e("ğŸ¦¤","Dodo"),e("ğŸ¦¥","Sloth"),e("ğŸ¦¦","Otter"),e("ğŸ¦§","Orangutan"),e("ğŸ¦¨","Skunk"),e("ğŸ¦©","Flamingo"),e("ğŸ¦«","Beaver"),e("ğŸ¦¬","Bison"),e("ğŸ¦­","Seal"),e("ğŸ¦®","Guide Dog"),e("ğŸª°","Fly"),e("ğŸª±","Worm"),e("ğŸª²","Beetle"),e("ğŸª³","Cockroach"),e("ğŸª¶","Feather")),whiteFlower=e("ğŸ’®","White Flower"),plants=g("Plants","Flowers, trees, and things",e("ğŸŒ±","Seedling"),e("ğŸŒ²","Evergreen Tree"),e("ğŸŒ³","Deciduous Tree"),e("ğŸŒ´","Palm Tree"),e("ğŸŒµ","Cactus"),e("ğŸŒ·","Tulip"),e("ğŸŒ¸","Cherry Blossom"),e("ğŸŒ¹","Rose"),e("ğŸŒº","Hibiscus"),e("ğŸŒ»","Sunflower"),e("ğŸŒ¼","Blossom"),sheafOfRice,e("ğŸŒ¿","Herb"),e("ğŸ€","Four Leaf Clover"),e("ğŸ","Maple Leaf"),e("ğŸ‚","Fallen Leaf"),e("ğŸƒ","Leaf Fluttering in Wind"),e("ğŸµï¸","Rosette"),e("ğŸ’","Bouquet"),whiteFlower,e("ğŸ¥€","Wilted Flower"),e("ğŸª´","Potted Plant"),e("â˜˜ï¸","Shamrock")),banana=e("ğŸŒ","Banana"),food=g("Food","Food, drink, and utensils",e("ğŸŒ­","Hot Dog"),e("ğŸŒ®","Taco"),e("ğŸŒ¯","Burrito"),e("ğŸŒ°","Chestnut"),e("ğŸŒ¶ï¸","Hot Pepper"),e("ğŸŒ½","Ear of Corn"),e("ğŸ„","Mushroom"),e("ğŸ…","Tomato"),e("ğŸ†","Eggplant"),e("ğŸ‡","Grapes"),e("ğŸˆ","Melon"),e("ğŸ‰","Watermelon"),e("ğŸŠ","Tangerine"),e("ğŸ‹","Lemon"),banana,e("ğŸ","Pineapple"),e("ğŸ","Red Apple"),e("ğŸ","Green Apple"),e("ğŸ","Pear"),e("ğŸ‘","Peach"),e("ğŸ’","Cherries"),e("ğŸ“","Strawberry"),e("ğŸ”","Hamburger"),e("ğŸ•","Pizza"),e("ğŸ–","Meat on Bone"),e("ğŸ—","Poultry Leg"),e("ğŸ˜","Rice Cracker"),e("ğŸ™","Rice Ball"),e("ğŸš","Cooked Rice"),e("ğŸ›","Curry Rice"),e("ğŸœ","Steaming Bowl"),e("ğŸ","Spaghetti"),e("ğŸ","Bread"),e("ğŸŸ","French Fries"),e("ğŸ ","Roasted Sweet Potato"),e("ğŸ¡","Dango"),e("ğŸ¢","Oden"),e("ğŸ£","Sushi"),e("ğŸ¤","Fried Shrimp"),e("ğŸ¥","Fish Cake with Swirl"),e("ğŸ±","Bento Box"),e("ğŸ²","Pot of Food"),cooking,e("ğŸ¿","Popcorn"),e("ğŸ¥","Croissant"),e("ğŸ¥‘","Avocado"),e("ğŸ¥’","Cucumber"),e("ğŸ¥“","Bacon"),e("ğŸ¥”","Potato"),e("ğŸ¥•","Carrot"),e("ğŸ¥–","Baguette Bread"),e("ğŸ¥—","Green Salad"),e("ğŸ¥˜","Shallow Pan of Food"),e("ğŸ¥™","Stuffed Flatbread"),e("ğŸ¥š","Egg"),e("ğŸ¥œ","Peanuts"),e("ğŸ¥","Kiwi Fruit"),e("ğŸ¥","Pancakes"),e("ğŸ¥Ÿ","Dumpling"),e("ğŸ¥ ","Fortune Cookie"),e("ğŸ¥¡","Takeout Box"),e("ğŸ¥£","Bowl with Spoon"),e("ğŸ¥¥","Coconut"),e("ğŸ¥¦","Broccoli"),e("ğŸ¥¨","Pretzel"),e("ğŸ¥©","Cut of Meat"),e("ğŸ¥ª","Sandwich"),e("ğŸ¥«","Canned Food"),e("ğŸ¥¬","Leafy Green"),e("ğŸ¥­","Mango"),e("ğŸ¥®","Moon Cake"),e("ğŸ¥¯","Bagel"),e("ğŸ¦€","Crab"),e("ğŸ¦","Shrimp"),e("ğŸ¦‘","Squid"),e("ğŸ¦","Lobster"),e("ğŸ¦ª","Oyster"),e("ğŸ§€","Cheese Wedge"),e("ğŸ§‚","Salt"),e("ğŸ§„","Garlic"),e("ğŸ§…","Onion"),e("ğŸ§†","Falafel"),e("ğŸ§‡","Waffle"),e("ğŸ§ˆ","Butter"),e("ğŸ«","Blueberries"),e("ğŸ«‘","Bell Pepper"),e("ğŸ«’","Olive"),e("ğŸ«“","Flatbread"),e("ğŸ«”","Tamale"),e("ğŸ«•","Fondue"),e("ğŸ¦","Soft Ice Cream"),e("ğŸ§","Shaved Ice"),e("ğŸ¨","Ice Cream"),e("ğŸ©","Doughnut"),e("ğŸª","Cookie"),e("ğŸ«","Chocolate Bar"),e("ğŸ¬","Candy"),e("ğŸ­","Lollipop"),e("ğŸ®","Custard"),e("ğŸ¯","Honey Pot"),e("ğŸ°","Shortcake"),e("ğŸ‚","Birthday Cake"),e("ğŸ¥§","Pie"),e("ğŸ§","Cupcake"),e("ğŸµ","Teacup Without Handle"),e("ğŸ¶","Sake"),e("ğŸ·","Wine Glass"),e("ğŸ¸","Cocktail Glass"),e("ğŸ¹","Tropical Drink"),e("ğŸº","Beer Mug"),e("ğŸ»","Clinking Beer Mugs"),e("ğŸ¼","Baby Bottle"),e("ğŸ¾","Bottle with Popping Cork"),e("ğŸ¥‚","Clinking Glasses"),e("ğŸ¥ƒ","Tumbler Glass"),e("ğŸ¥›","Glass of Milk"),e("ğŸ¥¤","Cup with Straw"),e("ğŸ§ƒ","Beverage Box"),e("ğŸ§‰","Mate"),e("ğŸ§Š","Ice"),e("ğŸ§‹","Bubble Tea"),e("ğŸ«–","Teapot"),e("â˜•","Hot Beverage"),e("ğŸ´","Fork and Knife"),e("ğŸ½ï¸","Fork and Knife with Plate"),e("ğŸº","Amphora"),e("ğŸ”ª","Kitchen Knife"),e("ğŸ¥„","Spoon"),e("ğŸ¥¢","Chopsticks")),nations=g("National Flags","Flags of countries from around the world",e("ğŸ‡¦ğŸ‡¨","Flag: Ascension Island"),e("ğŸ‡¦ğŸ‡©","Flag: Andorra"),e("ğŸ‡¦ğŸ‡ª","Flag: United Arab Emirates"),e("ğŸ‡¦ğŸ‡«","Flag: Afghanistan"),e("ğŸ‡¦ğŸ‡¬","Flag: Antigua & Barbuda"),e("ğŸ‡¦ğŸ‡®","Flag: Anguilla"),e("ğŸ‡¦ğŸ‡±","Flag: Albania"),e("ğŸ‡¦ğŸ‡²","Flag: Armenia"),e("ğŸ‡¦ğŸ‡´","Flag: Angola"),e("ğŸ‡¦ğŸ‡¶","Flag: Antarctica"),e("ğŸ‡¦ğŸ‡·","Flag: Argentina"),e("ğŸ‡¦ğŸ‡¸","Flag: American Samoa"),e("ğŸ‡¦ğŸ‡¹","Flag: Austria"),e("ğŸ‡¦ğŸ‡º","Flag: Australia"),e("ğŸ‡¦ğŸ‡¼","Flag: Aruba"),e("ğŸ‡¦ğŸ‡½","Flag: Ã…land Islands"),e("ğŸ‡¦ğŸ‡¿","Flag: Azerbaijan"),e("ğŸ‡§ğŸ‡¦","Flag: Bosnia & Herzegovina"),e("ğŸ‡§ğŸ‡§","Flag: Barbados"),e("ğŸ‡§ğŸ‡©","Flag: Bangladesh"),e("ğŸ‡§ğŸ‡ª","Flag: Belgium"),e("ğŸ‡§ğŸ‡«","Flag: Burkina Faso"),e("ğŸ‡§ğŸ‡¬","Flag: Bulgaria"),e("ğŸ‡§ğŸ‡­","Flag: Bahrain"),e("ğŸ‡§ğŸ‡®","Flag: Burundi"),e("ğŸ‡§ğŸ‡¯","Flag: Benin"),e("ğŸ‡§ğŸ‡±","Flag: St. BarthÃ©lemy"),e("ğŸ‡§ğŸ‡²","Flag: Bermuda"),e("ğŸ‡§ğŸ‡³","Flag: Brunei"),e("ğŸ‡§ğŸ‡´","Flag: Bolivia"),e("ğŸ‡§ğŸ‡¶","Flag: Caribbean Netherlands"),e("ğŸ‡§ğŸ‡·","Flag: Brazil"),e("ğŸ‡§ğŸ‡¸","Flag: Bahamas"),e("ğŸ‡§ğŸ‡¹","Flag: Bhutan"),e("ğŸ‡§ğŸ‡»","Flag: Bouvet Island"),e("ğŸ‡§ğŸ‡¼","Flag: Botswana"),e("ğŸ‡§ğŸ‡¾","Flag: Belarus"),e("ğŸ‡§ğŸ‡¿","Flag: Belize"),e("ğŸ‡¨ğŸ‡¦","Flag: Canada"),e("ğŸ‡¨ğŸ‡¨","Flag: Cocos (Keeling) Islands"),e("ğŸ‡¨ğŸ‡©","Flag: Congo - Kinshasa"),e("ğŸ‡¨ğŸ‡«","Flag: Central African Republic"),e("ğŸ‡¨ğŸ‡¬","Flag: Congo - Brazzaville"),e("ğŸ‡¨ğŸ‡­","Flag: Switzerland"),e("ğŸ‡¨ğŸ‡®","Flag: CÃ´te dâ€™Ivoire"),e("ğŸ‡¨ğŸ‡°","Flag: Cook Islands"),e("ğŸ‡¨ğŸ‡±","Flag: Chile"),e("ğŸ‡¨ğŸ‡²","Flag: Cameroon"),e("ğŸ‡¨ğŸ‡³","Flag: China"),e("ğŸ‡¨ğŸ‡´","Flag: Colombia"),e("ğŸ‡¨ğŸ‡µ","Flag: Clipperton Island"),e("ğŸ‡¨ğŸ‡·","Flag: Costa Rica"),e("ğŸ‡¨ğŸ‡º","Flag: Cuba"),e("ğŸ‡¨ğŸ‡»","Flag: Cape Verde"),e("ğŸ‡¨ğŸ‡¼","Flag: CuraÃ§ao"),e("ğŸ‡¨ğŸ‡½","Flag: Christmas Island"),e("ğŸ‡¨ğŸ‡¾","Flag: Cyprus"),e("ğŸ‡¨ğŸ‡¿","Flag: Czechia"),e("ğŸ‡©ğŸ‡ª","Flag: Germany"),e("ğŸ‡©ğŸ‡¬","Flag: Diego Garcia"),e("ğŸ‡©ğŸ‡¯","Flag: Djibouti"),e("ğŸ‡©ğŸ‡°","Flag: Denmark"),e("ğŸ‡©ğŸ‡²","Flag: Dominica"),e("ğŸ‡©ğŸ‡´","Flag: Dominican Republic"),e("ğŸ‡©ğŸ‡¿","Flag: Algeria"),e("ğŸ‡ªğŸ‡¦","Flag: Ceuta & Melilla"),e("ğŸ‡ªğŸ‡¨","Flag: Ecuador"),e("ğŸ‡ªğŸ‡ª","Flag: Estonia"),e("ğŸ‡ªğŸ‡¬","Flag: Egypt"),e("ğŸ‡ªğŸ‡­","Flag: Western Sahara"),e("ğŸ‡ªğŸ‡·","Flag: Eritrea"),e("ğŸ‡ªğŸ‡¸","Flag: Spain"),e("ğŸ‡ªğŸ‡¹","Flag: Ethiopia"),e("ğŸ‡ªğŸ‡º","Flag: European Union"),e("ğŸ‡«ğŸ‡®","Flag: Finland"),e("ğŸ‡«ğŸ‡¯","Flag: Fiji"),e("ğŸ‡«ğŸ‡°","Flag: Falkland Islands"),e("ğŸ‡«ğŸ‡²","Flag: Micronesia"),e("ğŸ‡«ğŸ‡´","Flag: Faroe Islands"),e("ğŸ‡«ğŸ‡·","Flag: France"),e("ğŸ‡¬ğŸ‡¦","Flag: Gabon"),e("ğŸ‡¬ğŸ‡§","Flag: United Kingdom"),e("ğŸ‡¬ğŸ‡©","Flag: Grenada"),e("ğŸ‡¬ğŸ‡ª","Flag: Georgia"),e("ğŸ‡¬ğŸ‡«","Flag: French Guiana"),e("ğŸ‡¬ğŸ‡¬","Flag: Guernsey"),e("ğŸ‡¬ğŸ‡­","Flag: Ghana"),e("ğŸ‡¬ğŸ‡®","Flag: Gibraltar"),e("ğŸ‡¬ğŸ‡±","Flag: Greenland"),e("ğŸ‡¬ğŸ‡²","Flag: Gambia"),e("ğŸ‡¬ğŸ‡³","Flag: Guinea"),e("ğŸ‡¬ğŸ‡µ","Flag: Guadeloupe"),e("ğŸ‡¬ğŸ‡¶","Flag: Equatorial Guinea"),e("ğŸ‡¬ğŸ‡·","Flag: Greece"),e("ğŸ‡¬ğŸ‡¸","Flag: South Georgia & South Sandwich Islands"),e("ğŸ‡¬ğŸ‡¹","Flag: Guatemala"),e("ğŸ‡¬ğŸ‡º","Flag: Guam"),e("ğŸ‡¬ğŸ‡¼","Flag: Guinea-Bissau"),e("ğŸ‡¬ğŸ‡¾","Flag: Guyana"),e("ğŸ‡­ğŸ‡°","Flag: Hong Kong SAR China"),e("ğŸ‡­ğŸ‡²","Flag: Heard & McDonald Islands"),e("ğŸ‡­ğŸ‡³","Flag: Honduras"),e("ğŸ‡­ğŸ‡·","Flag: Croatia"),e("ğŸ‡­ğŸ‡¹","Flag: Haiti"),e("ğŸ‡­ğŸ‡º","Flag: Hungary"),e("ğŸ‡®ğŸ‡¨","Flag: Canary Islands"),e("ğŸ‡®ğŸ‡©","Flag: Indonesia"),e("ğŸ‡®ğŸ‡ª","Flag: Ireland"),e("ğŸ‡®ğŸ‡±","Flag: Israel"),e("ğŸ‡®ğŸ‡²","Flag: Isle of Man"),e("ğŸ‡®ğŸ‡³","Flag: India"),e("ğŸ‡®ğŸ‡´","Flag: British Indian Ocean Territory"),e("ğŸ‡®ğŸ‡¶","Flag: Iraq"),e("ğŸ‡®ğŸ‡·","Flag: Iran"),e("ğŸ‡®ğŸ‡¸","Flag: Iceland"),e("ğŸ‡®ğŸ‡¹","Flag: Italy"),e("ğŸ‡¯ğŸ‡ª","Flag: Jersey"),e("ğŸ‡¯ğŸ‡²","Flag: Jamaica"),e("ğŸ‡¯ğŸ‡´","Flag: Jordan"),e("ğŸ‡¯ğŸ‡µ","Flag: Japan"),e("ğŸ‡°ğŸ‡ª","Flag: Kenya"),e("ğŸ‡°ğŸ‡¬","Flag: Kyrgyzstan"),e("ğŸ‡°ğŸ‡­","Flag: Cambodia"),e("ğŸ‡°ğŸ‡®","Flag: Kiribati"),e("ğŸ‡°ğŸ‡²","Flag: Comoros"),e("ğŸ‡°ğŸ‡³","Flag: St. Kitts & Nevis"),e("ğŸ‡°ğŸ‡µ","Flag: North Korea"),e("ğŸ‡°ğŸ‡·","Flag: South Korea"),e("ğŸ‡°ğŸ‡¼","Flag: Kuwait"),e("ğŸ‡°ğŸ‡¾","Flag: Cayman Islands"),e("ğŸ‡°ğŸ‡¿","Flag: Kazakhstan"),e("ğŸ‡±ğŸ‡¦","Flag: Laos"),e("ğŸ‡±ğŸ‡§","Flag: Lebanon"),e("ğŸ‡±ğŸ‡¨","Flag: St. Lucia"),e("ğŸ‡±ğŸ‡®","Flag: Liechtenstein"),e("ğŸ‡±ğŸ‡°","Flag: Sri Lanka"),e("ğŸ‡±ğŸ‡·","Flag: Liberia"),e("ğŸ‡±ğŸ‡¸","Flag: Lesotho"),e("ğŸ‡±ğŸ‡¹","Flag: Lithuania"),e("ğŸ‡±ğŸ‡º","Flag: Luxembourg"),e("ğŸ‡±ğŸ‡»","Flag: Latvia"),e("ğŸ‡±ğŸ‡¾","Flag: Libya"),e("ğŸ‡²ğŸ‡¦","Flag: Morocco"),e("ğŸ‡²ğŸ‡¨","Flag: Monaco"),e("ğŸ‡²ğŸ‡©","Flag: Moldova"),e("ğŸ‡²ğŸ‡ª","Flag: Montenegro"),e("ğŸ‡²ğŸ‡«","Flag: St. Martin"),e("ğŸ‡²ğŸ‡¬","Flag: Madagascar"),e("ğŸ‡²ğŸ‡­","Flag: Marshall Islands"),e("ğŸ‡²ğŸ‡°","Flag: North Macedonia"),e("ğŸ‡²ğŸ‡±","Flag: Mali"),e("ğŸ‡²ğŸ‡²","Flag: Myanmar (Burma)"),e("ğŸ‡²ğŸ‡³","Flag: Mongolia"),e("ğŸ‡²ğŸ‡´","Flag: Macao Sar China"),e("ğŸ‡²ğŸ‡µ","Flag: Northern Mariana Islands"),e("ğŸ‡²ğŸ‡¶","Flag: Martinique"),e("ğŸ‡²ğŸ‡·","Flag: Mauritania"),e("ğŸ‡²ğŸ‡¸","Flag: Montserrat"),e("ğŸ‡²ğŸ‡¹","Flag: Malta"),e("ğŸ‡²ğŸ‡º","Flag: Mauritius"),e("ğŸ‡²ğŸ‡»","Flag: Maldives"),e("ğŸ‡²ğŸ‡¼","Flag: Malawi"),e("ğŸ‡²ğŸ‡½","Flag: Mexico"),e("ğŸ‡²ğŸ‡¾","Flag: Malaysia"),e("ğŸ‡²ğŸ‡¿","Flag: Mozambique"),e("ğŸ‡³ğŸ‡¦","Flag: Namibia"),e("ğŸ‡³ğŸ‡¨","Flag: New Caledonia"),e("ğŸ‡³ğŸ‡ª","Flag: Niger"),e("ğŸ‡³ğŸ‡«","Flag: Norfolk Island"),e("ğŸ‡³ğŸ‡¬","Flag: Nigeria"),e("ğŸ‡³ğŸ‡®","Flag: Nicaragua"),e("ğŸ‡³ğŸ‡±","Flag: Netherlands"),e("ğŸ‡³ğŸ‡´","Flag: Norway"),e("ğŸ‡³ğŸ‡µ","Flag: Nepal"),e("ğŸ‡³ğŸ‡·","Flag: Nauru"),e("ğŸ‡³ğŸ‡º","Flag: Niue"),e("ğŸ‡³ğŸ‡¿","Flag: New Zealand"),e("ğŸ‡´ğŸ‡²","Flag: Oman"),e("ğŸ‡µğŸ‡¦","Flag: Panama"),e("ğŸ‡µğŸ‡ª","Flag: Peru"),e("ğŸ‡µğŸ‡«","Flag: French Polynesia"),e("ğŸ‡µğŸ‡¬","Flag: Papua New Guinea"),e("ğŸ‡µğŸ‡­","Flag: Philippines"),e("ğŸ‡µğŸ‡°","Flag: Pakistan"),e("ğŸ‡µğŸ‡±","Flag: Poland"),e("ğŸ‡µğŸ‡²","Flag: St. Pierre & Miquelon"),e("ğŸ‡µğŸ‡³","Flag: Pitcairn Islands"),e("ğŸ‡µğŸ‡·","Flag: Puerto Rico"),e("ğŸ‡µğŸ‡¸","Flag: Palestinian Territories"),e("ğŸ‡µğŸ‡¹","Flag: Portugal"),e("ğŸ‡µğŸ‡¼","Flag: Palau"),e("ğŸ‡µğŸ‡¾","Flag: Paraguay"),e("ğŸ‡¶ğŸ‡¦","Flag: Qatar"),e("ğŸ‡·ğŸ‡ª","Flag: RÃ©union"),e("ğŸ‡·ğŸ‡´","Flag: Romania"),e("ğŸ‡·ğŸ‡¸","Flag: Serbia"),e("ğŸ‡·ğŸ‡º","Flag: Russia"),e("ğŸ‡·ğŸ‡¼","Flag: Rwanda"),e("ğŸ‡¸ğŸ‡¦","Flag: Saudi Arabia"),e("ğŸ‡¸ğŸ‡§","Flag: Solomon Islands"),e("ğŸ‡¸ğŸ‡¨","Flag: Seychelles"),e("ğŸ‡¸ğŸ‡©","Flag: Sudan"),e("ğŸ‡¸ğŸ‡ª","Flag: Sweden"),e("ğŸ‡¸ğŸ‡¬","Flag: Singapore"),e("ğŸ‡¸ğŸ‡­","Flag: St. Helena"),e("ğŸ‡¸ğŸ‡®","Flag: Slovenia"),e("ğŸ‡¸ğŸ‡¯","Flag: Svalbard & Jan Mayen"),e("ğŸ‡¸ğŸ‡°","Flag: Slovakia"),e("ğŸ‡¸ğŸ‡±","Flag: Sierra Leone"),e("ğŸ‡¸ğŸ‡²","Flag: San Marino"),e("ğŸ‡¸ğŸ‡³","Flag: Senegal"),e("ğŸ‡¸ğŸ‡´","Flag: Somalia"),e("ğŸ‡¸ğŸ‡·","Flag: Suriname"),e("ğŸ‡¸ğŸ‡¸","Flag: South Sudan"),e("ğŸ‡¸ğŸ‡¹","Flag: SÃ£o TomÃ© & PrÃ­ncipe"),e("ğŸ‡¸ğŸ‡»","Flag: El Salvador"),e("ğŸ‡¸ğŸ‡½","Flag: Sint Maarten"),e("ğŸ‡¸ğŸ‡¾","Flag: Syria"),e("ğŸ‡¸ğŸ‡¿","Flag: Eswatini"),e("ğŸ‡¹ğŸ‡¦","Flag: Tristan Da Cunha"),e("ğŸ‡¹ğŸ‡¨","Flag: Turks & Caicos Islands"),e("ğŸ‡¹ğŸ‡©","Flag: Chad"),e("ğŸ‡¹ğŸ‡«","Flag: French Southern Territories"),e("ğŸ‡¹ğŸ‡¬","Flag: Togo"),e("ğŸ‡¹ğŸ‡­","Flag: Thailand"),e("ğŸ‡¹ğŸ‡¯","Flag: Tajikistan"),e("ğŸ‡¹ğŸ‡°","Flag: Tokelau"),e("ğŸ‡¹ğŸ‡±","Flag: Timor-Leste"),e("ğŸ‡¹ğŸ‡²","Flag: Turkmenistan"),e("ğŸ‡¹ğŸ‡³","Flag: Tunisia"),e("ğŸ‡¹ğŸ‡´","Flag: Tonga"),e("ğŸ‡¹ğŸ‡·","Flag: Turkey"),e("ğŸ‡¹ğŸ‡¹","Flag: Trinidad & Tobago"),e("ğŸ‡¹ğŸ‡»","Flag: Tuvalu"),e("ğŸ‡¹ğŸ‡¼","Flag: Taiwan"),e("ğŸ‡¹ğŸ‡¿","Flag: Tanzania"),e("ğŸ‡ºğŸ‡¦","Flag: Ukraine"),e("ğŸ‡ºğŸ‡¬","Flag: Uganda"),e("ğŸ‡ºğŸ‡²","Flag: U.S. Outlying Islands"),e("ğŸ‡ºğŸ‡³","Flag: United Nations"),e("ğŸ‡ºğŸ‡¸","Flag: United States"),e("ğŸ‡ºğŸ‡¾","Flag: Uruguay"),e("ğŸ‡ºğŸ‡¿","Flag: Uzbekistan"),e("ğŸ‡»ğŸ‡¦","Flag: Vatican City"),e("ğŸ‡»ğŸ‡¨","Flag: St. Vincent & Grenadines"),e("ğŸ‡»ğŸ‡ª","Flag: Venezuela"),e("ğŸ‡»ğŸ‡¬","Flag: British Virgin Islands"),e("ğŸ‡»ğŸ‡®","Flag: U.S. Virgin Islands"),e("ğŸ‡»ğŸ‡³","Flag: Vietnam"),e("ğŸ‡»ğŸ‡º","Flag: Vanuatu"),e("ğŸ‡¼ğŸ‡«","Flag: Wallis & Futuna"),e("ğŸ‡¼ğŸ‡¸","Flag: Samoa"),e("ğŸ‡½ğŸ‡°","Flag: Kosovo"),e("ğŸ‡¾ğŸ‡ª","Flag: Yemen"),e("ğŸ‡¾ğŸ‡¹","Flag: Mayotte"),e("ğŸ‡¿ğŸ‡¦","Flag: South Africa"),e("ğŸ‡¿ğŸ‡²","Flag: Zambia"),e("ğŸ‡¿ğŸ‡¼","Flag: Zimbabwe")),flags=g("Flags","Basic flags",e("ğŸŒ","Crossed Flags"),e("ğŸ","Chequered Flag"),e("ğŸ³ï¸","White Flag"),e("ğŸ³ï¸â€ğŸŒˆ","Rainbow Flag"),e("ğŸ³ï¸â€âš§ï¸","Transgender Flag"),e("ğŸ´","Black Flag"),e("ğŸ´â€â˜ ï¸","Pirate Flag"),e("ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿","Flag: England"),e("ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿","Flag: Scotland"),e("ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿","Flag: Wales"),e("ğŸš©","Triangular Flag")),motorcycle=e("ğŸï¸","Motorcycle"),racingCar=e("ğŸï¸","Racing Car"),seat=e("ğŸ’º","Seat"),helicopter=e("ğŸš","Helicopter"),locomotive=e("ğŸš‚","Locomotive"),railwayCar=e("ğŸšƒ","Railway Car"),highspeedTrain=e("ğŸš„","High-Speed Train"),bulletTrain=e("ğŸš…","Bullet Train"),train=e("ğŸš†","Train"),metro=e("ğŸš‡","Metro"),lightRail=e("ğŸšˆ","Light Rail"),station=e("ğŸš‰","Station"),tram=e("ğŸšŠ","Tram"),tramCar=e("ğŸš‹","Tram Car"),bus=e("ğŸšŒ","Bus"),oncomingBus=e("ğŸš","Oncoming Bus"),trolleyBus=e("ğŸš","Trolleybus"),busStop=e("ğŸš","Bus Stop"),miniBus=e("ğŸš","Minibus"),ambulance=e("ğŸš‘","Ambulance"),policeCar=e("ğŸš“","Police Car"),oncomingPoliceCar=e("ğŸš”","Oncoming Police Car"),taxi=e("ğŸš•","Taxi"),oncomingTaxi=e("ğŸš–","Oncoming Taxi"),automobile=e("ğŸš—","Automobile"),oncomingAutomobile=e("ğŸš˜","Oncoming Automobile"),sportUtilityVehicle=e("ğŸš™","Sport Utility Vehicle"),deliveryTruck=e("ğŸšš","Delivery Truck"),articulatedLorry=e("ğŸš›","Articulated Lorry"),tractor=e("ğŸšœ","Tractor"),monorail=e("ğŸš","Monorail"),mountainRailway=e("ğŸš","Mountain Railway"),suspensionRailway=e("ğŸšŸ","Suspension Railway"),mountainCableway=e("ğŸš ","Mountain Cableway"),aerialTramway=e("ğŸš¡","Aerial Tramway"),ship=e("ğŸš¢","Ship"),speedBoat=e("ğŸš¤","Speedboat"),horizontalTrafficLight=e("ğŸš¥","Horizontal Traffic Light"),verticalTrafficLight=e("ğŸš¦","Vertical Traffic Light"),construction=e("ğŸš§","Construction"),policeCarLight=e("ğŸš¨","Police Car Light"),bicycle=e("ğŸš²","Bicycle"),stopSign=e("ğŸ›‘","Stop Sign"),oilDrum=e("ğŸ›¢ï¸","Oil Drum"),motorway=e("ğŸ›£ï¸","Motorway"),railwayTrack=e("ğŸ›¤ï¸","Railway Track"),motorBoat=e("ğŸ›¥ï¸","Motor Boat"),smallAirplane=e("ğŸ›©ï¸","Small Airplane"),airplaneDeparture=e("ğŸ›«","Airplane Departure"),airplaneArrival=e("ğŸ›¬","Airplane Arrival"),satellite=e("ğŸ›°ï¸","Satellite"),passengerShip=e("ğŸ›³ï¸","Passenger Ship"),kickScooter=e("ğŸ›´","Kick Scooter"),motorScooter=e("ğŸ›µ","Motor Scooter"),canoe=e("ğŸ›¶","Canoe"),flyingSaucer=e("ğŸ›¸","Flying Saucer"),skateboard=e("ğŸ›¹","Skateboard"),autoRickshaw=e("ğŸ›º","Auto Rickshaw"),pickupTruck=e("ğŸ›»","Pickup Truck"),rollerSkate=e("ğŸ›¼","Roller Skate"),parachute=e("ğŸª‚","Parachute"),anchor=e("âš“","Anchor"),ferry=e("â›´ï¸","Ferry"),sailboat=e("â›µ","Sailboat"),fuelPump=e("â›½","Fuel Pump"),vehicles=g("Vehicles","Things that go",motorcycle,racingCar,seat,rocket,helicopter,locomotive,railwayCar,highspeedTrain,bulletTrain,train,metro,lightRail,station,tram,tramCar,bus,oncomingBus,trolleyBus,busStop,miniBus,ambulance,fireEngine,taxi,oncomingTaxi,automobile,oncomingAutomobile,sportUtilityVehicle,deliveryTruck,articulatedLorry,tractor,monorail,mountainRailway,suspensionRailway,mountainCableway,aerialTramway,ship,speedBoat,horizontalTrafficLight,verticalTrafficLight,construction,bicycle,stopSign,oilDrum,motorway,railwayTrack,motorBoat,smallAirplane,airplaneDeparture,airplaneArrival,satellite,passengerShip,kickScooter,motorScooter,canoe,flyingSaucer,skateboard,autoRickshaw,pickupTruck,rollerSkate,motorizedWheelchair,manualWheelchair,parachute,anchor,ferry,sailboat,fuelPump,airplane),bloodTypes=g("Blood Types","Blood types",e("ğŸ…°","A Button (Blood Type)"),e("ğŸ…±","B Button (Blood Type)"),e("ğŸ…¾","O Button (Blood Type)"),e("ğŸ†","AB Button (Blood Type)")),regionIndicators=g("Regions","Region indicators",e("ğŸ‡¦","Regional Indicator Symbol Letter A"),e("ğŸ‡§","Regional Indicator Symbol Letter B"),e("ğŸ‡¨","Regional Indicator Symbol Letter C"),e("ğŸ‡©","Regional Indicator Symbol Letter D"),e("ğŸ‡ª","Regional Indicator Symbol Letter E"),e("ğŸ‡«","Regional Indicator Symbol Letter F"),e("ğŸ‡¬","Regional Indicator Symbol Letter G"),e("ğŸ‡­","Regional Indicator Symbol Letter H"),e("ğŸ‡®","Regional Indicator Symbol Letter I"),e("ğŸ‡¯","Regional Indicator Symbol Letter J"),e("ğŸ‡°","Regional Indicator Symbol Letter K"),e("ğŸ‡±","Regional Indicator Symbol Letter L"),e("ğŸ‡²","Regional Indicator Symbol Letter M"),e("ğŸ‡³","Regional Indicator Symbol Letter N"),e("ğŸ‡´","Regional Indicator Symbol Letter O"),e("ğŸ‡µ","Regional Indicator Symbol Letter P"),e("ğŸ‡¶","Regional Indicator Symbol Letter Q"),e("ğŸ‡·","Regional Indicator Symbol Letter R"),e("ğŸ‡¸","Regional Indicator Symbol Letter S"),e("ğŸ‡¹","Regional Indicator Symbol Letter T"),e("ğŸ‡º","Regional Indicator Symbol Letter U"),e("ğŸ‡»","Regional Indicator Symbol Letter V"),e("ğŸ‡¼","Regional Indicator Symbol Letter W"),e("ğŸ‡½","Regional Indicator Symbol Letter X"),e("ğŸ‡¾","Regional Indicator Symbol Letter Y"),e("ğŸ‡¿","Regional Indicator Symbol Letter Z")),japanese=g("Japanese","Japanse symbology",e("ğŸ”°","Japanese Symbol for Beginner"),e("ğŸˆ","Japanese â€œHereâ€ Button"),e("ğŸˆ‚ï¸","Japanese â€œService Chargeâ€ Button"),e("ğŸˆš","Japanese â€œFree of Chargeâ€ Button"),e("ğŸˆ¯","Japanese â€œReservedâ€ Button"),e("ğŸˆ²","Japanese â€œProhibitedâ€ Button"),e("ğŸˆ³","Japanese â€œVacancyâ€ Button"),e("ğŸˆ´","Japanese â€œPassing Gradeâ€ Button"),e("ğŸˆµ","Japanese â€œNo Vacancyâ€ Button"),e("ğŸˆ¶","Japanese â€œNot Free of Chargeâ€ Button"),e("ğŸˆ·ï¸","Japanese â€œMonthly Amountâ€ Button"),e("ğŸˆ¸","Japanese â€œApplicationâ€ Button"),e("ğŸˆ¹","Japanese â€œDiscountâ€ Button"),e("ğŸˆº","Japanese â€œOpen for Businessâ€ Button"),e("ğŸ‰","Japanese â€œBargainâ€ Button"),e("ğŸ‰‘","Japanese â€œAcceptableâ€ Button"),e("ãŠ—ï¸","Japanese â€œCongratulationsâ€ Button"),e("ãŠ™ï¸","Japanese â€œSecretâ€ Button")),clocks=g("Clocks","Time-keeping pieces",e("ğŸ•","One Oâ€™Clock"),e("ğŸ•‘","Two Oâ€™Clock"),e("ğŸ•’","Three Oâ€™Clock"),e("ğŸ•“","Four Oâ€™Clock"),e("ğŸ•”","Five Oâ€™Clock"),e("ğŸ••","Six Oâ€™Clock"),e("ğŸ•–","Seven Oâ€™Clock"),e("ğŸ•—","Eight Oâ€™Clock"),e("ğŸ•˜","Nine Oâ€™Clock"),e("ğŸ•™","Ten Oâ€™Clock"),e("ğŸ•š","Eleven Oâ€™Clock"),e("ğŸ•›","Twelve Oâ€™Clock"),e("ğŸ•œ","One-Thirty"),e("ğŸ•","Two-Thirty"),e("ğŸ•","Three-Thirty"),e("ğŸ•Ÿ","Four-Thirty"),e("ğŸ• ","Five-Thirty"),e("ğŸ•¡","Six-Thirty"),e("ğŸ•¢","Seven-Thirty"),e("ğŸ•£","Eight-Thirty"),e("ğŸ•¤","Nine-Thirty"),e("ğŸ•¥","Ten-Thirty"),e("ğŸ•¦","Eleven-Thirty"),e("ğŸ•§","Twelve-Thirty"),e("ğŸ•°ï¸","Mantelpiece Clock"),e("âŒš","Watch"),e("â°","Alarm Clock"),e("â±ï¸","Stopwatch"),e("â²ï¸","Timer Clock"),e("âŒ›","Hourglass Done"),e("â³","Hourglass Not Done")),downRightArrow=e("â†˜","Down-Right Arrow"),downRightArrowText=e("â†˜ï¸","Down-Right Arrow"),downRightArrowEmoji=e("â†˜ï¸","Down-Right Arrow"),arrows=g("Arrows","Arrows pointing in different directions",e("ğŸ”ƒï¸","Clockwise Vertical Arrows"),e("ğŸ”„ï¸","Counterclockwise Arrows Button"),e("â†”ï¸","Left-Right Arrow"),e("â†•ï¸","Up-Down Arrow"),e("â†–ï¸","Up-Left Arrow"),e("â†—ï¸","Up-Right Arrow"),downRightArrowEmoji,e("â†™ï¸","Down-Left Arrow"),e("â†©ï¸","Right Arrow Curving Left"),e("â†ªï¸","Left Arrow Curving Right"),e("â¡ï¸","Right Arrow"),e("â¤´ï¸","Right Arrow Curving Up"),e("â¤µï¸","Right Arrow Curving Down"),e("â¬…ï¸","Left Arrow"),e("â¬†ï¸","Up Arrow"),e("â¬‡ï¸","Down Arrow")),shapes=g("Shapes","Colored shapes",e("ğŸ”´","Red Circle"),e("ğŸ”µ","Blue Circle"),e("ğŸ”¶","Large Orange Diamond"),e("ğŸ”·","Large Blue Diamond"),e("ğŸ”¸","Small Orange Diamond"),e("ğŸ”¹","Small Blue Diamond"),e("ğŸ”º","Red Triangle Pointed Up"),e("ğŸ”»","Red Triangle Pointed Down"),e("ğŸŸ ","Orange Circle"),e("ğŸŸ¡","Yellow Circle"),e("ğŸŸ¢","Green Circle"),e("ğŸŸ£","Purple Circle"),e("ğŸŸ¤","Brown Circle"),e("â­•","Hollow Red Circle"),e("âšª","White Circle"),e("âš«","Black Circle"),e("ğŸŸ¥","Red Square"),e("ğŸŸ¦","Blue Square"),e("ğŸŸ§","Orange Square"),e("ğŸŸ¨","Yellow Square"),e("ğŸŸ©","Green Square"),e("ğŸŸª","Purple Square"),e("ğŸŸ«","Brown Square"),e("ğŸ”²","Black Square Button"),e("ğŸ”³","White Square Button"),e("â–ªï¸","Black Small Square"),e("â–«ï¸","White Small Square"),e("â—½","White Medium-Small Square"),e("â—¾","Black Medium-Small Square"),e("â—»ï¸","White Medium Square"),e("â—¼ï¸","Black Medium Square"),e("â¬›","Black Large Square"),e("â¬œ","White Large Square"),e("â­","Star"),e("ğŸ’ ","Diamond with a Dot")),shuffleTracksButton=e("ğŸ”€","Shuffle Tracks Button"),repeatButton=e("ğŸ”","Repeat Button"),repeatSingleButton=e("ğŸ”‚","Repeat Single Button"),upwardsButton=e("ğŸ”¼","Upwards Button"),downwardsButton=e("ğŸ”½","Downwards Button"),playButton=e("â–¶ï¸","Play Button"),reverseButton=e("â—€ï¸","Reverse Button"),ejectButton=e("âï¸","Eject Button"),fastForwardButton=e("â©","Fast-Forward Button"),fastReverseButton=e("âª","Fast Reverse Button"),fastUpButton=e("â«","Fast Up Button"),fastDownButton=e("â¬","Fast Down Button"),nextTrackButton=e("â­ï¸","Next Track Button"),lastTrackButton=e("â®ï¸","Last Track Button"),playOrPauseButton=e("â¯ï¸","Play or Pause Button"),pauseButton=e("â¸ï¸","Pause Button"),stopButton=e("â¹ï¸","Stop Button"),recordButton=e("âºï¸","Record Button"),buttons=g("Buttons","Buttons",e("ğŸ†‘","CL Button"),e("ğŸ†’","Cool Button"),e("ğŸ†“","Free Button"),e("ğŸ†”","ID Button"),e("ğŸ†•","New Button"),e("ğŸ†–","NG Button"),e("ğŸ†—","OK Button"),e("ğŸ†˜","SOS Button"),e("ğŸ†™","Up! Button"),e("ğŸ†š","Vs Button"),e("ğŸ”˜","Radio Button"),e("ğŸ”™","Back Arrow"),e("ğŸ”š","End Arrow"),e("ğŸ”›","On! Arrow"),e("ğŸ”œ","Soon Arrow"),e("ğŸ”","Top Arrow"),e("â˜‘ï¸","Check Box with Check"),e("ğŸ” ","Input Latin Uppercase"),e("ğŸ”¡","Input Latin Lowercase"),e("ğŸ”¢","Input Numbers"),e("ğŸ”£","Input Symbols"),e("ğŸ”¤","Input Latin Letters"),shuffleTracksButton,repeatButton,repeatSingleButton,upwardsButton,downwardsButton,pauseButton,reverseButton,ejectButton,fastForwardButton,fastReverseButton,fastUpButton,fastDownButton,nextTrackButton,lastTrackButton,playOrPauseButton,pauseButton,stopButton,recordButton),zodiac=g("Zodiac","The symbology of astrology",e("â™ˆ","Aries"),e("â™‰","Taurus"),e("â™Š","Gemini"),e("â™‹","Cancer"),e("â™Œ","Leo"),e("â™","Virgo"),e("â™","Libra"),e("â™","Scorpio"),e("â™","Sagittarius"),e("â™‘","Capricorn"),e("â™’","Aquarius"),e("â™“","Pisces"),e("â›","Ophiuchus")),numbers=g("Numbers","Numbers",e("0ï¸","Digit Zero"),e("1ï¸","Digit One"),e("2ï¸","Digit Two"),e("3ï¸","Digit Three"),e("4ï¸","Digit Four"),e("5ï¸","Digit Five"),e("6ï¸","Digit Six"),e("7ï¸","Digit Seven"),e("8ï¸","Digit Eight"),e("9ï¸","Digit Nine"),e("*ï¸","Asterisk"),e("#ï¸","Number Sign"),e("0ï¸âƒ£","Keycap Digit Zero"),e("1ï¸âƒ£","Keycap Digit One"),e("2ï¸âƒ£","Keycap Digit Two"),e("3ï¸âƒ£","Keycap Digit Three"),e("4ï¸âƒ£","Keycap Digit Four"),e("5ï¸âƒ£","Keycap Digit Five"),e("6ï¸âƒ£","Keycap Digit Six"),e("7ï¸âƒ£","Keycap Digit Seven"),e("8ï¸âƒ£","Keycap Digit Eight"),e("9ï¸âƒ£","Keycap Digit Nine"),e("*ï¸âƒ£","Keycap Asterisk"),e("#ï¸âƒ£","Keycap Number Sign"),e("ğŸ”Ÿ","Keycap: 10")),tags=g("Tags","Tags",e("ó € ","Tag Space"),e("ó €¡","Tag Exclamation Mark"),e("ó €¢","Tag Quotation Mark"),e("ó €£","Tag Number Sign"),e("ó €¤","Tag Dollar Sign"),e("ó €¥","Tag Percent Sign"),e("ó €¦","Tag Ampersand"),e("ó €§","Tag Apostrophe"),e("ó €¨","Tag Left Parenthesis"),e("ó €©","Tag Right Parenthesis"),e("ó €ª","Tag Asterisk"),e("ó €«","Tag Plus Sign"),e("ó €¬","Tag Comma"),e("ó €­","Tag Hyphen-Minus"),e("ó €®","Tag Full Stop"),e("ó €¯","Tag Solidus"),e("ó €°","Tag Digit Zero"),e("ó €±","Tag Digit One"),e("ó €²","Tag Digit Two"),e("ó €³","Tag Digit Three"),e("ó €´","Tag Digit Four"),e("ó €µ","Tag Digit Five"),e("ó €¶","Tag Digit Six"),e("ó €·","Tag Digit Seven"),e("ó €¸","Tag Digit Eight"),e("ó €¹","Tag Digit Nine"),e("ó €º","Tag Colon"),e("ó €»","Tag Semicolon"),e("ó €¼","Tag Less-Than Sign"),e("ó €½","Tag Equals Sign"),e("ó €¾","Tag Greater-Than Sign"),e("ó €¿","Tag Question Mark"),e("ó €","Tag Commercial at"),e("ó ","Tag Latin Capital Letter a"),e("ó ‚","Tag Latin Capital Letter B"),e("ó ƒ","Tag Latin Capital Letter C"),e("ó „","Tag Latin Capital Letter D"),e("ó …","Tag Latin Capital Letter E"),e("ó †","Tag Latin Capital Letter F"),e("ó ‡","Tag Latin Capital Letter G"),e("ó ˆ","Tag Latin Capital Letter H"),e("ó ‰","Tag Latin Capital Letter I"),e("ó Š","Tag Latin Capital Letter J"),e("ó ‹","Tag Latin Capital Letter K"),e("ó Œ","Tag Latin Capital Letter L"),e("ó ","Tag Latin Capital Letter M"),e("ó ","Tag Latin Capital Letter N"),e("ó ","Tag Latin Capital Letter O"),e("ó ","Tag Latin Capital Letter P"),e("ó ‘","Tag Latin Capital Letter Q"),e("ó ’","Tag Latin Capital Letter R"),e("ó “","Tag Latin Capital Letter S"),e("ó ”","Tag Latin Capital Letter T"),e("ó •","Tag Latin Capital Letter U"),e("ó –","Tag Latin Capital Letter V"),e("ó —","Tag Latin Capital Letter W"),e("ó ˜","Tag Latin Capital Letter X"),e("ó ™","Tag Latin Capital Letter Y"),e("ó š","Tag Latin Capital Letter Z"),e("ó ›","Tag Left Square Bracket"),e("ó œ","Tag Reverse Solidus"),e("ó ","Tag Right Square Bracket"),e("ó ","Tag Circumflex Accent"),e("ó Ÿ","Tag Low Line"),e("ó  ","Tag Grave Accent"),e("ó ¡","Tag Latin Small Letter a"),e("ó ¢","Tag Latin Small Letter B"),e("ó £","Tag Latin Small Letter C"),e("ó ¤","Tag Latin Small Letter D"),e("ó ¥","Tag Latin Small Letter E"),e("ó ¦","Tag Latin Small Letter F"),e("ó §","Tag Latin Small Letter G"),e("ó ¨","Tag Latin Small Letter H"),e("ó ©","Tag Latin Small Letter I"),e("ó ª","Tag Latin Small Letter J"),e("ó «","Tag Latin Small Letter K"),e("ó ¬","Tag Latin Small Letter L"),e("ó ­","Tag Latin Small Letter M"),e("ó ®","Tag Latin Small Letter N"),e("ó ¯","Tag Latin Small Letter O"),e("ó °","Tag Latin Small Letter P"),e("ó ±","Tag Latin Small Letter Q"),e("ó ²","Tag Latin Small Letter R"),e("ó ³","Tag Latin Small Letter S"),e("ó ´","Tag Latin Small Letter T"),e("ó µ","Tag Latin Small Letter U"),e("ó ¶","Tag Latin Small Letter V"),e("ó ·","Tag Latin Small Letter W"),e("ó ¸","Tag Latin Small Letter X"),e("ó ¹","Tag Latin Small Letter Y"),e("ó º","Tag Latin Small Letter Z"),e("ó »","Tag Left Curly Bracket"),e("ó ¼","Tag Vertical Line"),e("ó ½","Tag Right Curly Bracket"),e("ó ¾","Tag Tilde"),e("ó ¿","Cancel Tag")),math=g("Math","Math",e("âœ–ï¸","Multiply"),e("â•","Plus"),e("â–","Minus"),e("â—","Divide")),games=g("Games","Games",e("â™ ï¸","Spade Suit"),e("â™£ï¸","Club Suit"),e("â™¥ï¸","Heart Suit",{color:"red"}),e("â™¦ï¸","Diamond Suit",{color:"red"}),e("ğŸ€„","Mahjong Red Dragon"),e("ğŸƒ","Joker"),e("ğŸ¯","Direct Hit"),e("ğŸ°","Slot Machine"),e("ğŸ±","Pool 8 Ball"),e("ğŸ²","Game Die"),e("ğŸ³","Bowling"),e("ğŸ´","Flower Playing Cards"),e("ğŸ§©","Puzzle Piece"),e("â™Ÿï¸","Chess Pawn"),e("ğŸª€","Yo-Yo"),e("ğŸª","Kite"),e("ğŸªƒ","Boomerang"),e("ğŸª†","Nesting Dolls")),sportsEquipment=g("Sports Equipment","Sports equipment",e("ğŸ½","Running Shirt"),e("ğŸ¾","Tennis"),e("ğŸ¿","Skis"),e("ğŸ€","Basketball"),e("ğŸ…","Sports Medal"),e("ğŸ†","Trophy"),e("ğŸˆ","American Football"),e("ğŸ‰","Rugby Football"),e("ğŸ","Cricket Game"),e("ğŸ","Volleyball"),e("ğŸ‘","Field Hockey"),e("ğŸ’","Ice Hockey"),e("ğŸ“","Ping Pong"),e("ğŸ¸","Badminton"),e("ğŸ›·","Sled"),e("ğŸ¥…","Goal Net"),e("ğŸ¥‡","1st Place Medal"),e("ğŸ¥ˆ","2nd Place Medal"),e("ğŸ¥‰","3rd Place Medal"),e("ğŸ¥Š","Boxing Glove"),e("ğŸ¥Œ","Curling Stone"),e("ğŸ¥","Lacrosse"),e("ğŸ¥","Softball"),e("ğŸ¥","Flying Disc"),e("âš½","Soccer Ball"),e("âš¾","Baseball"),e("â›¸ï¸","Ice Skate")),clothing=g("Clothing","Clothing",e("ğŸ©","Top Hat"),e("ğŸ¤¿","Diving Mask"),e("ğŸ‘’","Womanâ€™s Hat"),e("ğŸ‘“","Glasses"),e("ğŸ•¶ï¸","Sunglasses"),e("ğŸ‘”","Necktie"),e("ğŸ‘•","T-Shirt"),e("ğŸ‘–","Jeans"),e("ğŸ‘—","Dress"),e("ğŸ‘˜","Kimono"),e("ğŸ‘™","Bikini"),e("ğŸ‘š","Womanâ€™s Clothes"),e("ğŸ‘›","Purse"),e("ğŸ‘œ","Handbag"),e("ğŸ‘","Clutch Bag"),e("ğŸ‘","Manâ€™s Shoe"),e("ğŸ‘Ÿ","Running Shoe"),e("ğŸ‘ ","High-Heeled Shoe"),e("ğŸ‘¡","Womanâ€™s Sandal"),e("ğŸ‘¢","Womanâ€™s Boot"),e("ğŸ¥‹","Martial Arts Uniform"),e("ğŸ¥»","Sari"),e("ğŸ¥¼","Lab Coat"),e("ğŸ¥½","Goggles"),e("ğŸ¥¾","Hiking Boot"),e("ğŸ¥¿","Flat Shoe"),whiteCane,e("ğŸ¦º","Safety Vest"),e("ğŸ§¢","Billed Cap"),e("ğŸ§£","Scarf"),e("ğŸ§¤","Gloves"),e("ğŸ§¥","Coat"),e("ğŸ§¦","Socks"),e("ğŸ§¿","Nazar Amulet"),e("ğŸ©°","Ballet Shoes"),e("ğŸ©±","One-Piece Swimsuit"),e("ğŸ©²","Briefs"),e("ğŸ©³","Shorts"),e("ğŸ©´","Thong Sandal")),town=g("Town","Town",e("ğŸ—ï¸","Building Construction"),e("ğŸ˜ï¸","Houses"),e("ğŸ™ï¸","Cityscape"),e("ğŸšï¸","Derelict House"),e("ğŸ›ï¸","Classical Building"),e("ğŸœï¸","Desert"),e("ğŸï¸","Desert Island"),e("ğŸï¸","National Park"),e("ğŸŸï¸","Stadium"),e("ğŸ ","House"),e("ğŸ¡","House with Garden"),e("ğŸ¢","Office Building"),e("ğŸ£","Japanese Post Office"),e("ğŸ¤","Post Office"),e("ğŸ¥","Hospital"),e("ğŸ¦","Bank"),e("ğŸ§","ATM Sign"),e("ğŸ¨","Hotel"),e("ğŸ©","Love Hotel"),e("ğŸª","Convenience Store"),school,e("ğŸ¬","Department Store"),factory,e("ğŸŒ‰","Bridge at Night"),e("â›²","Fountain"),e("ğŸ›ï¸","Shopping Bags"),e("ğŸ§¾","Receipt"),e("ğŸ›’","Shopping Cart"),e("ğŸ’ˆ","Barber Pole"),e("ğŸ’’","Wedding"),e("ğŸ›–","Hut"),e("ğŸ›—","Elevator"),e("ğŸ—³ï¸","Ballot Box with Ballot")),music=g("Music","Music",e("ğŸ¼","Musical Score"),e("ğŸ¶","Musical Notes"),e("ğŸµ","Musical Note"),e("ğŸ·","Saxophone"),e("ğŸ¸","Guitar"),e("ğŸ¹","Musical Keyboard"),e("ğŸº","Trumpet"),e("ğŸ»","Violin"),e("ğŸ¥","Drum"),e("ğŸª•","Banjo"),e("ğŸª—","Accordion"),e("ğŸª˜","Long Drum")),weather=g("Weather","Weather",e("ğŸŒ„","Sunrise Over Mountains"),e("ğŸŒ…","Sunrise"),e("ğŸŒ†","Cityscape at Dusk"),e("ğŸŒ‡","Sunset"),e("ğŸŒƒ","Night with Stars"),e("ğŸŒ‚","Closed Umbrella"),e("â˜‚ï¸","Umbrella"),e("â˜”ï¸","Umbrella with Rain Drops"),e("â˜ƒï¸","Snowman"),e("â›„","Snowman Without Snow"),e("â˜€ï¸","Sun"),e("â˜ï¸","Cloud"),e("ğŸŒ¤ï¸","Sun Behind Small Cloud"),e("â›…","Sun Behind Cloud"),e("ğŸŒ¥ï¸","Sun Behind Large Cloud"),e("ğŸŒ¦ï¸","Sun Behind Rain Cloud"),e("ğŸŒ§ï¸","Cloud with Rain"),e("ğŸŒ¨ï¸","Cloud with Snow"),e("ğŸŒ©ï¸","Cloud with Lightning"),e("â›ˆï¸","Cloud with Lightning and Rain"),e("â„ï¸","Snowflake"),e("ğŸŒ€","Cyclone"),e("ğŸŒªï¸","Tornado"),e("ğŸŒ¬ï¸","Wind Face"),e("ğŸŒŠ","Water Wave"),e("ğŸŒ«ï¸","Fog"),e("ğŸŒ","Foggy"),e("ğŸŒˆ","Rainbow"),e("ğŸŒ¡ï¸","Thermometer")),astro=g("Astronomy","Astronomy",e("ğŸŒŒ","Milky Way"),e("ğŸŒ","Globe Showing Europe-Africa"),e("ğŸŒ","Globe Showing Americas"),e("ğŸŒ","Globe Showing Asia-Australia"),e("ğŸŒ","Globe with Meridians"),e("ğŸŒ‘","New Moon"),e("ğŸŒ’","Waxing Crescent Moon"),e("ğŸŒ“","First Quarter Moon"),e("ğŸŒ”","Waxing Gibbous Moon"),e("ğŸŒ•","Full Moon"),e("ğŸŒ–","Waning Gibbous Moon"),e("ğŸŒ—","Last Quarter Moon"),e("ğŸŒ˜","Waning Crescent Moon"),e("ğŸŒ™","Crescent Moon"),e("ğŸŒš","New Moon Face"),e("ğŸŒ›","First Quarter Moon Face"),e("ğŸŒœ","Last Quarter Moon Face"),e("ğŸŒ","Full Moon Face"),e("ğŸŒ","Sun with Face"),e("ğŸŒŸ","Glowing Star"),e("ğŸŒ ","Shooting Star"),e("â˜„ï¸","Comet"),e("ğŸª","Ringed Planet")),finance=g("Finance","Finance",e("ğŸ’°","Money Bag"),e("ğŸ’±","Currency Exchange"),e("ğŸ’²","Heavy Dollar Sign"),e("ğŸ’³","Credit Card"),e("ğŸ’´","Yen Banknote"),e("ğŸ’µ","Dollar Banknote"),e("ğŸ’¶","Euro Banknote"),e("ğŸ’·","Pound Banknote"),e("ğŸ’¸","Money with Wings"),e("ğŸ’¹","Chart Increasing with Yen"),e("ğŸª™","Coin")),writing=g("Writing","Writing",e("ğŸ–Šï¸","Pen"),e("ğŸ–‹ï¸","Fountain Pen"),e("ğŸ–Œï¸","Paintbrush"),e("ğŸ–ï¸","Crayon"),e("âœï¸","Pencil"),e("âœ’ï¸","Black Nib")),droplet=e("ğŸ’§","Droplet"),dropOfBlood=e("ğŸ©¸","Drop of Blood"),adhesiveBandage=e("ğŸ©¹","Adhesive Bandage"),stehoscope=e("ğŸ©º","Stethoscope"),syringe=e("ğŸ’‰","Syringe"),pill=e("ğŸ’Š","Pill"),testTube=e("ğŸ§ª","Test Tube"),petriDish=e("ğŸ§«","Petri Dish"),dna=e("ğŸ§¬","DNA"),abacus=e("ğŸ§®","Abacus"),magnet=e("ğŸ§²","Magnet"),telescope=e("ğŸ”­","Telescope"),alembic=e("âš—ï¸","Alembic"),gear=e("âš™ï¸","Gear"),atomSymbol=e("âš›ï¸","Atom Symbol"),keyboard=e("âŒ¨ï¸","Keyboard"),telephone=e("â˜ï¸","Telephone"),studioMicrophone=e("ğŸ™ï¸","Studio Microphone"),levelSlider=e("ğŸšï¸","Level Slider"),controlKnobs=e("ğŸ›ï¸","Control Knobs"),movieCamera=e("ğŸ¥","Movie Camera"),headphone=e("ğŸ§","Headphone"),videoGame=e("ğŸ®","Video Game"),lightBulb=e("ğŸ’¡","Light Bulb"),computerDisk=e("ğŸ’½","Computer Disk"),floppyDisk=e("ğŸ’¾","Floppy Disk"),opticalDisk=e("ğŸ’¿","Optical Disk"),dvd=e("ğŸ“€","DVD"),telephoneReceiver=e("ğŸ“","Telephone Receiver"),pager=e("ğŸ“Ÿ","Pager"),faxMachine=e("ğŸ“ ","Fax Machine"),satelliteAntenna=e("ğŸ“¡","Satellite Antenna"),loudspeaker=e("ğŸ“¢","Loudspeaker"),megaphone=e("ğŸ“£","Megaphone"),mobilePhone=e("ğŸ“±","Mobile Phone"),mobilePhoneWithArrow=e("ğŸ“²","Mobile Phone with Arrow"),mobilePhoneVibrating=e("ğŸ“³","Mobile Phone Vibrating"),mobilePhoneOff=e("ğŸ“´","Mobile Phone Off"),noMobilePhone=e("ğŸ“µ","No Mobile Phone"),antennaBars=e("ğŸ“¶","Antenna Bars"),camera=e("ğŸ“·","Camera"),cameraWithFlash=e("ğŸ“¸","Camera with Flash"),videoCamera=e("ğŸ“¹","Video Camera"),television=e("ğŸ“º","Television"),radio=e("ğŸ“»","Radio"),videocassette=e("ğŸ“¼","Videocassette"),filmProjector=e("ğŸ“½ï¸","Film Projector"),portableStereo=e("ğŸ“¾ï¸","Portable Stereo"),dimButton=e("ğŸ”…","Dim Button"),brightButton=e("ğŸ”†","Bright Button"),mutedSpeaker=e("ğŸ”‡","Muted Speaker"),speakerLowVolume=e("ğŸ”ˆ","Speaker Low Volume"),speakerMediumVolume=e("ğŸ”‰","Speaker Medium Volume"),speakerHighVolume=e("ğŸ”Š","Speaker High Volume"),battery=e("ğŸ”‹","Battery"),electricPlug=e("ğŸ”Œ","Electric Plug"),magnifyingGlassTiltedLeft=e("ğŸ”","Magnifying Glass Tilted Left"),magnifyingGlassTiltedRight=e("ğŸ”","Magnifying Glass Tilted Right"),lockedWithPen=e("ğŸ”","Locked with Pen"),lockedWithKey=e("ğŸ”","Locked with Key"),key=e("ğŸ”‘","Key"),locked=e("ğŸ”’","Locked"),unlocked=e("ğŸ”“","Unlocked"),bell=e("ğŸ””","Bell"),bellWithSlash=e("ğŸ”•","Bell with Slash"),bookmark=e("ğŸ”–","Bookmark"),link=e("ğŸ”—","Link"),joystick=e("ğŸ•¹ï¸","Joystick"),desktopComputer=e("ğŸ–¥ï¸","Desktop Computer"),printer=e("ğŸ–¨ï¸","Printer"),computerMouse=e("ğŸ–±ï¸","Computer Mouse"),trackball=e("ğŸ–²ï¸","Trackball"),blackFolder=e("ğŸ–¿","Black Folder"),folder=e("ğŸ—€","Folder"),openFolder=e("ğŸ—","Open Folder"),cardIndexDividers=e("ğŸ—‚","Card Index Dividers"),cardFileBox=e("ğŸ—ƒ","Card File Box"),fileCabinet=e("ğŸ—„","File Cabinet"),emptyNote=e("ğŸ—…","Empty Note"),emptyNotePage=e("ğŸ—†","Empty Note Page"),emptyNotePad=e("ğŸ—‡","Empty Note Pad"),note=e("ğŸ—ˆ","Note"),notePage=e("ğŸ—‰","Note Page"),notePad=e("ğŸ—Š","Note Pad"),emptyDocument=e("ğŸ—‹","Empty Document"),emptyPage=e("ğŸ—Œ","Empty Page"),emptyPages=e("ğŸ—","Empty Pages"),document$1=e("ğŸ—","Document"),page=e("ğŸ—","Page"),pages=e("ğŸ—","Pages"),wastebasket=e("ğŸ—‘","Wastebasket"),spiralNotePad=e("ğŸ—’","Spiral Note Pad"),spiralCalendar=e("ğŸ—“","Spiral Calendar"),desktopWindow=e("ğŸ—”","Desktop Window"),minimize=e("ğŸ—•","Minimize"),maximize=e("ğŸ—–","Maximize"),overlap=e("ğŸ——","Overlap"),reload=e("ğŸ—˜","Reload"),close=e("ğŸ—™","Close"),increaseFontSize=e("ğŸ—š","Increase Font Size"),decreaseFontSize=e("ğŸ—›","Decrease Font Size"),clamp$1=e("ğŸ—œ","Compression"),oldKey=e("ğŸ—","Old Key"),tech=g("Technology","Technology",joystick,videoGame,lightBulb,laptop,briefcase,computerDisk,floppyDisk,opticalDisk,dvd,desktopComputer,keyboard,printer,computerMouse,trackball,telephone,telephoneReceiver,pager,faxMachine,satelliteAntenna,loudspeaker,megaphone,television,radio,videocassette,filmProjector,studioMicrophone,levelSlider,controlKnobs,microphone,movieCamera,headphone,camera,cameraWithFlash,videoCamera,mobilePhone,mobilePhoneOff,mobilePhoneWithArrow,lockedWithPen,lockedWithKey,locked,unlocked,bell,bellWithSlash,bookmark,link,mobilePhoneVibrating,antennaBars,dimButton,brightButton,mutedSpeaker,speakerLowVolume,speakerMediumVolume,speakerHighVolume,battery,electricPlug),mail=g("Mail","Mail",e("ğŸ“¤","Outbox Tray"),e("ğŸ“¥","Inbox Tray"),e("ğŸ“¦","Package"),e("ğŸ“§","E-Mail"),e("ğŸ“¨","Incoming Envelope"),e("ğŸ“©","Envelope with Arrow"),e("ğŸ“ª","Closed Mailbox with Lowered Flag"),e("ğŸ“«","Closed Mailbox with Raised Flag"),e("ğŸ“¬","Open Mailbox with Raised Flag"),e("ğŸ“­","Open Mailbox with Lowered Flag"),e("ğŸ“®","Postbox"),e("ğŸ“¯","Postal Horn")),celebration=g("Celebration","Celebration",e("ğŸª…","PiÃ±ata"),e("ğŸ€","Ribbon"),e("ğŸ","Wrapped Gift"),e("ğŸƒ","Jack-O-Lantern"),e("ğŸ„","Christmas Tree"),e("ğŸ§¨","Firecracker"),e("ğŸ†","Fireworks"),e("ğŸ‡","Sparkler"),e("âœ¨","Sparkles"),e("â‡ï¸","Sparkle"),e("ğŸˆ","Balloon"),e("ğŸ‰","Party Popper"),e("ğŸŠ","Confetti Ball"),e("ğŸ‹","Tanabata Tree"),e("ğŸ","Pine Decoration"),e("ğŸ","Japanese Dolls"),e("ğŸ","Carp Streamer"),e("ğŸ","Wind Chime"),e("ğŸ‘","Moon Viewing Ceremony"),e("ğŸ’","Backpack"),graduationCap,e("ğŸ§§","Red Envelope"),e("ğŸ®","Red Paper Lantern"),e("ğŸ–ï¸","Military Medal")),tools=g("Tools","Tools",e("ğŸ£","Fishing Pole"),e("ğŸ”¦","Flashlight"),wrench,e("ğŸ”¨","Hammer"),e("ğŸ”©","Nut and Bolt"),e("ğŸ› ï¸","Hammer and Wrench"),e("ğŸ§­","Compass"),e("ğŸ§¯","Fire Extinguisher"),e("ğŸ§°","Toolbox"),e("ğŸ§±","Brick"),e("ğŸª“","Axe"),e("âš’ï¸","Hammer and Pick"),e("â›ï¸","Pick"),e("â›‘ï¸","Rescue Workerâ€™s Helmet"),e("â›“ï¸","Chains"),clamp$1,e("ğŸªš","Carpentry Saw"),e("ğŸª›","Screwdriver"),e("ğŸªœ","Ladder"),e("ğŸª","Hook")),office=g("Office","Office",e("ğŸ“","File Folder"),e("ğŸ“‚","Open File Folder"),e("ğŸ“ƒ","Page with Curl"),e("ğŸ“„","Page Facing Up"),e("ğŸ“…","Calendar"),e("ğŸ“†","Tear-Off Calendar"),e("ğŸ“‡","Card Index"),cardIndexDividers,cardFileBox,fileCabinet,wastebasket,spiralNotePad,spiralCalendar,e("ğŸ“ˆ","Chart Increasing"),e("ğŸ“‰","Chart Decreasing"),e("ğŸ“Š","Bar Chart"),e("ğŸ“‹","Clipboard"),e("ğŸ“Œ","Pushpin"),e("ğŸ“","Round Pushpin"),e("ğŸ“","Paperclip"),e("ğŸ–‡ï¸","Linked Paperclips"),e("ğŸ“","Straight Ruler"),e("ğŸ“","Triangular Ruler"),e("ğŸ“‘","Bookmark Tabs"),e("ğŸ“’","Ledger"),e("ğŸ““","Notebook"),e("ğŸ“”","Notebook with Decorative Cover"),e("ğŸ“•","Closed Book"),e("ğŸ“–","Open Book"),e("ğŸ“—","Green Book"),e("ğŸ“˜","Blue Book"),e("ğŸ“™","Orange Book"),e("ğŸ“š","Books"),e("ğŸ“›","Name Badge"),e("ğŸ“œ","Scroll"),e("ğŸ“","Memo"),e("âœ‚ï¸","Scissors"),e("âœ‰ï¸","Envelope")),signs=g("Signs","Signs",e("ğŸ¦","Cinema"),noMobilePhone,e("ğŸ”","No One Under Eighteen"),e("ğŸš«","Prohibited"),e("ğŸš¬","Cigarette"),e("ğŸš­","No Smoking"),e("ğŸš®","Litter in Bin Sign"),e("ğŸš¯","No Littering"),e("ğŸš°","Potable Water"),e("ğŸš±","Non-Potable Water"),e("ğŸš³","No Bicycles"),e("ğŸš·","No Pedestrians"),e("ğŸš¸","Children Crossing"),e("ğŸš¹","Menâ€™s Room"),e("ğŸšº","Womenâ€™s Room"),e("ğŸš»","Restroom"),e("ğŸš¼","Baby Symbol"),e("ğŸš¾","Water Closet"),e("ğŸ›‚","Passport Control"),e("ğŸ›ƒ","Customs"),e("ğŸ›„","Baggage Claim"),e("ğŸ›…","Left Luggage"),e("ğŸ…¿ï¸","Parking Button"),e("â™¿","Wheelchair Symbol"),e("â˜¢ï¸","Radioactive"),e("â˜£ï¸","Biohazard"),e("âš ï¸","Warning"),e("âš¡","High Voltage"),e("â›”","No Entry"),e("â™»ï¸","Recycling Symbol"),female,male,e("âš§ï¸","Transgender Symbol")),religion=g("Religion","Religion",e("ğŸ”¯","Dotted Six-Pointed Star"),e("âœ¡ï¸","Star of David"),e("ğŸ•‰ï¸","Om"),e("ğŸ•‹","Kaaba"),e("ğŸ•Œ","Mosque"),e("ğŸ•","Synagogue"),e("ğŸ•","Menorah"),e("ğŸ›","Place of Worship"),e("ğŸ›•","Hindu Temple"),e("â˜¦ï¸","Orthodox Cross"),e("âœï¸","Latin Cross"),e("â˜ªï¸","Star and Crescent"),e("â˜®ï¸","Peace Symbol"),e("â˜¯ï¸","Yin Yang"),e("â˜¸ï¸","Wheel of Dharma"),e("â™¾ï¸","Infinity"),e("ğŸª”","Diya Lamp"),e("â›©ï¸","Shinto Shrine"),e("â›ª","Church"),e("âœ´ï¸","Eight-Pointed Star"),e("ğŸ“¿","Prayer Beads")),door=e("ğŸšª","Door"),household=g("Household","Household",e("ğŸ’„","Lipstick"),e("ğŸ’","Ring"),e("ğŸ’","Gem Stone"),e("ğŸ“°","Newspaper"),key,e("ğŸ”¥","Fire"),e("ğŸª¨","Rock"),e("ğŸªµ","Wood"),e("ğŸ”«","Pistol"),e("ğŸ•¯ï¸","Candle"),e("ğŸ–¼ï¸","Framed Picture"),oldKey,e("ğŸ—ï¸","Rolled-Up Newspaper"),e("ğŸ—ºï¸","World Map"),door,e("ğŸš½","Toilet"),e("ğŸš¿","Shower"),e("ğŸ›","Bathtub"),e("ğŸ›‹ï¸","Couch and Lamp"),e("ğŸ›ï¸","Bed"),e("ğŸ§´","Lotion Bottle"),e("ğŸ§µ","Thread"),e("ğŸ§¶","Yarn"),e("ğŸ§·","Safety Pin"),e("ğŸ§¸","Teddy Bear"),e("ğŸ§¹","Broom"),e("ğŸ§º","Basket"),e("ğŸ§»","Roll of Paper"),e("ğŸ§¼","Soap"),e("ğŸ§½","Sponge"),e("ğŸª‘","Chair"),e("ğŸª’","Razor"),e("ğŸª","Mirror"),e("ğŸªŸ","Window"),e("ğŸª ","Plunger"),e("ğŸª¡","Sewing Needle"),e("ğŸª¢","Knot"),e("ğŸª£","Bucket"),e("ğŸª¤","Mouse Trap"),e("ğŸª¥","Toothbrush"),e("ğŸª¦","Headstone"),e("ğŸª§","Placard"),e("ğŸ—ï¸","Reminder Ribbon")),activities=g("Activities","Activities",e("ğŸï¸","Film Frames"),e("ğŸŸï¸","Admission Tickets"),e("ğŸ ","Carousel Horse"),e("ğŸ¡","Ferris Wheel"),e("ğŸ¢","Roller Coaster"),artistPalette,e("ğŸª","Circus Tent"),e("ğŸ«","Ticket"),e("ğŸ¬","Clapper Board"),e("ğŸ­","Performing Arts")),travel=g("Travel","Travel",e("ğŸ·ï¸","Label"),e("ğŸŒ‹","Volcano"),e("ğŸ”ï¸","Snow-Capped Mountain"),e("â›°ï¸","Mountain"),e("ğŸ•ï¸","Camping"),e("ğŸ–ï¸","Beach with Umbrella"),e("â›±ï¸","Umbrella on Ground"),e("ğŸ¯","Japanese Castle"),e("ğŸ‘£","Footprints"),e("ğŸ—»","Mount Fuji"),e("ğŸ—¼","Tokyo Tower"),e("ğŸ—½","Statue of Liberty"),e("ğŸ—¾","Map of Japan"),e("ğŸ—¿","Moai"),e("ğŸ›ï¸","Bellhop Bell"),e("ğŸ§³","Luggage"),e("â›³","Flag in Hole"),e("â›º","Tent"),e("â™¨ï¸","Hot Springs")),medieval=g("Medieval","Medieval",e("ğŸ°","Castle"),e("ğŸ¹","Bow and Arrow"),crown,e("ğŸ”±","Trident Emblem"),e("ğŸ—¡ï¸","Dagger"),e("ğŸ›¡ï¸","Shield"),e("ğŸ”®","Crystal Ball"),e("ğŸª„","Magic Wand"),e("âš”ï¸","Crossed Swords"),e("âšœï¸","Fleur-de-lis"),e("ğŸª–","Military Helmet")),doubleExclamationMark=e("â€¼ï¸","Double Exclamation Mark"),interrobang=e("â‰ï¸","Exclamation Question Mark"),information=e("â„¹ï¸","Information"),circledM=e("â“‚ï¸","Circled M"),checkMarkButton=e("âœ…","Check Mark Button"),checkMark=e("âœ”ï¸","Check Mark"),eightSpokedAsterisk=e("âœ³ï¸","Eight-Spoked Asterisk"),crossMark=e("âŒ","Cross Mark"),crossMarkButton=e("â","Cross Mark Button"),questionMark=e("â“","Question Mark"),whiteQuestionMark=e("â”","White Question Mark"),whiteExclamationMark=e("â•","White Exclamation Mark"),exclamationMark=e("â—","Exclamation Mark"),curlyLoop=e("â°","Curly Loop"),doubleCurlyLoop=e("â¿","Double Curly Loop"),wavyDash=e("ã€°ï¸","Wavy Dash"),partAlternationMark=e("ã€½ï¸","Part Alternation Mark"),tradeMark=e("â„¢ï¸","Trade Mark"),copyright=e("Â©ï¸","Copyright"),registered=e("Â®ï¸","Registered"),squareFourCourners=e("â›¶ï¸","Square: Four Corners"),marks=gg("Marks","Marks",{doubleExclamationMark:doubleExclamationMark,interrobang:interrobang,information:information,circledM:circledM,checkMarkButton:checkMarkButton,checkMark:checkMark,eightSpokedAsterisk:eightSpokedAsterisk,crossMark:crossMark,crossMarkButton:crossMarkButton,questionMark:questionMark,whiteQuestionMark:whiteQuestionMark,whiteExclamationMark:whiteExclamationMark,exclamationMark:exclamationMark,curlyLoop:curlyLoop,doubleCurlyLoop:doubleCurlyLoop,wavyDash:wavyDash,partAlternationMark:partAlternationMark,tradeMark:tradeMark,copyright:copyright,registered:registered}),dice1=e("âš€","Dice: Side 1"),dice2=e("âš","Dice: Side 2"),dice3=e("âš‚","Dice: Side 3"),dice4=e("âšƒ","Dice: Side 4"),dice5=e("âš„","Dice: Side 5"),dice6=e("âš…","Dice: Side 6"),dice=gg("Dice","Dice",{dice1:dice1,dice2:dice2,dice3:dice3,dice4:dice4,dice5:dice5,dice6:dice6}),whiteChessKing=e("â™”","White Chess King"),whiteChessQueen=e("â™•","White Chess Queen"),whiteChessRook=e("â™–","White Chess Rook"),whiteChessBishop=e("â™—","White Chess Bishop"),whiteChessKnight=e("â™˜","White Chess Knight"),whiteChessPawn=e("â™™","White Chess Pawn"),whiteChessPieces=gg(whiteChessKing.value+whiteChessQueen.value+whiteChessRook.value+whiteChessBishop.value+whiteChessKnight.value+whiteChessPawn.value,"White Chess Pieces",{width:"auto",king:whiteChessKing,queen:whiteChessQueen,rook:whiteChessRook,bishop:whiteChessBishop,knight:whiteChessKnight,pawn:whiteChessPawn}),blackChessKing=e("â™š","Black Chess King"),blackChessQueen=e("â™›","Black Chess Queen"),blackChessRook=e("â™œ","Black Chess Rook"),blackChessBishop=e("â™","Black Chess Bishop"),blackChessKnight=e("â™","Black Chess Knight"),blackChessPawn=e("â™Ÿ","Black Chess Pawn"),blackChessPieces=gg(blackChessKing.value+blackChessQueen.value+blackChessRook.value+blackChessBishop.value+blackChessKnight.value+blackChessPawn.value,"Black Chess Pieces",{width:"auto",king:blackChessKing,queen:blackChessQueen,rook:blackChessRook,bishop:blackChessBishop,knight:blackChessKnight,pawn:blackChessPawn}),chessPawns=gg(whiteChessPawn.value+blackChessPawn.value,"Chess Pawns",{width:"auto",white:whiteChessPawn,black:blackChessPawn}),chessRooks=gg(whiteChessRook.value+blackChessRook.value,"Chess Rooks",{width:"auto",white:whiteChessRook,black:blackChessRook}),chessBishops=gg(whiteChessBishop.value+blackChessBishop.value,"Chess Bishops",{width:"auto",white:whiteChessBishop,black:blackChessBishop}),chessKnights=gg(whiteChessKnight.value+blackChessKnight.value,"Chess Knights",{width:"auto",white:whiteChessKnight,black:blackChessKnight}),chessQueens=gg(whiteChessQueen.value+blackChessQueen.value,"Chess Queens",{width:"auto",white:whiteChessQueen,black:blackChessQueen}),chessKings=gg(whiteChessKing.value+blackChessKing.value,"Chess Kings",{width:"auto",white:whiteChessKing,black:blackChessKing}),chess=gg("Chess Pieces","Chess Pieces",{width:"auto",white:whiteChessPieces,black:blackChessPieces,pawns:chessPawns,rooks:chessRooks,bishops:chessBishops,knights:chessKnights,queens:chessQueens,kings:chessKings}),science=gg("Science","Science",{droplet:droplet,dropOfBlood:dropOfBlood,adhesiveBandage:adhesiveBandage,stehoscope:stehoscope,syringe:syringe,pill:pill,microscope:microscope,testTube:testTube,petriDish:petriDish,dna:dna,abacus:abacus,magnet:magnet,telescope:telescope,medical:medical,balanceScale:balanceScale,alembic:alembic,gear:gear,atomSymbol:atomSymbol,magnifyingGlassTiltedLeft:magnifyingGlassTiltedLeft,magnifyingGlassTiltedRight:magnifyingGlassTiltedRight}),allIcons=gg("All Icons","All Icons",{faces:faces,love:love,cartoon:cartoon,hands:hands,bodyParts:bodyParts,people:people,gestures:gestures,inMotion:inMotion,resting:resting,roles:roles,fantasy:fantasy,animals:animals,plants:plants,food:food,flags:flags,vehicles:vehicles,clocks:clocks,arrows:arrows,shapes:shapes,buttons:buttons,zodiac:zodiac,chess:chess,dice:dice,math:math,games:games,sportsEquipment:sportsEquipment,clothing:clothing,town:town,music:music,weather:weather,astro:astro,finance:finance,writing:writing,science:science,tech:tech,mail:mail,celebration:celebration,tools:tools,office:office,signs:signs,religion:religion,household:household,activities:activities,travel:travel,medieval:medieval});function gridPos(e,t,i=null,n=null){return null===i&&(i=1),null===n&&(n=1),gridArea(`${t}/${e}/${t+n}/${e+i}`)}function col(e,t=null){return null===t&&(t=1),gridColumn(`${e}/${e+t}`)}function row(e,t=null){return null===t&&(t=1),gridRow(`${e}/${e+t}`)}function gridDef(e,t){return styles(gridColsDef(...e),gridRowsDef(...t))}const displayGrid=display("grid");function gridColsDef(...e){return styles(displayGrid,gridTemplateColumns(e.join(" ")))}function gridRowsDef(...e){return styles(displayGrid,gridTemplateRows(e.join(" ")))}const hiddenEvt=new Event("hidden");class FormDialog extends EventTarget{constructor(e,t){super();const i=styles(gridDef(["5fr","1fr","1fr"],["auto","auto","1fr","auto","auto"]),overflowY("hidden"));this.element=document.getElementById(e)||Div(id(e),className("dialog"),Div(gridColsDef("1fr","auto"),col(1,3),H1(col(1),margin("0"),t),Button(col(2),padding("1em"),close.value,onClick(()=>this.hide())))),i.apply(this.element),this.header=this.element.querySelector(".header")||this.element.appendChild(Div(className("header"))),gridPos(1,2,3,1).apply(this.header),this.content=this.element.querySelector(".content")||this.element.appendChild(Div(className("content"))),styles(gridPos(1,3,3,1),overflowY("scroll")).apply(this.content),this.footer=this.element.querySelector(".footer")||this.element.appendChild(Div(className("footer"))),styles(gridPos(1,4,3,1),display("flex"),flexDirection("row-reverse")).apply(this.footer)}appendChild(e){return this.element.appendChild(e)}append(...e){this.element.append(...e)}show(){this.element.show("grid")}async showAsync(){this.show(),await this.once("hidden")}hide(){this.element.hide(),this.dispatchEvent(hiddenEvt)}toggleOpen(){this.isOpen?this.hide():this.show()}get isOpen(){return this.element.isOpen()}set isOpen(e){e!==this.isOpen&&this.toggleOpen()}}const headerStyle=styles(textDecoration("none"),color("black"),textTransform("capitalize")),buttonStyle=styles(fontSize("200%"),width$1("2em")),cancelEvt=new Event("emojiCanceled");class EmojiForm extends FormDialog{constructor(){super("emoji","Emoji"),this.header.append(H2("Recent"),this.recent=P("(None)"));const e=[],t=[];let i=null,n=0;function s(e,t){let i=e.value,n=i.indexOf(emojiStyle.value);return-1===n&&(n=i.indexOf(textStyle.value)),n>=0&&(i=i.substring(0,n)),{value:i+t.value,desc:e.desc+"/"+t.desc}}const a=(e,o,r)=>{const A=e.alts||e;for(let e of A){const A=Button(title(e.desc),buttonStyle,onClick(t=>{i=i&&t.ctrlKey?s(i,e):e,this.preview.innerHTML=`${i.value} - ${i.desc}`,this.confirmButton.unlock(),l&&(l.toggleOpen(),A.innerHTML=e.value+(l.isOpen()?"-":"+"))}),e.value);let l=null,c=null;r?(A.id="emoji-with-alt-"+n++,c=UL(LI(A,Label(htmlFor(A.id),e.desc)))):c=Span(A),e.alts&&(l=Div(),t.push(l),a(e,l,!0),l.hide(),c.appendChild(l),A.style.width="3em",A.innerHTML+="+"),e.width&&(A.style.width=e.width),e.color&&(A.style.color=e.color),o.appendChild(c)}};for(let e of Object.values(allIcons))if(e instanceof EmojiGroup){const t=H1(),i=P(),n=A(href("javascript:undefined"),title(e.desc),headerStyle,onClick(()=>{i.toggleOpen(),n.innerHTML=e.value+(i.isOpen()?" -":" +")}),e.value+" -");a(e,i),t.appendChild(n),this.content.appendChild(t),this.content.appendChild(i)}this.footer.append(this.confirmButton=Button(className("confirm"),"OK",onClick(()=>{-1===e.indexOf(i)&&(e.push(i),this.recent.innerHTML="",a(e,this.recent)),this.dispatchEvent(new EmojiSelectedEvent(i)),this.hide()})),Button(className("cancel"),"Cancel",onClick(()=>{this.confirmButton.lock(),this.dispatchEvent(cancelEvt),this.hide()})),this.preview=Span(gridPos(1,4,3,1))),this.confirmButton.lock(),this.selectAsync=()=>new Promise((e,i)=>{let n=null,s=null;const a=()=>{this.removeEventListener("emojiSelected",n),this.removeEventListener("emojiCanceled",s),this.removeEventListener("hidden",s)};n=t=>{a();try{e(t.emoji)}catch(e){i(e)}},s=()=>{a(),e(null)},this.addEventListener("emojiSelected",n),this.addEventListener("emojiCanceled",s),this.addEventListener("hidden",s),(()=>{for(let e of t)e.hide()})(),this.show()})}}class EmojiSelectedEvent extends Event{constructor(e){super("emojiSelected"),this.emoji=e}}const toggleAudioEvt=new Event("toggleAudio"),toggleVideoEvt=new Event("toggleVideo"),emoteEvt=new Event("emote"),selectEmojiEvt=new Event("selectEmoji"),subelStyle=styles(fontSize("1.25em"),width$1("3em"),height$1("100%")),pointerEventsAll=pointerEvents("all"),subButtonStyle=styles(fontSize("1.25em"),height$1("100%")),buttonLabelStyle=fontSize("12px");class FooterBar extends EventTarget{constructor(){super();const e=e=>()=>this.dispatchEvent(e);this.muteAudioButton=null,this.element=Div(id("footbar"),gridColsDef("auto","1fr","auto"),padding("4px"),width$1("100%"),columnGap("5px"),backgroundColor("transparent"),pointerEvents("none"),Button(title("Toggle audio mute/unmute"),onClick(e(toggleAudioEvt)),gridPos(1,1),subelStyle,pointerEventsAll,this.muteAudioButton=Run(speakerHighVolume.value),Run(buttonLabelStyle,"Audio")),this.emojiControl=Span(gridPos(2,1),textAlign("center"),subButtonStyle,Button(title("Emote"),onClick(e(emoteEvt)),subButtonStyle,pointerEventsAll,borderRight("none"),this.emoteButton=Run(whiteFlower.value),Run(buttonLabelStyle,"Emote")),Button(title("Select Emoji"),onClick(e(selectEmojiEvt)),subButtonStyle,pointerEventsAll,borderLeft("none"),Run(upwardsButton.value),Run(buttonLabelStyle,"Change"))),Button(title("Toggle video mute/unmute"),onClick(e(toggleVideoEvt)),gridPos(3,1),subelStyle,pointerEventsAll,this.muteVideoButton=Run(noMobilePhone.value),Run(buttonLabelStyle,"Video"))),this._audioEnabled=!0,this._videoEnabled=!1,Object.seal(this)}get enabled(){return!this.muteAudioButton.disabled}set enabled(e){for(let t of this.element.querySelectorAll("button"))t.disabled=!e}get audioEnabled(){return this._audioEnabled}set audioEnabled(e){this._audioEnabled=e,this.muteAudioButton.updateLabel(e,speakerHighVolume.value,mutedSpeaker.value)}get videoEnabled(){return this._videoEnabled}set videoEnabled(e){this._videoEnabled=e,this.muteVideoButton.updateLabel(e,videoCamera.value,noMobilePhone.value)}setEmojiButton(e,t){this.emoteButton.innerHTML=t.value}}const toggleOptionsEvt=new Event("toggleOptions"),tweetEvt=new Event("tweet"),leaveEvt=new Event("leave"),toggleFullscreenEvt=new Event("toggleFullscreen"),toggleInstructionsEvt=new Event("toggleInstructions"),toggleUserDirectoryEvt=new Event("toggleUserDirectory"),subelStyle$1=styles(pointerEvents("all"),fontSize("1.25em"),width$1("3em"),height$1("100%")),buttonLabelStyle$1=fontSize("12px");class HeaderBar extends EventTarget{constructor(){super();const e=e=>()=>this.dispatchEvent(e);this.element=Div(id("headbar"),gridColsDef("auto","auto","auto","auto","1fr","auto","auto"),padding("4px"),width$1("100%"),columnGap("5px"),backgroundColor("transparent"),pointerEvents("none"),this.optionsButton=Button(title("Show/hide options"),onClick(e(toggleOptionsEvt)),subelStyle$1,gridPos(1,1),Run(gear.value),Run(buttonLabelStyle$1,"Options")),this.instructionsButton=Button(title("Show/hide instructions"),onClick(e(toggleInstructionsEvt)),subelStyle$1,gridPos(2,1),Run(questionMark.value),Run(buttonLabelStyle$1,"Info")),Button(title("Share your current room to twitter"),onClick(e(tweetEvt)),subelStyle$1,gridPos(3,1),Img(src("https://cdn2.iconfinder.com/data/icons/minimalism/512/twitter.png"),alt("icon"),role("presentation"),height$1("25px"),marginBottom("-7px")),Run(buttonLabelStyle$1,"Tweet")),Button(title("View user directory"),onClick(e(toggleUserDirectoryEvt)),subelStyle$1,gridPos(4,1),Run(speakingHead.value),Run(buttonLabelStyle$1,"Users")),this.fullscreenButton=Button(title("Toggle fullscreen"),onClick(e(toggleFullscreenEvt)),onClick(()=>this.isFullscreen=!this.isFullscreen),subelStyle$1,gridPos(6,1),Run(squareFourCourners.value),Run(buttonLabelStyle$1,"Expand")),Button(title("Leave the room"),onClick(e(leaveEvt)),subelStyle$1,gridPos(7,1),Run(door.value),Run(buttonLabelStyle$1,"Leave"))),Object.seal(this)}get isFullscreen(){return null!==document.fullscreenElement}set isFullscreen(e){e?document.body.requestFullscreen():document.exitFullscreen(),this.fullscreenButton.updateLabel(e,downRightArrow.value,squareFourCourners.value)}get enabled(){return!this.instructionsButton.disabled}set enabled(e){for(let t of this.element.querySelectorAll("button"))t.disabled=!e}}const defaultRooms=new Map([["calla","Calla"],["island","Island"],["alxcc","Alexandria Code & Coffee"],["vurv","Vurv"]]),selfs=new WeakMap;class LoginFormPrivate{constructor(e){this.ready=!1,this.connecting=!1,this.connected=!1,this.parent=e}validate(){const e=this.parent.roomName.length>0&&this.parent.userName.length>0;this.parent.connectButton.setLocked(!this.ready||this.connecting||this.connected||!e),this.parent.connectButton.innerHTML=this.connected?"Connected":this.connecting?"Connecting...":this.ready?"Connect":"Loading..."}}class LoginForm extends FormDialog{constructor(){super("login","Login");const e=new LoginFormPrivate(this);selfs.set(this,e);const t=()=>e.validate();this.roomLabel=this.element.querySelector("label[for='roomSelector']"),this.roomSelect=SelectBox("No rooms available",e=>e,e=>defaultRooms.get(e),this.element.querySelector("#roomSelector")),this.roomSelect.addEventListener("input",t),this.roomSelect.emptySelectionEnabled=!1,this.roomSelect.values=defaultRooms.keys(),this.roomSelect.selectedIndex=0,this.roomInput=this.element.querySelector("#roomName"),this.roomInput.addEventListener("input",t),this.roomInput.addEventListener("enter",()=>{this.userNameInput.focus()}),this.userNameInput=this.element.querySelector("#userName"),this.userNameInput.addEventListener("input",t),this.userNameInput.addEventListener("enter",()=>{0===this.userName.length?this.userNameInput.focus():0===this.roomName.length&&(this.roomSelectMode?this.roomSelect.focus():this.roomInput.focus())}),this.createRoomButton=this.element.querySelector("#createNewRoom"),this.createRoomButton.addEventListener("click",()=>{this.roomSelectMode=!this.roomSelectMode}),this.connectButton=this.element.querySelector("#connect"),this.addEventListener("login",()=>{this.connecting=!0}),this.roomSelectMode=!0,e.validate()}addEventListener(e,t,i){"login"===e?this.connectButton.addEventListener("click",t,i):super.addEventListener(e,t,i)}removeEventListener(e,t){"login"===e?this.connectButton.removeEventListener("click",t):super.removeEventListener(e,t)}get roomSelectMode(){return"none"!==this.roomSelect.style.display}set roomSelectMode(e){const t=selfs.get(this);this.roomSelect.setOpen(e),this.roomInput.setOpen(!e),this.createRoomButton.innerHTML=e?"New":"Cancel",e?(this.roomLabel.htmlFor=this.roomSelect.id,this.roomSelect.selectedValue=this.roomInput.value.toLocaleLowerCase()):this.roomSelect.selectedIndex>=0&&(this.roomLabel.htmlFor=this.roomInput.id,this.roomInput.value=this.roomSelect.selectedValue),t.validate()}get roomName(){const e=this.roomSelectMode?this.roomSelect.selectedValue:this.roomInput.value;return e&&e.toLocaleLowerCase()||""}set roomName(e){null!=e&&0!==e.length||(e=defaultRooms.keys().next()),this.roomInput.value=e,this.roomSelect.selectedValue=e,this.roomSelectMode=this.roomSelect.contains(e),selfs.get(this).validate()}set userName(e){this.userNameInput.value=e,selfs.get(this).validate()}get userName(){return this.userNameInput.value}get connectButtonText(){return this.connectButton.innerText||this.connectButton.textContent}set connectButtonText(e){this.connectButton.innerHTML=e}get ready(){return selfs.get(this).ready}set ready(e){const t=selfs.get(this);t.ready=e,t.validate()}get connecting(){return selfs.get(this).connecting}set connecting(e){const t=selfs.get(this);t.connecting=e,t.validate()}get connected(){return selfs.get(this).connected}set connected(e){selfs.get(this).connected=e,this.connecting=!1}show(){this.ready=!0,super.show()}}const gamepadStates=new Map;class EventedGamepad extends EventTarget{constructor(e){if(super(),!(e instanceof Gamepad))throw new Error("Value must be a Gamepad");this.id=e.id,this.displayId=e.displayId,this.connected=e.connected,this.hand=e.hand,this.pose=e.pose;const t={btnDownEvts:[],btnUpEvts:[],btnState:[],axisMaxed:[],axisMaxEvts:[],sticks:[]};this.lastButtons=[],this.buttons=[],this.axes=[],this.hapticActuators=[],this.axisThresholdMax=.9,this.axisThresholdMin=.1,this._isStick=t=>t%2==0&&t<e.axes.length-1;for(let i=0;i<e.buttons.length;++i)t.btnDownEvts[i]=Object.assign(new Event("gamepadbuttondown"),{button:i}),t.btnUpEvts[i]=Object.assign(new Event("gamepadbuttonup"),{button:i}),t.btnState[i]=!1,this.lastButtons[i]=null,this.buttons[i]=e.buttons[i];for(let i=0;i<e.axes.length;++i)t.axisMaxEvts[i]=Object.assign(new Event("gamepadaxismaxed"),{axis:i}),t.axisMaxed[i]=!1,this._isStick(i)&&(t.sticks[i/2]={x:0,y:0}),this.axes[i]=e.axes[i];if(void 0!==e.hapticActuators)for(let t=0;t<e.hapticActuators.length;++t)this.hapticActuators[t]=e.hapticActuators[t];Object.seal(this),gamepadStates.set(this,t)}dispose(){gamepadStates.delete(this)}update(e){if(!(e instanceof Gamepad))throw new Error("Value must be a Gamepad");this.connected=e.connected,this.hand=e.hand,this.pose=e.pose;const t=gamepadStates.get(this);for(let i=0;i<e.buttons.length;++i){const n=t.btnState[i],s=e.buttons[i].pressed;s!==n&&(t.btnState[i]=s,this.dispatchEvent((s?t.btnDownEvts:t.btnUpEvts)[i])),this.lastButtons[i]=this.buttons[i],this.buttons[i]=e.buttons[i]}for(let i=0;i<e.axes.length;++i){const n=t.axisMaxed[i],s=e.axes[i],a=Math.sign(s),o=Math.abs(s),r=o>=this.axisThresholdMax,A=o<=this.axisThresholdMin;r&&!n&&this.dispatchEvent(t.axisMaxEvts[i]),this.axes[i]=a*(r?1:A?0:o)}for(let e=0;e<this.axes.length-1;e+=2){const i=t.sticks[e/2];i.x=this.axes[e],i.y=this.axes[e+1]}if(void 0!==e.hapticActuators)for(let t=0;t<e.hapticActuators.length;++t)this.hapticActuators[t]=e.hapticActuators[t]}}const tickEvt=Object.assign(new Event("tick"),{dt:0});class BaseTimer extends EventTarget{constructor(e){super(),this._lt=0,this._timer=null,this.targetFrameRate=e}_onTick(e){tickEvt.dt=e,this.dispatchEvent(tickEvt)}restart(){this.stop(),this.start()}get isRunning(){return null!==this._timer}start(){throw new Error("Not implemented in base class")}stop(){this._timer=null}get targetFrameRate(){return this._targetFPS}set targetFrameRate(e){this._targetFPS=e,this._frameTime=1e3/e}}class RequestAnimationFrameTimer extends BaseTimer{constructor(){super(60)}start(){const e=t=>{const i=t-this._lt;this._lt=t,this._timer=requestAnimationFrame(e),this._onTick(i)};this._lt=performance.now(),this._timer=requestAnimationFrame(e)}stop(){this.isRunning&&(cancelAnimationFrame(this._timer),super.stop())}get targetFrameRate(){return super.targetFrameRate}set targetFrameRate(e){}}class Vector{constructor(){this.x=0,this.y=0,this.z=0,Object.seal(this)}set(e,t,i){this.x=e,this.y=t,this.z=i}copy(e){this.x=e.x,this.y=e.y,this.z=e.z}lerp(e,t,i){this.x=lerp(e.x,t.x,i),this.y=lerp(e.y,t.y,i),this.z=lerp(e.z,t.z,i)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}sub(e,t){this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z}slerp(e,t,i){const n=e.dot(t),s=Math.acos(n);if(0!==s){const n=Math.sin(s),a=Math.sin((1-i)*s)/n,o=Math.sin(i*s)/n;this.x=a*e.x+o*t.x,this.y=a*e.y+o*t.y,this.x=a*e.z+o*t.z}}get lenSq(){return this.dot(this)}get len(){return Math.sqrt(this.lenSq)}normalize(){const e=this.len;0!==e&&(this.x/=e,this.y/=e,this.z/=e)}}class Pose{constructor(){this.t=0,this.p=new Vector,this.f=new Vector,this.f.set(0,0,1),this.u=new Vector,this.u.set(0,1,0),Object.seal(this)}set(e,t,i,n,s,a,o,r,A){this.p.set(e,t,i),this.f.set(n,s,a),this.u.set(o,r,A)}copy(e){this.p.copy(e.p),this.f.copy(e.f),this.u.copy(e.u)}interpolate(e,t,i){if(i<=e.t)this.copy(e);else if(t.t<=i)this.copy(t);else if(e.t<i){const n=project(i,e.t,t.t);this.p.lerp(e.p,t.p,n),this.f.slerp(e.f,t.f,n),this.u.slerp(e.u,t.u,n),this.t=i}}}class BaseAvatar{constructor(e){this.canSwim=e,this.element=Canvas(128,128),this.g=this.element.getContext("2d")}draw(e,t,i,n){const s=this.element.width/this.element.height,a=s>1?t:s*i,o=s>1?t/s:i,r=(t-a)/2,A=(i-o)/2;e.drawImage(this.element,r,A,a,o)}}const AvatarMode=Object.freeze({none:null,emoji:"emoji",photo:"photo",video:"video"});function setCanvasSize(e,t,i,n=1){return t=Math.floor(t*n),i=Math.floor(i*n),(e.width!=t||e.height!=i)&&(e.width=t,e.height=i,!0)}function setContextSize(e,t,i,n=1){const s=e.imageSmoothingEnabled,a=e.textBaseline,o=e.textAlign,r=e.font,A=setCanvasSize(e.canvas,t,i,n);return A&&(e.imageSmoothingEnabled=s,e.textBaseline=a,e.textAlign=o,e.font=r),A}function resizeCanvas(e,t=1){return setCanvasSize(e,e.clientWidth,e.clientHeight,t)}const selfs$1=new WeakMap;class TextImagePrivate{constructor(e){this.fontFamily=e,this.color="black",this.fontSize=null,this.scale=1,this.value=null,this.canvas=CanvasOffscreen(10,10),this.g=this.canvas.getContext("2d"),this.g.textBaseline="top"}redraw(){if(this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.fontFamily&&this.fontSize&&this.color&&this.scale&&this.value){const e=this.fontSize*this.scale;this.g.font=`${e}px ${this.fontFamily}`;const t=this.g.measureText(this.value);let i=0,n=0,s=t.width,a=e;t.actualBoundingBoxLeft&&(n=t.actualBoundingBoxAscent,s=t.actualBoundingBoxRight-t.actualBoundingBoxLeft,a=t.actualBoundingBoxDescent+t.actualBoundingBoxAscent),setContextSize(this.g,s,a),this.g.fillStyle=this.color,this.g.fillText(this.value,i,n)}}}class TextImage{constructor(e){selfs$1.set(this,new TextImagePrivate(e))}get width(){const e=selfs$1.get(this);return e.canvas.width/e.scale}get height(){const e=selfs$1.get(this);return e.canvas.height/e.scale}get fontSize(){return selfs$1.get(this).fontSize}set fontSize(e){if(this.fontSize!==e){const t=selfs$1.get(this);t.fontSize=e,t.redraw()}}get scale(){return selfs$1.get(this).scale}set scale(e){if(this.scale!==e){const t=selfs$1.get(this);t.scale=e,t.redraw()}}get fontFamily(){return selfs$1.get(this).fontFamily}set fontFamily(e){if(this.fontFamily!==e){const t=selfs$1.get(this);t.fontFamily=e,t.redraw()}}get color(){return selfs$1.get(this).color}set color(e){if(this.color!==e){const t=selfs$1.get(this);t.color=e,t.redraw()}}get value(){return selfs$1.get(this).value}set value(e){if(this.value!==e){const t=selfs$1.get(this);t.value=e,t.redraw()}}draw(e,t,i){const n=selfs$1.get(this);n.canvas.width>0&&n.canvas.height>0&&e.drawImage(n.canvas,t,i,this.width,this.height)}}class EmojiAvatar extends BaseAvatar{constructor(e){super(isSurfer(e)),this.value=e.value,this.desc=e.desc;const t=new TextImage("sans-serif");t.color=e.color||"black",t.fontSize=256,t.value=this.value,setContextSize(this.g,t.width,t.height),t.draw(this.g,0,0)}}class PhotoAvatar extends BaseAvatar{constructor(e){super(!1);const t=new Image;t.addEventListener("load",()=>{const e=(t.width-t.height)/2,i=Math.max(0,e),n=Math.max(0,-e),s=Math.min(t.width,t.height);setContextSize(this.g,s,s),this.g.drawImage(t,i,n,s,s,0,0,s,s)}),this.url=t.src=e&&e.href||e}}const isFirefox="undefined"!=typeof InstallTrigger,isIOS=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0;class VideoAvatar extends BaseAvatar{constructor(e){super(!1);let t=null;if(e instanceof HTMLVideoElement)t=e;else{if(!(e instanceof MediaStream))throw new Error("Can only create a video avatar from an HTMLVideoElement or MediaStream.");t=Video(autoPlay,playsInline,muted,volume(0),srcObject(e))}this.video=t,isIOS||(t.play(),t.once("canplay").then(()=>t.play()))}draw(e,t,i,n){if(this.video.videoWidth>0&&this.video.videoHeight>0){const e=(this.video.videoWidth-this.video.videoHeight)/2,t=Math.max(0,e),i=Math.max(0,-e),s=Math.min(this.video.videoWidth,this.video.videoHeight);setContextSize(this.g,s,s),this.g.save(),n&&(this.g.translate(s,0),this.g.scale(-1,1)),this.g.drawImage(this.video,t,i,s,s,0,0,s,s),this.g.restore()}super.draw(e,t,i,n)}}const POSITION_REQUEST_DEBOUNCE_TIME=1,STACKED_USER_OFFSET_X=5,STACKED_USER_OFFSET_Y=5,eventNames=["userMoved","userPositionNeeded"],muteAudioIcon=new TextImage("sans-serif"),speakerActivityIcon=new TextImage("sans-serif");muteAudioIcon.value=mutedSpeaker.value,speakerActivityIcon.value=speakerMediumVolume.value;class User extends EventTarget{constructor(e,t,i,n){super(),this.id=e,this.pose=i,this.label=n?"(Me)":`(${this.id})`,this.setAvatarVideo(null),this.avatarImage=null,this.avatarEmoji=bust,this.audioMuted=!1,this.videoMuted=!0,this.isMe=n,this.isActive=!1,this.stackUserCount=1,this.stackIndex=0,this.stackAvatarHeight=0,this.stackAvatarWidth=0,this.stackOffsetX=0,this.stackOffsetY=0,this.lastPositionRequestTime=performance.now()/1e3-1,this.visible=!0,this.userNameText=new TextImage("sans-serif"),this.userNameText.color="white",this.userNameText.fontSize=128,this._displayName=null,this.displayName=t,Object.seal(this)}get x(){return this.pose.current.p.x}get y(){return this.pose.current.p.z}get gridX(){return this.pose.end.p.x}get gridY(){return this.pose.end.p.z}deserialize(e){switch(e.avatarMode){case AvatarMode.emoji:this.avatarEmoji=e.avatarID;break;case AvatarMode.photo:this.avatarImage=e.avatarID}}serialize(){return{id:this.id,avatarMode:this.avatarMode,avatarID:this.avatarID}}get avatarVideo(){return this._avatarVideo}setAvatarVideo(e){e instanceof MediaStream?this._avatarVideo=new VideoAvatar(e):this._avatarVideo=null}get avatarImage(){return this._avatarImage&&this._avatarImage.url||null}set avatarImage(e){isString(e)&&e.length>0?this._avatarImage=new PhotoAvatar(e):this._avatarImage=null}get avatarEmoji(){return this._avatarEmoji}set avatarEmoji(e){e&&e.value&&e.desc?this._avatarEmoji=new EmojiAvatar(e):this._avatarEmoji=null}get avatarMode(){return this._avatarVideo?AvatarMode.video:this._avatarImage?AvatarMode.photo:this._avatarEmoji?AvatarMode.emoji:AvatarMode.none}get avatarID(){switch(this.avatarMode){case AvatarMode.emoji:return{value:this.avatarEmoji.value,desc:this.avatarEmoji.desc};case AvatarMode.photo:return this.avatarImage;default:return null}}get avatar(){switch(this.avatarMode){case AvatarMode.emoji:return this._avatarEmoji;case AvatarMode.photo:return this._avatarImage;case AvatarMode.video:return this._avatarVideo;default:return null}}addEventListener(e,t,i){if(-1===eventNames.indexOf(e))throw new Error("Unrecognized event type: "+e);super.addEventListener(e,t,i)}get displayName(){return this._displayName||this.label}set displayName(e){this._displayName=e,this.userNameText.value=this.displayName}moveTo(e,t){this.isMe&&(this.moveEvent.x=e,this.moveEvent.y=t,this.dispatchEvent(this.moveEvent))}update(e,t){performance.now();this.stackUserCount=0,this.stackIndex=0;for(let e of t.values())e.gridX===this.gridX&&e.gridY===this.gridY&&(e.id===this.id&&(this.stackIndex=this.stackUserCount),++this.stackUserCount);this.stackAvatarWidth=e.tileWidth-5*(this.stackUserCount-1),this.stackAvatarHeight=e.tileHeight-5*(this.stackUserCount-1),this.stackOffsetX=5*this.stackIndex,this.stackOffsetY=5*this.stackIndex}drawShadow(e,t){const i=e.getTransform().a,n=this.x*t.tileWidth,s=this.y*t.tileHeight,a=e.getTransform().transformPoint({x:n,y:s});this.visible=-t.tileWidth<=a.x&&a.x<e.canvas.width&&-t.tileHeight<=a.y&&a.y<e.canvas.height,this.visible&&(e.save(),e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowOffsetX=3*i,e.shadowOffsetY=3*i,e.shadowBlur=3*i,this.innerDraw(e,t),e.restore())}drawAvatar(e,t){if(this.visible){if(e.save(),this.innerDraw(e,t),this.isActive&&!this.audioMuted){const t=this.stackAvatarHeight/2,i=e.getTransform().a;speakerActivityIcon.fontSize=t,speakerActivityIcon.scale=i,speakerActivityIcon.draw(e,this.stackAvatarWidth-speakerActivityIcon.width,0)}e.restore()}}innerDraw(e,t){if(e.translate(this.x*t.tileWidth+this.stackOffsetX,this.y*t.tileHeight+this.stackOffsetY),e.fillStyle="black",e.textBaseline="top",this.avatar&&this.avatar.draw(e,this.stackAvatarWidth,this.stackAvatarHeight,this.isMe),this.audioMuted||!this.videoMuted){const t=this.stackAvatarHeight/2,i=e.getTransform().a;this.audioMuted&&(muteAudioIcon.fontSize=t,muteAudioIcon.scale=i,muteAudioIcon.draw(e,this.stackAvatarWidth-muteAudioIcon.width,0))}}drawName(e,t,i){if(this.visible){const n=e.getTransform().a;e.save();{e.translate(this.x*t.tileWidth+this.stackOffsetX,this.y*t.tileHeight+this.stackOffsetY),e.shadowColor="black",e.shadowOffsetX=3*n,e.shadowOffsetY=3*n,e.shadowBlur=3*n;const s=i/this.userNameText.fontSize;e.scale(s,s),this.userNameText.draw(e,0,-this.userNameText.height)}e.restore()}}drawHearingTile(e,t,i,n,s){e.save(),e.translate((this.gridX+i)*t.tileWidth,(this.gridY+n)*t.tileHeight),e.strokeStyle=`rgba(0, 255, 0, ${(1-s)/2})`,e.strokeRect(0,0,t.tileWidth,t.tileHeight),e.restore()}drawHearingRange(e,t,i,n){const s=e.getTransform().a,a=Math.min(n,Math.ceil(e.canvas.width/(2*t.tileWidth*s))),o=Math.min(n,Math.ceil(e.canvas.height/(2*t.tileHeight*s)));for(let s=0;s<o;++s)for(let o=0;o<a;++o){const a=project(Math.sqrt(o*o+s*s),i,n);a<=1&&(this.drawHearingTile(e,t,o,s,a),0!=s&&this.drawHearingTile(e,t,o,-s,a),0!=o&&this.drawHearingTile(e,t,-o,s,a),0!=o&&0!=s&&this.drawHearingTile(e,t,-o,-s,a))}}}const inputBindingChangedEvt=new Event("inputBindingChanged");class InputBinding extends EventTarget{constructor(){super();const e=new Map([["keyButtonUp","ArrowUp"],["keyButtonDown","ArrowDown"],["keyButtonLeft","ArrowLeft"],["keyButtonRight","ArrowRight"],["keyButtonEmote","e"],["keyButtonToggleAudio","a"],["gpAxisLeftRight",0],["gpAxisUpDown",1],["gpButtonUp",12],["gpButtonDown",13],["gpButtonLeft",14],["gpButtonRight",15],["gpButtonEmote",0],["gpButtonToggleAudio",1]]);for(let t of e.keys())Object.defineProperty(this,t,{get:()=>e.get(t),set:i=>{e.has(t)&&i!==e.get(t)&&(e.set(t,i),this.dispatchEvent(inputBindingChangedEvt))}});this.clone=()=>{const t={};for(let i of e.entries())t[i[0]]=i[1];return t},Object.freeze(this)}}const keyWidthStyle=width$1("7em"),numberWidthStyle=width$1("3em"),avatarUrlChangedEvt=new Event("avatarURLChanged"),gamepadChangedEvt=new Event("gamepadChanged"),selectAvatarEvt=new Event("selectAvatar"),fontSizeChangedEvt=new Event("fontSizeChanged"),inputBindingChangedEvt$1=new Event("inputBindingChanged"),audioPropsChangedEvt=new Event("audioPropertiesChanged"),toggleDrawHearingEvt=new Event("toggleDrawHearing"),audioInputChangedEvt=new Event("audioInputChanged"),audioOutputChangedEvt=new Event("audioOutputChanged"),videoInputChangedEvt=new Event("videoInputChanged"),toggleVideoEvt$1=new Event("toggleVideo"),gamepadButtonUpEvt=Object.assign(new Event("gamepadbuttonup"),{button:0}),gamepadAxisMaxedEvt=Object.assign(new Event("gamepadaxismaxed"),{axis:0}),selfs$2=new WeakMap;class OptionsFormPrivate{constructor(){this.inputBinding=new InputBinding,this.timer=new RequestAnimationFrameTimer,this.pad=null}}class OptionsForm extends FormDialog{constructor(){super("options","Options");const e=e=>()=>this.dispatchEvent(e),t=new OptionsFormPrivate;selfs$2.set(this,t);const i=onInput(e(audioPropsChangedEvt)),n=(e,i)=>{const n=LabeledInput(e,"text",i,keyWidthStyle,onKeyUp(i=>{"Tab"!==i.key&&"Shift"!==i.key&&(n.value=t.inputBinding[e]=i.key,this.dispatchEvent(inputBindingChangedEvt$1))}));return n.value=t.inputBinding[e],n},s=(e,i)=>{const n=LabeledInput(e,"text",i,numberWidthStyle);return this.addEventListener("gamepadbuttonup",i=>{document.activeElement===n.input&&(n.value=t.inputBinding[e]=i.button,this.dispatchEvent(inputBindingChangedEvt$1))}),n.value=t.inputBinding[e],n},a=(e,i)=>{const n=LabeledInput(e,"text",i,numberWidthStyle);return this.addEventListener("gamepadaxismaxed",i=>{document.activeElement===n.input&&(n.value=t.inputBinding[e]=i.axis,this.dispatchEvent(inputBindingChangedEvt$1))}),n.value=t.inputBinding[e],n},o=[OptionPanel("avatar","Avatar",Div(Label(htmlFor("selectAvatarEmoji"),"Emoji: "),Button(id("selectAvatarEmoji"),"Select",onClick(e(selectAvatarEvt))))," or ",Div(Label(htmlFor("setAvatarURL"),"Photo: "),this.avatarURLInput=InputURL(placeHolder("https://example.com/me.png")),Button(id("setAvatarURL"),"Set",onClick(()=>{this.avatarURL=this.avatarURLInput.value,this.dispatchEvent(avatarUrlChangedEvt)})),this.clearAvatarURLButton=Button(disabled,"Clear",onClick(()=>{this.avatarURL=null,this.dispatchEvent(avatarUrlChangedEvt)})))," or ",Div(Label(htmlFor("videoAvatarButton"),"Video: "),this.useVideoAvatarButton=Button(id("videoAvatarButton"),"Use video",onClick(e(toggleVideoEvt$1)))),this.avatarPreview=Canvas(width(256),height(256))),OptionPanel("interface","Interface",this.fontSizeInput=LabeledInput("fontSize","number","Font size: ",value(10),min(5),max(32),numberWidthStyle,onInput(e(fontSizeChangedEvt))),P(this.drawHearingCheck=LabeledInput("drawHearing","checkbox","Draw hearing range: ",onInput(()=>{this.drawHearing=!this.drawHearing,this.dispatchEvent(toggleDrawHearingEvt)})),this.audioMinInput=LabeledInput("minAudio","number","Min: ",value(1),min(0),max(100),numberWidthStyle,i),this.audioMaxInput=LabeledInput("maxAudio","number","Min: ",value(10),min(0),max(100),numberWidthStyle,i),this.audioRolloffInput=LabeledInput("rollof","number","Rollof: ",value(1),min(.1),max(10),step(.1),numberWidthStyle,i))),OptionPanel("keyboard","Keyboard",this.keyButtonUp=n("keyButtonUp","Up: "),this.keyButtonDown=n("keyButtonDown","Down: "),this.keyButtonLeft=n("keyButtonLeft","Left: "),this.keyButtonRight=n("keyButtonRight","Right: "),this.keyButtonEmote=n("keyButtonEmote","Emote: "),this.keyButtonToggleAudio=n("keyButtonToggleAudio","Toggle audio: ")),OptionPanel("gamepad","Gamepad",this.gpSelect=LabeledSelectBox("gamepads","Use gamepad: ","No gamepad",e=>e.id,e=>e.id,onInput(e(gamepadChangedEvt))),this.gpAxisLeftRight=a("gpAxisLeftRight","Left/Right axis:"),this.gpAxisUpDown=a("gpAxisUpDown","Up/Down axis:"),this.gpButtonUp=s("gpButtonUp","Up button: "),this.gpButtonDown=s("gpButtonDown","Down button: "),this.gpButtonLeft=s("gpButtonLeft","Left button: "),this.gpButtonRight=s("gpButtonRight","Right button: "),this.gpButtonEmote=s("gpButtonEmote","Emote button: "),this.gpButtonToggleAudio=s("gpButtonToggleAudio","Toggle audio button: ")),OptionPanel("devices","Devices",this.videoInputSelect=LabeledSelectBox("videoInputDevices","Video Input: ","No video input",e=>e.deviceId,e=>e.label,onInput(e(videoInputChangedEvt))),this.audioInputSelect=LabeledSelectBox("audioInputDevices","Audio Input: ","No audio input",e=>e.deviceId,e=>e.label,onInput(e(audioInputChangedEvt))),this.audioOutputSelect=LabeledSelectBox("audioOutputDevices","Audio Output: ","No audio output",e=>e.deviceId,e=>e.label,onInput(e(audioOutputChangedEvt))))],r=[];for(let e=0;e<o.length;++e)r[e]="1fr",o[e].element.style.gridColumnStart=e+1,o[e].button.style.fontSize="3.5vw";gridColsDef(...r).apply(this.header),this.header.append(...o.map(e=>e.button)),this.content.append(...o.map(e=>e.element)),styles(backgroundColor("#ddd"),borderLeft("solid 2px black"),borderRight("solid 2px black"),borderBottom("solid 2px black")).apply(this.content);const A=e=>()=>{for(let t=0;t<o.length;++t)o[t].visible=t===e};for(let e=0;e<o.length;++e)o[e].visible=0===e,o[e].addEventListener("select",A(e));t.inputBinding.addEventListener("inputBindingChanged",()=>{for(let e of Object.getOwnPropertyNames(t.inputBinding))void 0!==value[e]&&null!=this[e]&&(this[e].value=value[e])}),t.timer.addEventListener("tick",()=>{const e=this.currentGamepad;e&&(t.pad?t.pad.update(e):(t.pad=new EventedGamepad(e),t.pad.addEventListener("gamepadbuttonup",e=>{gamepadButtonUpEvt.button=e.button,this.dispatchEvent(gamepadButtonUpEvt)}),t.pad.addEventListener("gamepadaxismaxed",e=>{gamepadAxisMaxedEvt.axis=e.axis,this.dispatchEvent(gamepadAxisMaxedEvt)}))),this.user&&this.user.avatar&&(this._avatarG.clearRect(0,0,this.avatarPreview.width,this.avatarPreview.height),this.user.avatar.draw(this._avatarG,this.avatarPreview.width,this.avatarPreview.height,!0))}),this.gamepads=[],this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this._drawHearing=!1,this.user=null,this._avatarG=this.avatarPreview.getContext("2d"),Object.seal(this)}show(){super.show(),selfs$2.get(this).timer.start()}hide(){super.hide(),selfs$2.get(this).timer.stop()}get avatarURL(){return 0===this.avatarURLInput.value.length?null:this.avatarURLInput.value}set avatarURL(e){isString(e)?(this.avatarURLInput.value=e,this.clearAvatarURLButton.unlock()):(this.avatarURLInput.value="",this.clearAvatarURLButton.lock())}setAvatarVideo(e){this.useVideoAvatarButton.innerHTML=null!==e?"Remove video":"Use video"}get inputBinding(){return selfs$2.get(this).inputBinding.clone()}set inputBinding(e){const t=selfs$2.get(this);for(let i of Object.getOwnPropertyNames(e))void 0!==t.inputBinding[i]&&void 0!==e[i]&&null!=this[i]&&(t.inputBinding[i]=this[i].value=e[i])}get gamepads(){return this.gpSelect.values}set gamepads(e){const t=0===e.length;this.gpSelect.values=e,this.gpAxisLeftRight.setLocked(t),this.gpAxisUpDown.setLocked(t),this.gpButtonUp.setLocked(t),this.gpButtonDown.setLocked(t),this.gpButtonLeft.setLocked(t),this.gpButtonRight.setLocked(t),this.gpButtonEmote.setLocked(t),this.gpButtonToggleAudio.setLocked(t)}get currentGamepadIndex(){return this.gpSelect.selectedIndex}get currentGamepad(){return this.currentGamepadIndex<0?null:navigator.getGamepads()[this.currentGamepadIndex]}get audioInputDevices(){return this.audioInputSelect.values}set audioInputDevices(e){this.audioInputSelect.values=e}get currentAudioInputDevice(){return this.audioInputSelect.selectedValue}set currentAudioInputDevice(e){this.audioInputSelect.selectedValue=e}get audioOutputDevices(){return this.audioOutputSelect.values}set audioOutputDevices(e){this.audioOutputSelect.values=e}get currentAudioOutputDevice(){return this.audioOutputSelect.selectedValue}set currentAudioOutputDevice(e){this.audioOutputSelect.selectedValue=e}get videoInputDevices(){return this.videoInputSelect.values}set videoInputDevices(e){this.videoInputSelect.values=e}get currentVideoInputDevice(){return this.videoInputSelect.selectedValue}set currentVideoInputDevice(e){this.videoInputSelect.selectedValue=e}get gamepadIndex(){return this.gpSelect.selectedIndex}set gamepadIndex(e){this.gpSelect.selectedIndex=e}get drawHearing(){return this._drawHearing}set drawHearing(e){this._drawHearing=e,this.drawHearingCheck.checked=e}get audioDistanceMin(){const e=parseFloat(this.audioMinInput.value);return isGoodNumber(e)?e:1}set audioDistanceMin(e){isGoodNumber(e)&&e>0&&(this.audioMinInput.value=e,this.audioDistanceMin>this.audioDistanceMax&&(this.audioDistanceMax=this.audioDistanceMin))}get audioDistanceMax(){const e=parseFloat(this.audioMaxInput.value);return isGoodNumber(e)?e:10}set audioDistanceMax(e){isGoodNumber(e)&&e>0&&(this.audioMaxInput.value=e,this.audioDistanceMin>this.audioDistanceMax&&(this.audioDistanceMin=this.audioDistanceMax))}get audioRolloff(){const e=parseFloat(this.audioRolloffInput.value);return isGoodNumber(e)?e:1}set audioRolloff(e){isGoodNumber(e)&&e>0&&(this.audioRolloffInput.value=e)}get fontSize(){const e=parseFloat(this.fontSizeInput.value);return isGoodNumber(e)?e:16}set fontSize(e){isGoodNumber(e)&&e>0&&(this.fontSizeInput.value=e)}}const newRowColor=backgroundColor("lightgreen"),hoveredColor=backgroundColor("rgba(65, 255, 202, 0.25)"),unhoveredColor=backgroundColor("transparent"),warpToEvt=Object.assign(new Event("warpTo"),{id:null}),ROW_TIMEOUT=3e3;class UserDirectoryForm extends FormDialog{constructor(){super("users","Users"),this.timer=new RequestAnimationFrameTimer,this.timer.addEventListener("tick",()=>{for(let e of this.users.entries()){const[t,i]=e;if(this.avatarGs.has(t)&&i.avatar){const e=this.avatarGs.get(t);e.clearRect(0,0,e.canvas.width,e.canvas.height),i.avatar.draw(e,e.canvas.width,e.canvas.height)}}}),this.rows=new Map,this.users=new Map,this.avatarGs=new Map,this.content.append(this.table=Div(gridDef(["auto","1fr"],["min-content"]),columnGap("5px"),width$1("100%")))}show(){super.show(),this.timer.start()}hide(){super.hide(),this.timer.stop()}set(e){const t=!this.rows.has(e.id);this.delete(e.id);const i=this.rows.size+1;if(t){const t=Div(gridPos(1,i,2,1),zIndex(-1),newRowColor);setTimeout(()=>{this.table.removeChild(t)},3e3),this.table.append(t),this.users.set(e.id,e),this.avatarGs.set(e.id,Canvas(width(32),height(32)).getContext("2d"))}const n=this.avatarGs.get(e.id).canvas,s=[Div(gridPos(1,i),zIndex(0),n),Div(gridPos(2,i),zIndex(0),e.displayName),Div(gridPos(1,i,2,1),zIndex(1),unhoveredColor,onMouseOver((function(){hoveredColor.apply(this)})),onMouseOut((function(){unhoveredColor.apply(this)})),onClick(()=>{this.hide(),warpToEvt.id=e.id,this.dispatchEvent(warpToEvt)}))];this.rows.set(e.id,s),this.table.append(...s)}delete(e){if(this.rows.has(e)){const t=this.rows.get(e);this.rows.delete(e);for(let e of t)this.table.removeChild(e);let i=1;for(let e of this.rows.values()){const t=row(i++);for(let i of e)t.apply(i)}}}clear(){for(let e of this.rows.keys())this.delete(e)}warn(...e){const t=Div(gridPos(1,this.rows.size+1,2,1),backgroundColor("yellow"),...e.map(e=>e.toString()));this.table.append(t),setTimeout(()=>{this.table.removeChild(t)},5e3)}}const EMOJI_LIFE=3;class Emote{constructor(e,t,i){this.emoji=e,this.x=t,this.y=i,this.dx=Math.random()-.5,this.dy=.5*-Math.random()-.5,this.life=1,this.width=-1,this.emoteText=new TextImage("sans-serif"),this.emoteText.value=e.value}isDead(){return this.life<=.01}update(e){this.life-=e/3,this.dx*=.99,this.dy*=.99,this.x+=this.dx*e,this.y+=this.dy*e}drawShadow(e,t){const i=e.getTransform().a;e.save(),e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowOffsetX=3*i,e.shadowOffsetY=3*i,e.shadowBlur=3*i,this.drawEmote(e,t),e.restore()}drawEmote(e,t){const i=e.globalAlpha,n=e.getTransform().a;e.globalAlpha=this.life,this.emoteText.fontSize=t.tileHeight/2,this.emoteText.scale=n,this.emoteText.draw(e,this.x*t.tileWidth-this.width/2,this.y*t.tileHeight),e.globalAlpha=i}}function pathTo(e){for(var t=e,i=[];t.parent;)i.unshift(t),t=t.parent;return i}function getHeap(){return new BinaryHeap((function(e){return e.f}))}var astar={search:function(e,t,i,n){e.cleanDirty();var s=(n=n||{}).heuristic||astar.heuristics.manhattan,a=n.closest||!1,o=getHeap(),r=t;for(t.h=s(t,i),e.markDirty(t),o.push(t);o.size()>0;){var A=o.pop();if(A===i)return pathTo(A);A.closed=!0;for(var l=e.neighbors(A),c=0,h=l.length;c<h;++c){var u=l[c];if(!u.closed&&!u.isWall()){var d=A.g+u.getCost(A),g=u.visited;(!g||d<u.g)&&(u.visited=!0,u.parent=A,u.h=u.h||s(u,i),u.g=d,u.f=u.g+u.h,e.markDirty(u),a&&(u.h<r.h||u.h===r.h&&u.g<r.g)&&(r=u),g?o.rescoreElement(u):o.push(u))}}}return a?pathTo(r):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var i=Math.sqrt(2),n=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return 1*(n+s)+(i-2)*Math.min(n,s)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function Graph(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var i=0;i<e.length;i++){this.grid[i]=[];for(var n=0,s=e[i];n<s.length;n++){var a=new GridNode(i,n,s[n]);this.grid[i][n]=a,this.nodes.push(a)}}this.init()}function GridNode(e,t,i){this.x=e,this.y=t,this.weight=i}function BinaryHeap(e){this.content=[],this.scoreFunction=e}Graph.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)astar.cleanNode(this.nodes[e])},Graph.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)astar.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Graph.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Graph.prototype.neighbors=function(e){var t=[],i=e.x,n=e.y,s=this.grid;return s[i-1]&&s[i-1][n]&&t.push(s[i-1][n]),s[i+1]&&s[i+1][n]&&t.push(s[i+1][n]),s[i]&&s[i][n-1]&&t.push(s[i][n-1]),s[i]&&s[i][n+1]&&t.push(s[i][n+1]),this.diagonal&&(s[i-1]&&s[i-1][n-1]&&t.push(s[i-1][n-1]),s[i+1]&&s[i+1][n-1]&&t.push(s[i+1][n-1]),s[i-1]&&s[i-1][n+1]&&t.push(s[i-1][n+1]),s[i+1]&&s[i+1][n+1]&&t.push(s[i+1][n+1])),t},Graph.prototype.toString=function(){for(var e=[],t=this.grid,i=0;i<t.length;i++){for(var n=[],s=t[i],a=0;a<s.length;a++)n.push(s[a].weight);e.push(n.join(" "))}return e.join("\n")},GridNode.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},GridNode.prototype.getCost=function(e){return e&&e.x!=this.x&&e.y!=this.y?1.41421*this.weight:this.weight},GridNode.prototype.isWall=function(){return 0===this.weight},BinaryHeap.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),i=this.content.pop();t!==this.content.length-1&&(this.content[t]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var i=(e+1>>1)-1,n=this.content[i];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},bubbleUp:function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i);;){var s,a=e+1<<1,o=a-1,r=null;if(o<t){var A=this.content[o];(s=this.scoreFunction(A))<n&&(r=o)}if(a<t){var l=this.content[a];this.scoreFunction(l)<(null===r?n:s)&&(r=a)}if(null===r)break;this.content[e]=this.content[r],this.content[r]=i,e=r}}};class TileSet{constructor(e){this.url=e,this.tileWidth=0,this.tileHeight=0,this.tilesPerRow=0,this.image=new Image,this.collision={}}async load(){const e=await fetch(this.url),t=await e.xml(),i=new Promise((e,t)=>{this.image.addEventListener("load",t=>{this.tilesPerRow=Math.floor(this.image.width/this.tileWidth),e()}),this.image.addEventListener("error",t)}),n=t.querySelector("image").getAttribute("source"),s=new URL(n,this.url),a=t.querySelectorAll("tile");for(let e of a){const t=1*e.getAttribute("id"),i=e.querySelector("properties > property[name='Collision']").getAttribute("value");this.collision[t]="true"===i}this.name=t.getAttribute("name"),this.tileWidth=1*t.getAttribute("tilewidth"),this.tileHeight=1*t.getAttribute("tileheight"),this.tileCount=1*t.getAttribute("tilecount"),this.image.src=s.href,await i}isClear(e){return!this.collision[e-1]}draw(e,t,i,n){if(t>0){const s=t-1,a=this.tileWidth*(s%this.tilesPerRow),o=this.tileHeight*Math.floor(s/this.tilesPerRow),r=i*this.tileWidth,A=n*this.tileHeight;e.drawImage(this.image,a,o,this.tileWidth,this.tileHeight,r,A,this.tileWidth,this.tileHeight)}}}const selfs$3=new WeakMap;class TileMapPrivate{constructor(e){this.url=new URL(`/data/tilemaps/${e}.tmx`,document.location),this.tileWidth=0,this.tileHeight=0,this.layers=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.tileset=null,this.tiles=null,this.graph=null,this.layerImages=[],Object.seal(this)}}class TileMap{constructor(e){selfs$3.set(this,new TileMapPrivate(e))}async load(){const e=selfs$3.get(this),t=await fetch(e.url.href),i=await t.xml(),n=1*i.getAttribute("width"),s=1*i.getAttribute("height"),a=1*i.getAttribute("tilewidth"),o=1*i.getAttribute("tileheight"),r=i.querySelector("tileset").getAttribute("source"),A=i.querySelectorAll("layer > data");e.layers=A.length,e.width=n,e.height=s,e.offsetX=-Math.floor(n/2),e.offsetY=-Math.floor(s/2),e.tileWidth=a,e.tileHeight=o,e.tiles=[];for(let t of A){const i=t.innerHTML.replace(" ","").replace("\t","").replace("\n","").replace("\r","").split(",").map(e=>parseInt(e,10)),s=[];let a=[];for(let e of i)a.push(e),a.length===n&&(s.push(a),a=[]);a.length>0&&s.push(a),e.tiles.push(s)}e.tileset=new TileSet(new URL(r,e.url)),await e.tileset.load(),e.tileWidth=e.tileset.tileWidth,e.tileHeight=e.tileset.tileHeight;for(let t=0;t<e.layers;++t){const i=CanvasOffscreen(this.width*this.tileWidth,this.height*this.tileHeight);e.layerImages.push(i);const n=i.getContext("2d"),s=e.tiles[t];for(let t=0;t<this.height;++t){const i=s[t];for(let s=0;s<this.width;++s){const a=i[s];e.tileset.draw(n,a,s,t)}}}let l=[];for(let t of e.tiles[0]){let i=[];for(let n of t)e.tileset.isClear(n)?i.push(1):i.push(0);l.push(i)}e.graph=new Graph(l,{diagonal:!0})}get width(){return selfs$3.get(this).width}get height(){return selfs$3.get(this).height}get tileWidth(){return selfs$3.get(this).tileWidth}get tileHeight(){return selfs$3.get(this).tileHeight}isInBounds(e,t){return 0<=e&&e<this.width&&0<=t&&t<this.height}getGridNode(e,t){const i=selfs$3.get(this);return e-=i.offsetX,t-=i.offsetY,this.isInBounds(e,t)?i.graph.grid[t][e]:null}draw(e){const t=selfs$3.get(this);e.save(),e.translate(t.offsetX*this.tileWidth,t.offsetY*this.tileHeight);for(let i of t.layerImages)e.drawImage(i,0,0);e.restore()}searchPath(e,t){const i=selfs$3.get(this);return astar.search(i.graph,e,t).map(e=>({x:e.y+i.offsetX,y:e.x+i.offsetY}))}isClear(e,t,i){const n=selfs$3.get(this);return e-=n.offsetX,t-=n.offsetY,e<0||this.width<=e||t<0||this.height<=t||n.tileset.isClear(n.tiles[0][t][e])||i&&i.canSwim}getClearTile(e,t,i,n,s){const a=e+i,o=t+n,r=e<a?1:-1,A=t<o?1:-1;let l=((i=Math.abs(a-e))>(n=Math.abs(o-t))?i:-n)/2;for(;e!==a||t!==o;){const a=l;if(a>-i){if(!this.isClear(e+r,t,s))break;l-=n,e+=r}if(a<n){if(!this.isClear(e,t+A,s))break;l+=i,t+=A}}return{x:e,y:t}}getClearTileNear(e,t,i,n){for(let s=1;s<=i;++s)for(let i=-s;i<=s;++i){const a=s-Math.abs(i),o=e+i,r=t+a,A=t-a;if(this.isClear(o,r,n))return{x:o,y:r};if(this.isClear(o,A,n))return{x:o,y:A}}return{x:e,y:t}}}const CAMERA_LERP=.01,CAMERA_ZOOM_MAX=8,CAMERA_ZOOM_MIN=.1,CAMERA_ZOOM_SHAPE=1/4,CAMERA_ZOOM_SPEED=.005,MAX_DRAG_DISTANCE=5,MOVE_REPEAT=.125,gameStartedEvt=new Event("gameStarted"),gameEndedEvt=new Event("gameEnded"),zoomChangedEvt=new Event("zoomChanged"),emojiNeededEvt=new Event("emojiNeeded"),toggleAudioEvt$1=new Event("toggleAudio"),toggleVideoEvt$2=new Event("toggleVideo"),moveEvent=Object.assign(new Event("userMoved"),{x:0,y:0}),emoteEvt$1=Object.assign(new Event("emote"),{emoji:null}),userJoinedEvt=Object.assign(new Event("userJoined",{user:null})),gamepads=new Map;class Game extends EventTarget{constructor(){function e(e){return{id:e.pointerId,buttons:e.buttons,dragDistance:0,x:e.offsetX*devicePixelRatio,y:e.offsetY*devicePixelRatio}}super(),this.element=Canvas(id("frontBuffer"),width$1("100%"),height$1("100%"),touchAction("none")),this.gFront=this.element.getContext("2d"),this.me=null,this.map=null,this.waypoints=[],this.keys={},this.users=new Map,this._loop=this.loop.bind(this),this.lastTime=0,this.lastMove=Number.MAX_VALUE,this.lastWalk=Number.MAX_VALUE,this.gridOffsetX=0,this.gridOffsetY=0,this.cameraX=this.offsetCameraX=this.targetOffsetCameraX=0,this.cameraY=this.offsetCameraY=this.targetOffsetCameraY=0,this.cameraZ=this.targetCameraZ=1.5,this.currentRoomName=null,this.fontSize=10,this.drawHearing=!1,this.audioDistanceMin=2,this.audioDistanceMax=10,this.rolloff=5,this.pointers=[],this.lastPinchDistance=0,this.canClick=!1,this.currentEmoji=null,this.emotes=[],this.inputBinding={keyButtonUp:"ArrowUp",keyButtonDown:"ArrowDown",keyButtonLeft:"ArrowLeft",keyButtonRight:"ArrowRight",keyButtonEmote:"e",keyButtonToggleAudio:"a",gpAxisLeftRight:0,gpAxisUpDown:1,gpButtonUp:12,gpButtonDown:13,gpButtonLeft:14,gpButtonRight:15,gpButtonEmote:0,gpButtonToggleAudio:1},this.lastGamepadIndex=-1,this.gamepadIndex=-1,this.transitionSpeed=.125,addEventListener("keydown",e=>{this.keys[e.key]=e,e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||e.key!==this.inputBinding.keyButtonToggleAudio||!this.me||this.toggleMyAudio()}),addEventListener("keyup",e=>{this.keys[e.key]&&delete this.keys[e.key]}),this.element.addEventListener("wheel",e=>{if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)){const t=e.deltaY*(isFirefox?1:.02);this.zoom(t)}},{passive:!0});const t=e=>this.pointers.findIndex(t=>t.id===e.id),i=e=>{const i=t(e);if(i>-1){const t=this.pointers[i];return this.pointers[i]=e,t}return this.pointers.push(e),null},n=()=>{let e=0;for(let t of this.pointers)1===t.buttons&&++e;return e};this.element.addEventListener("pointerdown",t=>{const s=n(),a=e(t),o=(i(a),n());this.canClick=0===s&&1===o});const s=()=>{if(2!==n())return null;const e=this.pointers.filter(e=>1===e.buttons),t=e[0],i=e[1],s=i.x-t.x,a=i.y-t.y;return Math.sqrt(s*s+a*a)};this.element.addEventListener("pointermove",t=>{const a=s(),o=e(t),r=i(o),A=n(),l=s();if(1===A&&r&&1===o.buttons&&r.buttons===o.buttons){const e=o.x-r.x,t=o.y-r.y,i=Math.sqrt(e*e+t*t);o.dragDistance=r.dragDistance+i,o.dragDistance>5&&(this.targetOffsetCameraX=this.offsetCameraX+=e,this.targetOffsetCameraY=this.offsetCameraY+=t,this.canClick=!1)}if(null!==a&&null!==l){const e=a-l;this.zoom(e/5),this.canClick=!1}}),this.element.addEventListener("pointerup",t=>{const n=e(t);i(n);if(this.me&&n.dragDistance<2){const e=this.getTileAt(n),t=e.x-this.me.gridX,i=e.y-this.me.gridY;0===t&&0===i?this.emote(this.me.id,this.currentEmoji):this.canClick&&this.moveMeByPath(t,i)}}),this.element.addEventListener("pointercancel",i=>{const n=e(i),s=t(n);return s>=0&&arrayRemoveAt(this.pointers,s),n})}hide(){this.element.hide()}show(){this.element.show()}setOpen(e){this.element.setOpen(e)}initializeUser(e,t){this.withUser("initialize user",e,e=>{e.deserialize(t)})}updateAudioActivity(e,t){this.withUser("update audio activity",e,e=>{e.isActive=t})}emote(e,t){if(this.users.has(e)){const i=this.users.get(e);i.isMe&&((t=t||this.currentEmoji)?(emoteEvt$1.emoji=this.currentEmoji=t,this.dispatchEvent(emoteEvt$1)):this.dispatchEvent(emojiNeededEvt)),t&&this.emotes.push(new Emote(t,i.x,i.y))}}getTileAt(e){const t=e.x-this.gridOffsetX-this.offsetCameraX,i=e.y-this.gridOffsetY-this.offsetCameraY,n=t/this.cameraZ,s=i/this.cameraZ,a=n-this.cameraX,o=s-this.cameraY,r=this.map.tileWidth,A=this.map.tileHeight;return{x:Math.floor(a/r),y:Math.floor(o/A)}}moveMeTo(e,t){this.map.isClear(e,t,this.me.avatar)&&(this.targetOffsetCameraX=0,this.targetOffsetCameraY=0,moveEvent.x=e,moveEvent.y=t,this.dispatchEvent(moveEvent))}moveMeBy(e,t){const i=this.map.getClearTile(this.me.gridX,this.me.gridY,e,t,this.me.avatar);this.moveMeTo(i.x,i.y)}moveMeByPath(e,t){arrayClear(this.waypoints);const i=this.me.gridX,n=this.me.gridY,s=this.map.getGridNode(i,n),a=i+e,o=n+t,r=this.map.getGridNode(a,o);if(s&&r){const e=this.map.searchPath(s,r);this.waypoints.push(...e)}else this.moveMeTo(i+e,n+t)}warpMeTo(e,t){const i=this.map.getClearTileNear(e,t,3,this.me.avatar);this.moveMeTo(i.x,i.y)}visit(e){this.withUser("visit",e,e=>{this.warpMeTo(e.gridX,e.gridY)})}zoom(e){const t=Math.abs(e);if(0<t&&t<=50){const t=project(this.targetCameraZ,.1,8),i=clamp(Math.pow(t,1/4)-.005*e,0,1),n=Math.pow(i,4);this.targetCameraZ=unproject(n,.1,8),this.dispatchEvent(zoomChangedEvt)}}addUser(e,t,i){this.users.has(e)&&this.removeUser(e);const n=new User(e,t,i,!1);this.users.set(e,n),userJoinedEvt.user=n,this.dispatchEvent(userJoinedEvt)}toggleMyAudio(){this.dispatchEvent(toggleAudioEvt$1)}toggleMyVideo(){this.dispatchEvent(toggleVideoEvt$2)}muteUserAudio(e,t){this.withUser("mute audio",e,e=>{e.audioMuted=t})}muteUserVideo(e,t){this.withUser("mute video",e,e=>{e.videoMuted=t})}withUser(e,t,i,n){if(void 0===n&&(n=5e3),t)if(this.users.has(t)){i(this.users.get(t))}else console.warn(`No user "${t}" found to ${e}. Trying again in a quarter second.`),n>0&&setTimeout(this.withUser.bind(this,e,t,i,n-250),250)}changeUserName(e,t){this.withUser("change user name",e,e=>{e.displayName=t})}removeUser(e){this.users.has(e)&&this.users.delete(e)}setAvatarVideo(e,t){this.withUser("set avatar video",e,e=>{e.setAvatarVideo(t)})}setAvatarURL(e,t){this.withUser("set avatar image",e,e=>{e.avatarImage=t})}setAvatarEmoji(e,t){this.withUser("set avatar emoji",e,e=>{e.avatarEmoji=t})}async startAsync(e,t,i,n,s){this.currentRoomName=s.toLowerCase(),this.me=new User(e,t,i,!0),isString(n)&&(this.me.avatarImage=n),this.users.set(e,this.me),this.map=new TileMap(this.currentRoomName);let a=!1;for(let e=0;e<2;++e)try{await this.map.load(),a=!0}catch(e){console.warn(e),this.map=new TileMap("default")}a||console.error("Couldn't load any maps!"),this.startLoop(),this.dispatchEvent(zoomChangedEvt),this.dispatchEvent(gameStartedEvt)}startLoop(){this.show(),this.resize(),this.element.focus(),requestAnimationFrame(e=>{this.lastTime=e,requestAnimationFrame(this._loop)})}resize(){resizeCanvas(this.element,window.devicePixelRatio)}loop(e){if(null!==this.currentRoomName){requestAnimationFrame(this._loop);const t=e-this.lastTime;this.lastTime=e,this.update(t/1e3),this.render()}}end(){this.currentRoomName=null,this.map=null,this.users.clear(),this.me=null,this.hide(),this.dispatchEvent(gameEndedEvt)}update(e){if(this.gridOffsetX=Math.floor(.5*this.element.width/this.map.tileWidth)*this.map.tileWidth,this.gridOffsetY=Math.floor(.5*this.element.height/this.map.tileHeight)*this.map.tileHeight,this.lastMove+=e,this.lastMove>=.125){let e=0,t=0;for(let i of Object.values(this.keys))if(!(i.altKey||i.shiftKey||i.ctrlKey||i.metaKey))switch(i.key){case this.inputBinding.keyButtonUp:t--;break;case this.inputBinding.keyButtonDown:t++;break;case this.inputBinding.keyButtonLeft:e--;break;case this.inputBinding.keyButtonRight:e++;break;case this.inputBinding.keyButtonEmote:this.emote(this.me.id,this.currentEmoji)}const i=navigator.getGamepads()[this.gamepadIndex];if(i){gamepads.has(this)||gamepads.set(this,new EventedGamepad(i));const n=gamepads.get(this);n.update(i),n.buttons[this.inputBinding.gpButtonEmote].pressed&&this.emote(this.me.id,this.currentEmoji),!n.lastButtons[this.inputBinding.gpButtonToggleAudio].pressed&&n.buttons[this.inputBinding.gpButtonToggleAudio].pressed&&this.toggleMyAudio(),n.buttons[this.inputBinding.gpButtonUp].pressed?--t:n.buttons[this.inputBinding.gpButtonDown].pressed&&++t,n.buttons[this.inputBinding.gpButtonLeft].pressed?--e:n.buttons[this.inputBinding.gpButtonRight].pressed&&++e,e+=Math.round(n.axes[this.inputBinding.gpAxisLeftRight]),t+=Math.round(n.axes[this.inputBinding.gpAxisUpDown]),this.targetOffsetCameraX+=-50*Math.round(2*n.axes[2]),this.targetOffsetCameraY+=-50*Math.round(2*n.axes[3]),this.zoom(2*(n.buttons[6].value-n.buttons[7].value))}e=clamp(e,-1,1),t=clamp(t,-1,1),0===e&&0===t||(this.moveMeBy(e,t),arrayClear(this.waypoints)),this.lastMove=0}if(this.lastWalk+=e,this.lastWalk>=this.transitionSpeed){if(this.waypoints.length>0){const e=this.waypoints.shift();this.moveMeTo(e.x,e.y)}this.lastWalk=0}for(let t of this.emotes)t.update(e);this.emotes=this.emotes.filter(e=>!e.isDead());for(let e of this.users.values())e.update(this.map,this.users)}render(){const e=-this.me.x*this.map.tileWidth,t=-this.me.y*this.map.tileHeight;this.cameraZ=lerp(this.cameraZ,this.targetCameraZ,.1),this.cameraX=lerp(this.cameraX,e,.01*this.cameraZ),this.cameraY=lerp(this.cameraY,t,.01*this.cameraZ),this.offsetCameraX=lerp(this.offsetCameraX,this.targetOffsetCameraX,.01),this.offsetCameraY=lerp(this.offsetCameraY,this.targetOffsetCameraY,.01),this.gFront.resetTransform(),this.gFront.imageSmoothingEnabled=!1,this.gFront.clearRect(0,0,this.element.width,this.element.height),this.gFront.save(),this.gFront.translate(this.gridOffsetX+this.offsetCameraX,this.gridOffsetY+this.offsetCameraY),this.gFront.scale(this.cameraZ,this.cameraZ),this.gFront.translate(this.cameraX,this.cameraY),this.map.draw(this.gFront);for(let e of this.users.values())e.drawShadow(this.gFront,this.map);for(let e of this.emotes)e.drawShadow(this.gFront,this.map);for(let e of this.users.values())e.drawAvatar(this.gFront,this.map);this.drawCursor();for(let e of this.users.values())e.drawName(this.gFront,this.map,this.fontSize);this.drawHearing&&this.me.drawHearingRange(this.gFront,this.map,this.audioDistanceMin,this.audioDistanceMax);for(let e of this.emotes)e.drawEmote(this.gFront,this.map);this.gFront.restore()}drawCursor(){if(1===this.pointers.length){const e=this.pointers[0],t=this.getTileAt(e);this.gFront.strokeStyle=this.map.isClear(t.x,t.y,this.me.avatar)?"green":"red",this.gFront.strokeRect(t.x*this.map.tileWidth,t.y*this.map.tileHeight,this.map.tileWidth,this.map.tileHeight)}}}class BaseSpatializer extends EventTarget{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5}setAudioProperties(e,t,i,n){this.minDistance=e,this.maxDistance=t,this.transitionTime=n,this.rolloff=i}dispose(){}update(e){}}class InterpolatedPose{constructor(){this.start=new Pose,this.current=new Pose,this.end=new Pose,this._spatializer=null,Object.seal(this)}get spatializer(){return this._spatializer}set spatializer(e){this.spatializer!==e&&(this._spatializer&&this._spatializer.dispose(),this._spatializer=e)}dispose(){this.spatializer=null}setTarget(e,t,i,n,s,a,o,r,A,l,c){this.start.copy(this.current),this.start.t=l,this.end.set(e,t,i,n,s,a,o,r,A),this.end.t=l+c}update(e){this.current.interpolate(this.start,this.end,e),this.spatializer&&this.spatializer.update(this.current)}}class BaseAudioClient extends EventTarget{constructor(){super()}start(){}setAudioProperties(e,t,i,n){throw new Error("Not implemented in base class")}createUser(e){throw new Error("Not implemented in base class")}removeUser(e){throw new Error("Not implemented in base class")}setLocalPosition(e,t,i){throw new Error("Not implemented in base class")}getLocalPose(){throw new Error("Not implemented in base class")}setUserPosition(e,t,i,n){throw new Error("Not implemented in base class")}}const canChangeAudioOutput=HTMLAudioElement.prototype.setSinkId instanceof Function,eventNames$1=["userMoved","emote","userInitRequest","userInitResponse","audioMuteStatusChanged","videoMuteStatusChanged","localAudioMuteStatusChanged","localVideoMuteStatusChanged","videoConferenceJoined","videoConferenceLeft","participantJoined","participantLeft","avatarChanged","displayNameChange","audioActivity","setAvatarEmoji","deviceListChanged","participantRoleChanged","audioAdded","videoAdded","audioRemoved","videoRemoved","audioChanged","videoChanged"];class BaseJitsiClient extends EventTarget{constructor(){super(),this.hasAudioPermission=!1,this.hasVideoPermission=!1,this.localUser=null,this.audioClient=null,this.preInitEvtQ=[],this.preferredAudioOutputID=null,this.preferredAudioInputID=null,this.preferredVideoInputID=null,this.addEventListener("participantJoined",e=>{this.userInitRequest(e.id)}),this.addEventListener("userInitRequest",e=>{const t=this.audioClient.getLocalPose(),{p:i}=t;this.userInitResponse(e.id,{id:this.localUser,x:i.x,y:i.y,z:i.z})}),this.addEventListener("userInitResponse",e=>{isNumber(e.x)&&isNumber(e.y)&&isNumber(e.z)&&this.setUserPosition(e.id,e.x,e.y,e.z)}),this.addEventListener("userMoved",e=>{this.setUserPosition(e.id,e.x,e.y,e.z)}),this.addEventListener("participantLeft",e=>{this.removeUser(e.id)});const e=e=>{const t=Object.assign(new Event("audioChanged"),{id:e.id,stream:e.stream});this.dispatchEvent(t)},t=e=>{const t=Object.assign(new Event("videoChanged"),{id:e.id,stream:e.stream});this.dispatchEvent(t)};this.addEventListener("audioAdded",e),this.addEventListener("audioRemoved",e),this.addEventListener("videoAdded",t),this.addEventListener("videoRemoved",t),this.addEventListener("audioMuteStatusChanged",e=>{if(e.id===this.localUser){const t=Object.assign(new Event("localAudioMuteStatusChanged"),{id:e.id,muted:e.muted});this.dispatchEvent(t)}}),this.addEventListener("videoMuteStatusChanged",e=>{if(e.id===this.localUser){const t=Object.assign(new Event("localVideoMuteStatusChanged"),{id:e.id,muted:e.muted});this.dispatchEvent(t)}})}get appFingerPrint(){return"Calla"}userIDs(){throw new Error("Not implemented in base class")}userExists(e){throw new Error("Not implemented in base class")}users(){throw new Error("Not implemented in base class")}async initializeAsync(e,t){throw new Error("Not implemented in base class.")}dispatchEvent(e){if(null!==this.localUser)null!==e.id&&void 0!==e.id&&"local"!==e.id||(e.id=this.localUser),super.dispatchEvent(e),"videoConferenceLeft"===e.type&&(this.localUser=null);else if("videoConferenceJoined"===e.type){for(e of(this.localUser=e.id,this.dispatchEvent(e),this.preInitEvtQ))this.dispatchEvent(e);arrayClear(this.preInitEvtQ)}else this.preInitEvtQ.push(e)}async joinAsync(e,t){this.dispose();const i=this.once("videoConferenceJoined");await this.initializeAsync(e,t),window.addEventListeners({beforeunload:()=>this.dispose(),pagehide:()=>this.dispose()});const n=await i;return this.setDisplayName(t),await this.setPreferredDevicesAsync(),n}async setPreferredDevicesAsync(){await this.setPreferredAudioOutputAsync(!0),await this.setPreferredAudioInputAsync(!0),await this.setPreferredVideoInputAsync(!1)}async setPreferredAudioOutputAsync(e){const t=arrayScan(await this.getAudioOutputDevicesAsync(),e=>e.deviceId===this.preferredAudioOutputID,e=>"communications"===e.deviceId,e=>"default"===e.deviceId,t=>e&&t&&t.deviceId);t&&await this.setAudioOutputDeviceAsync(t)}async setPreferredAudioInputAsync(e){const t=arrayScan(await this.getAudioInputDevicesAsync(),e=>e.deviceId===this.preferredAudioInputID,e=>"communications"===e.deviceId,e=>"default"===e.deviceId,t=>e&&t&&t.deviceId);t&&(this.preferredAudioInputID=t.deviceId,await this.setAudioInputDeviceAsync(t))}async setPreferredVideoInputAsync(e){const t=arrayScan(await this.getVideoInputDevicesAsync(),e=>e.deviceId===this.preferredVideoInputID,t=>e&&t&&/front/i.test(t.label),t=>e&&t&&t.deviceId);t&&(this.preferredVideoInputID=t.deviceId,await this.setVideoInputDeviceAsync(t))}dispose(){this.leave()}setDisplayName(e){throw new Error("Not implemented in base class")}async leaveAsync(){const e=this.once("videoConferenceLeft",5e3),t=this.leave();return t instanceof Promise&&await t,await e}leave(){throw new Error("Not implemented in base class")}async _getDevicesAsync(){let e=await navigator.mediaDevices.enumerateDevices();for(let t of e)t.deviceId.length>0&&(this.hasAudioPermission|="audioinput"===t.kind,this.hasVideoPermission|="videoinput"===t.kind);return e}async getAvailableDevicesAsync(){let e=await this._getDevicesAsync();for(let t=0;t<3&&!this.hasAudioPermission;++t){e=null;try{await navigator.mediaDevices.getUserMedia({audio:!this.hasAudioPermission,video:!this.hasVideoPermission})}catch(e){console.warn(e)}e=await this._getDevicesAsync()}return{audioOutput:canChangeAudioOutput?e.filter(e=>"audiooutput"===e.kind):[],audioInput:e.filter(e=>"audioinput"===e.kind),videoInput:e.filter(e=>"videoinput"===e.kind)}}async getAudioOutputDevicesAsync(){if(!canChangeAudioOutput)return[];const e=await this.getAvailableDevicesAsync();return e&&e.audioOutput||[]}async getAudioInputDevicesAsync(){const e=await this.getAvailableDevicesAsync();return e&&e.audioInput||[]}async getVideoInputDevicesAsync(){const e=await this.getAvailableDevicesAsync();return e&&e.videoInput||[]}async setAudioOutputDeviceAsync(e){this.preferredAudioOutputID=e&&e.deviceId||null}async setAudioInputDeviceAsync(e){this.preferredAudioInputID=e&&e.deviceId||null}async setVideoInputDeviceAsync(e){this.preferredVideoInputID=e&&e.deviceId||null}async getCurrentAudioInputDeviceAsync(){throw new Error("Not implemented in base class")}async getCurrentAudioOutputDeviceAsync(){throw new Error("Not implemented in base class")}async getCurrentVideoInputDeviceAsync(){throw new Error("Not implemented in base class")}async toggleAudioMutedAsync(){throw new Error("Not implemented in base class")}async toggleVideoMutedAsync(){throw new Error("Not implemented in base class")}get isAudioMuted(){throw new Error("Not implemented in base class")}get isVideoMuted(){throw new Error("Not implemented in base class")}txGameData(e,t){throw new Error("Not implemented in base class")}rxGameData(e){throw new Error("Not implemented in base class")}sendMessageTo(e,t,i){this.txGameData(e,{hax:this.appFingerPrint,command:t,value:i})}receiveMessageFrom(e,t,i){const n=new JitsiClientEvent(t,e,i);this.dispatchEvent(n)}setAudioProperties(e,t,i,n){this.audioClient.setAudioProperties(e,t,i,n)}setLocalPosition(e,t,i){this.audioClient.setLocalPosition(e,t,i);for(let n of this.userIDs())this.sendMessageTo(n,"userMoved",{x:e,y:t,z:i})}setUserPosition(e,t,i,n){this.audioClient.setUserPosition(e,t,i,n)}removeUser(e){this.audioClient.removeUser(e)}async setAudioMutedAsync(e){let t=this.isAudioMuted;return e!==t&&(t=await this.toggleAudioMutedAsync()),t}async setVideoMutedAsync(e){let t=this.isVideoMuted;return e!==t&&(t=await this.toggleVideoMutedAsync()),t}addEventListener(e,t,i){if(-1===eventNames$1.indexOf(e))throw new Error("Unsupported event type: "+e);super.addEventListener(e,t,i)}userInitRequest(e){this.sendMessageTo(e,"userInitRequest")}async userInitRequestAsync(e){return await this.until("userInitResponse",()=>this.userInitRequest(e),t=>t.id===e,1e3)}userInitResponse(e,t){this.sendMessageTo(e,"userInitResponse",t)}set avatarEmoji(e){for(let t of this.userIDs())this.sendMessageTo(t,"setAvatarEmoji",e)}set avatarURL(e){for(let t of this.userIDs())this.sendMessageTo(t,"avatarChanged",{url:e})}emote(e){for(let t of this.userIDs())this.sendMessageTo(t,"emote",e)}startAudio(){}}class JitsiClientEvent extends Event{constructor(e,t,i){super(e),this.id=t;for(let e in i)"isTrusted"===e||Object.prototype.hasOwnProperty.call(Event.prototype,e)||(this[e]=i[e])}}const KEY="CallaSettings",selfs$4=new WeakMap;class SettingsPrivate{constructor(){this.drawHearing=!1,this.audioDistanceMin=1,this.audioDistanceMax=10,this.audioRolloff=1,this.fontSize=12,this.transitionSpeed=1,this.zoom=1.5,this.roomName="calla",this.userName="",this.avatarEmoji=null,this.avatarURL=null,this.gamepadIndex=0,this.preferredAudioOutputID=null,this.preferredAudioInputID=null,this.preferredVideoInputID=null,this.inputBinding={keyButtonUp:"ArrowUp",keyButtonDown:"ArrowDown",keyButtonLeft:"ArrowLeft",keyButtonRight:"ArrowRight",keyButtonEmote:"e",keyButtonToggleAudio:"a",gpButtonUp:12,gpButtonDown:13,gpButtonLeft:14,gpButtonRight:15,gpButtonEmote:0,gpButtonToggleAudio:1};const e=localStorage.getItem(KEY);e&&Object.assign(this,JSON.parse(e)),Object.seal(this)}commit(){localStorage.setItem(KEY,JSON.stringify(this))}}class Settings{constructor(){const e=new SettingsPrivate;selfs$4.set(this,e),window.location.hash.length>0&&(e.roomName=window.location.hash.substring(1)),Object.seal(this)}get preferredAudioOutputID(){return selfs$4.get(this).preferredAudioOutputID}set preferredAudioOutputID(e){if(e!==this.preferredAudioOutputID){const t=selfs$4.get(this);t.preferredAudioOutputID=e,t.commit()}}get preferredAudioInputID(){return selfs$4.get(this).preferredAudioInputID}set preferredAudioInputID(e){if(e!==this.preferredAudioInputID){const t=selfs$4.get(this);t.preferredAudioInputID=e,t.commit()}}get preferredVideoInputID(){return selfs$4.get(this).preferredVideoInputID}set preferredVideoInputID(e){if(e!==this.preferredVideoInputID){const t=selfs$4.get(this);t.preferredVideoInputID=e,t.commit()}}get transitionSpeed(){return selfs$4.get(this).transitionSpeed}set transitionSpeed(e){if(e!==this.transitionSpeed){const t=selfs$4.get(this);t.transitionSpeed=e,t.commit()}}get drawHearing(){return selfs$4.get(this).drawHearing}set drawHearing(e){if(e!==this.drawHearing){const t=selfs$4.get(this);t.drawHearing=e,t.commit()}}get audioDistanceMin(){return selfs$4.get(this).audioDistanceMin}set audioDistanceMin(e){if(e!==this.audioDistanceMin){const t=selfs$4.get(this);t.audioDistanceMin=e,t.commit()}}get audioDistanceMax(){return selfs$4.get(this).audioDistanceMax}set audioDistanceMax(e){if(e!==this.audioDistanceMax){const t=selfs$4.get(this);t.audioDistanceMax=e,t.commit()}}get audioRolloff(){return selfs$4.get(this).audioRolloff}set audioRolloff(e){if(e!==this.audioRolloff){const t=selfs$4.get(this);t.audioRolloff=e,t.commit()}}get fontSize(){return selfs$4.get(this).fontSize}set fontSize(e){if(e!==this.fontSize){const t=selfs$4.get(this);t.fontSize=e,t.commit()}}get zoom(){return selfs$4.get(this).zoom}set zoom(e){if(e!==this.zoom){const t=selfs$4.get(this);t.zoom=e,t.commit()}}get userName(){return selfs$4.get(this).userName}set userName(e){if(e!==this.userName){const t=selfs$4.get(this);t.userName=e,t.commit()}}get avatarEmoji(){return selfs$4.get(this).avatarEmoji}set avatarEmoji(e){if(e!==this.avatarEmoji){const t=selfs$4.get(this);t.avatarEmoji=e,t.commit()}}get avatarURL(){return selfs$4.get(this).avatarURL}set avatarURL(e){if(e!==this.avatarURL){const t=selfs$4.get(this);t.avatarURL=e,t.commit()}}get roomName(){return selfs$4.get(this).roomName}set roomName(e){if(e!==this.roomName){const t=selfs$4.get(this);t.roomName=e,t.commit()}}get gamepadIndex(){return selfs$4.get(this).gamepadIndex}set gamepadIndex(e){if(e!==this.gamepadIndex){const t=selfs$4.get(this);t.gamepadIndex=e,t.commit()}}get inputBinding(){return selfs$4.get(this).inputBinding}set inputBinding(e){if(e!==this.inputBinding){const t=selfs$4.get(this);for(let i in e)t.inputBinding[i]=e[i];t.commit()}}}const versionString="Calla v0.3.1";function init(e){const t=new Settings,i=(new SFX).add("join","/audio/door-open.ogg","/audio/door-open.mp3","/audio/door-open.wav").add("leave","/audio/door-close.ogg","/audio/door-close.mp3","/audio/door-close.wav"),n=new Game,s=new LoginForm,a=new UserDirectoryForm,o=new HeaderBar,r=new FooterBar,A=new OptionsForm,l=new EmojiForm,c={settings:t,client:e,game:n,login:s,directory:a,headbar:o,footbar:r,options:A,emoji:l},h=[n,a,A,l,o,r,s].filter(e=>e.element);function u(){n.hide(),a.hide(),A.hide(),l.hide(),o.enabled=!1,r.enabled=!1,s.show()}async function d(e){if(!l.isOpen){o.optionsButton.lock(),o.instructionsButton.lock(),A.hide();const t=await l.selectAsync();t&&e(t),o.optionsButton.unlock(),o.instructionsButton.unlock()}}async function g(){await d(i=>{n.emote(e.localUser,i),r.setEmojiButton(t.inputBinding.keyButtonEmote,i)})}function p(){e.setAudioProperties(t.audioDistanceMin=n.audioDistanceMin=A.audioDistanceMin,t.audioDistanceMax=n.audioDistanceMax=A.audioDistanceMax,t.audioRolloff=A.audioRolloff,t.transitionSpeed)}function m(){A.gamepads=navigator.getGamepads(),A.gamepadIndex=n.gamepadIndex}function f(e){n.withUser("list user in directory",e,e=>a.set(e))}gridRowsDef("auto","1fr","auto").apply(document.body);let v=0;for(let e of h)if(e.element){let t=null;t=e===o?gridPos(1,1):e===r?gridPos(1,3):e===n||e===s?gridPos(1,1,1,3):gridPos(1,2),t.apply(e.element),e.element.style.zIndex=v++,document.body.append(e.element)}m(),o.enabled=!1,r.enabled=!1,A.drawHearing=n.drawHearing=t.drawHearing,A.audioDistanceMin=n.audioDistanceMin=t.audioDistanceMin,A.audioDistanceMax=n.audioDistanceMax=t.audioDistanceMax,A.audioRolloff=t.audioRolloff,A.fontSize=n.fontSize=t.fontSize,A.gamepadIndex=n.gamepadIndex=t.gamepadIndex,A.inputBinding=n.inputBinding=t.inputBinding,n.cameraZ=n.targetCameraZ=t.zoom,n.transitionSpeed=t.transitionSpeed=.5,s.userName=t.userName,s.roomName=t.roomName,e.preferredAudioOutputID=t.preferredAudioOutputID,e.preferredAudioInputID=t.preferredAudioInputID,e.preferredVideoInputID=t.preferredVideoInputID,u(),window.addEventListeners({gamepadconnected:m,gamepaddisconnected:m,resize:()=>{n.resize()}});const w=e=>()=>{if(!l.isOpen){const t=e.isOpen;s.hide(),a.hide(),A.hide(),e.isOpen=!t}};return o.addEventListeners({toggleOptions:w(A),toggleInstructions:w(s),toggleUserDirectory:w(a),tweet:()=>{const e=encodeURIComponent("Join my #TeleParty "+document.location.href),t=new URL("https://twitter.com/intent/tweet?text="+e);window.open(t)},leave:()=>{a.clear(),e.leave()}}),r.addEventListeners({selectEmoji:g,emote:()=>{n.emote(e.localUser,n.currentEmoji)},toggleAudio:async()=>{await e.toggleAudioMutedAsync()},toggleVideo:async()=>{await e.toggleVideoMutedAsync()}}),s.addEventListener("login",async()=>{e.startAudio(),p();const i=await e.joinAsync(t.roomName=s.roomName,t.userName=s.userName);s.connected=!0,window.location.hash=s.roomName,await n.startAsync(i.id,i.displayName,i.pose,i.avatarURL,i.roomName),e.avatarURL=n.me.avatarImage=A.avatarURL=t.avatarURL,A.audioInputDevices=await e.getAudioInputDevicesAsync(),A.audioOutputDevices=await e.getAudioOutputDevicesAsync(),A.videoInputDevices=await e.getVideoInputDevicesAsync(),A.currentAudioInputDevice=await e.getCurrentAudioInputDeviceAsync(),A.currentAudioOutputDevice=await e.getCurrentAudioOutputDeviceAsync(),A.currentVideoInputDevice=await e.getCurrentVideoInputDeviceAsync();const a=e.isAudioMuted;n.muteUserAudio(e.localUser,a),r.audioEnabled=!a;const o=e.isVideoMuted;n.muteUserVideo(e.localUser,o),r.videoEnabled=!o}),A.addEventListeners({audioPropertiesChanged:p,selectAvatar:async()=>{await d(i=>{t.avatarEmoji=e.avatarEmoji=n.me.avatarEmoji=i,f(e.localUser)})},avatarURLChanged:()=>{t.avatarURL=e.avatarURL=n.me.avatarImage=A.avatarURL,f(e.localUser)},toggleDrawHearing:()=>{t.drawHearing=n.drawHearing=A.drawHearing},fontSizeChanged:()=>{t.fontSize=n.fontSize=A.fontSize},gamepadChanged:()=>{t.gamepadIndex=n.gamepadIndex=A.gamepadIndex},inputBindingChanged:()=>{t.inputBinding=n.inputBinding=A.inputBinding},audioInputChanged:async()=>{const i=A.currentAudioInputDevice;await e.setAudioInputDeviceAsync(i),t.preferredAudioInputID=e.preferredAudioInputID},audioOutputChanged:async()=>{const i=A.currentAudioOutputDevice;await e.setAudioOutputDeviceAsync(i),t.preferredAudioOutputID=e.preferredAudioOutputID},videoInputChanged:async()=>{const i=A.currentVideoInputDevice;await e.setVideoInputDeviceAsync(i),t.preferredVideoInputID=e.preferredVideoInputID},toggleVideo:async()=>{await e.toggleVideoMutedAsync()}}),n.addEventListeners({emojiNeeded:g,emote:t=>{e.emote(t.emoji)},userJoined:e=>{f(e.user.id)},toggleAudio:async()=>{await e.toggleAudioMutedAsync(),t.preferredAudioInputID=e.preferredAudioInputID},toggleVideo:async()=>{await e.toggleVideoMutedAsync(),t.preferredVideoInputID=e.preferredVideoInputID},gameStarted:()=>{gridPos(1,2).apply(s.element),s.hide(),A.user=n.me,o.enabled=!0,r.enabled=!0,t.avatarEmoji=e.avatarEmoji=n.me.avatarEmoji=t.avatarEmoji||allPeople.random(),f(e.localUser)},userMoved:t=>{e.setLocalPosition(t.x,0,t.y)},gameEnded:()=>{gridPos(1,1,1,3).apply(s.element),s.connected=!1,u()},zoomChanged:()=>{t.zoom=n.targetCameraZ}}),a.addEventListener("warpTo",e=>{n.visit(e.id)}),e.addEventListeners({videoConferenceLeft:()=>{n.end()},participantJoined:e=>{i.play("join",.5),n.addUser(e.id,e.displayName,e.pose)},participantLeft:e=>{i.play("leave",.5),n.removeUser(e.id),a.delete(e.id)},audioChanged:e=>{f(e.id)},videoChanged:e=>{n.setAvatarVideo(e.id,e.stream),f(e.id)},avatarChanged:e=>{n.setAvatarURL(e.id,e.url),f(e.id)},displayNameChange:e=>{n.changeUserName(e.id,e.displayName),f(e.id)},audioMuteStatusChanged:async e=>{n.muteUserAudio(e.id,e.muted)},localAudioMuteStatusChanged:async t=>{r.audioEnabled=!t.muted,A.currentAudioInputDevice=await e.getCurrentAudioInputDeviceAsync()},videoMuteStatusChanged:async e=>{n.muteUserVideo(e.id,e.muted)},localVideoMuteStatusChanged:async t=>{r.videoEnabled=!t.muted,t.muted?A.setAvatarVideo(null):A.setAvatarVideo(n.me.avatarVideo.element),A.currentVideoInputDevice=await e.getCurrentVideoInputDeviceAsync()},userInitRequest:t=>{e.userInitResponse(t.id,n.me.serialize())},userInitResponse:e=>{n.initializeUser(e.id,e),f(e.id)},emote:e=>{n.emote(e.id,e)},setAvatarEmoji:e=>{n.setAvatarEmoji(e.id,e),f(e.id)},audioActivity:e=>{n.updateAudioActivity(e.id,e.isActive)}}),s.ready=!0,c}console.log("Calla v0.3.1");class AudioActivityEvent extends Event{constructor(){super("audioActivity"),this.id=null,this.isActive=!1,Object.seal(this)}set(e,t){this.id=e,this.isActive=t}}class MockAudioContext{constructor(){this._t=performance.now()/1e3,Object.seal(this)}get currentTime(){return performance.now()/1e3-this._t}get destination(){return null}}class BaseSource extends BaseSpatializer{constructor(e,t){if(super(),this.id=e,this.audio=null,this.stream=null,t instanceof HTMLAudioElement)this.audio=t;else if(t instanceof MediaStream)this.stream=t,this.audio=Audio(srcObject(this.stream),muted);else if(null!==t)throw new Error("Can't create a node from the given stream. Expected type HTMLAudioElement or MediaStream.");this.audio&&(this.audio.autoPlay=!0,this.audio.playsInline=!0,this.audio.addEventListener("onloadedmetadata",()=>this.audio.play()))}dispose(){this.audio&&(this.audio.pause(),this.audio=null),this.stream=null,super.dispose()}setAudioOutputDevice(e){this.audio&&canChangeAudioOutput&&this.audio.setSinkId(e)}}const audioActivityEvt=new AudioActivityEvent,activityCounterMin=0,activityCounterMax=60,activityCounterThresh=5;function frequencyToIndex(e,t,i){var n=t/2;return clamp(Math.round(e/n*i),0,i)}function analyserFrequencyAverage(e,t,i,n,s){const a=e.context.sampleRate,o=frequencyToIndex(i,a,s),r=frequencyToIndex(n,a,s),A=r-o;let l=0;for(let e=o;e<r;++e)l+=t[e];return 0===A?0:l/A}class BaseAnalyzed extends BaseSource{constructor(e,t,i,n,s){super(e,t),this.bufferSize=i,this.buffer=new Float32Array(this.bufferSize),this.analyser=n.createAnalyser(),this.analyser.fftSize=2*this.bufferSize,this.analyser.smoothingTimeConstant=.2,this.inNode=s,this.wasActive=!1,this.lastAudible=!0,this.activityCounter=0,this.source=null;const a=()=>{if(!this.source)if(this.stream)try{this.stream.active&&(this.source=n.createMediaStreamSource(this.stream),this.source.connect(this.analyser),this.source.connect(this.inNode),setTimeout(a,0))}catch(e){console.warn("Creating the media stream failed. Reason: ",e)}else if(this.audio)try{this.source=n.createMediaElementSource(this.audio),this.source.connect(this.analyser),this.source.connect(this.inNode)}catch(e){console.warn("Creating the media stream failed. Reason: ",e)}};a()}update(e){if(super.update(e),this.source){this.analyser.getFloatFrequencyData(this.buffer);const e=1.1+analyserFrequencyAverage(this.analyser,this.buffer,85,255,this.bufferSize)/100;e>=.5&&this.activityCounter<60?this.activityCounter++:e<.5&&this.activityCounter>0&&this.activityCounter--;const t=this.activityCounter>5;this.wasActive!==t&&(this.wasActive=t,audioActivityEvt.id=this.id,audioActivityEvt.isActive=t,this.dispatchEvent(audioActivityEvt))}}dispose(){this.source&&(this.source.disconnect(this.analyser),this.source.disconnect(this.inNode)),this.source=null,this.inNode=null,this.analyser=null,this.buffer=null,super.dispose()}}class BaseWebAudio extends BaseAnalyzed{constructor(e,t,i,n,s,a=null){super(e,t,i,n,s),this.outNode=a||s,this.outNode.connect(n.destination),this.inNode!==this.outNode&&this.inNode.connect(this.outNode)}dispose(){this.inNode!==this.outNode&&this.inNode.disconnect(this.outNode),this.outNode.disconnect(this.outNode.context.destination),this.outNode=null,super.dispose()}}class PannerBase extends BaseWebAudio{constructor(e,t,i,n){const s=n.createPanner();super(e,t,i,n,s),this.inNode.panningModel="HRTF",this.inNode.distanceModel="inverse",this.inNode.coneInnerAngle=360,this.inNode.coneOuterAngle=0,this.inNode.coneOuterGain=0}update(e){super.update(e),this.inNode.refDistance=this.minDistance,this.inNode.rolloffFactor=this.rolloff}}class PannerNew extends PannerBase{constructor(e,t,i,n){super(e,t,i,n),Object.seal(this)}update(e){super.update(e);const{p:t,f:i}=e;this.inNode.positionX.setValueAtTime(t.x,0),this.inNode.positionY.setValueAtTime(t.y,0),this.inNode.positionZ.setValueAtTime(t.z,0),this.inNode.orientationX.setValueAtTime(i.x,0),this.inNode.orientationY.setValueAtTime(i.y,0),this.inNode.orientationZ.setValueAtTime(i.z,0)}}class ManualBase extends BaseSpatializer{constructor(e){super(e),this.dest=e,this.delta=new Vector,this.volume=1,this.pan=0,Object.seal(this)}update(e){super.update(e),this.delta.sub(e.p,this.dest.p);const t=this.delta.len,i=project(t,this.minDistance,this.maxDistance);this.volume=1-clamp(i,0,1),this.volume=Math.round(100*this.volume*this.volume)/100,this.pan=t>0?this.delta.x/t:0}}class ManualVolume extends BaseSource{constructor(e,t,i){super(e,t),this.audio.muted=!1,this.audio.play(),this.manual=new ManualBase(i),this._lastVolume=null,Object.seal(this)}update(e){super.update(e),this.manual.update(e),this._lastVolume!==this.manual.volume&&(this._lastVolume=this.audio.volume=this.manual.volume)}}class ManualStereo extends BaseWebAudio{constructor(e,t,i,n,s){super(e,t,i,n,n.createStereoPanner(),n.createGain()),this.manual=new ManualBase(s),Object.seal(this)}update(e){super.update(e),this.manual.update(e),this.inNode.pan.value=this.manual.pan,this.outNode.gain.value=this.manual.volume}}let hasAudioContext=Object.prototype.hasOwnProperty.call(window,"AudioContext"),hasStereoPanner=hasAudioContext&&Object.prototype.hasOwnProperty.call(window,"StereoPannerNode");class BaseListener extends BaseSpatializer{constructor(){super()}createSource(e,t,i,n,s){if(hasStereoPanner)try{return new ManualStereo(e,t,i,n,s)}catch(e){hasStereoPanner=!1,console.warn("Couldn't create a stereo panner. Reason:",e)}if(!hasStereoPanner)return new ManualVolume(e,t,s)}}class AudioListenerBase extends BaseListener{constructor(e){super(),this.node=e}dispose(){this.node=null,super.dispose()}}class AudioListenerNew extends AudioListenerBase{constructor(e){super(e),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.node.positionX.setValueAtTime(t.x,0),this.node.positionY.setValueAtTime(t.y,0),this.node.positionZ.setValueAtTime(t.z,0),this.node.forwardX.setValueAtTime(i.x,0),this.node.forwardY.setValueAtTime(i.y,0),this.node.forwardZ.setValueAtTime(i.z,0),this.node.upX.setValueAtTime(n.x,0),this.node.upY.setValueAtTime(n.y,0),this.node.upZ.setValueAtTime(n.z,0)}createSource(e,t,i,n,s){return new PannerNew(e,t,i,n)}}class PannerOld extends PannerBase{constructor(e,t,i,n){super(e,t,i,n),Object.seal(this)}update(e){super.update(e);const{p:t,f:i}=e;this.inNode.setPosition(t.x,t.y,t.z),this.inNode.setOrientation(i.x,i.y,i.z)}}class AudioListenerOld extends AudioListenerBase{constructor(e){super(e),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.node.setPosition(t.x,t.y,t.z),this.node.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(e,t,i,n,s){return new PannerOld(e,t,i,n)}}!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function n(){}n.DEFAULT_SOURCE_GAIN=1,n.LISTENER_MAX_OUTSIDE_ROOM_DISTANCE=1,n.SOURCE_MAX_OUTSIDE_ROOM_DISTANCE=1,n.DEFAULT_SOURCE_DISTANCE=1,n.DEFAULT_POSITION=[0,0,0],n.DEFAULT_FORWARD=[0,0,-1],n.DEFAULT_UP=[0,1,0],n.DEFAULT_RIGHT=[1,0,0],n.DEFAULT_SPEED_OF_SOUND=343,n.ATTENUATION_ROLLOFFS=["logarithmic","linear","none"],n.DEFAULT_ATTENUATION_ROLLOFF="logarithmic",n.DEFAULT_MIN_DISTANCE=1,n.DEFAULT_MAX_DISTANCE=1e3,n.DEFAULT_DIRECTIVITY_ALPHA=0,n.DEFAULT_DIRECTIVITY_SHARPNESS=1,n.DEFAULT_AZIMUTH=0,n.DEFAULT_ELEVATION=0,n.DEFAULT_AMBISONIC_ORDER=1,n.DEFAULT_SOURCE_WIDTH=0,n.DEFAULT_REFLECTION_MAX_DURATION=.5,n.DEFAULT_REFLECTION_CUTOFF_FREQUENCY=6400,n.DEFAULT_REFLECTION_COEFFICIENTS={left:0,right:0,front:0,back:0,down:0,up:0},n.DEFAULT_REFLECTION_MIN_DISTANCE=1,n.DEFAULT_ROOM_DIMENSIONS={width:0,height:0,depth:0},n.DEFAULT_REFLECTION_MULTIPLIER=1,n.DEFAULT_REVERB_BANDWIDTH=1,n.DEFAULT_REVERB_DURATION_MULTIPLIER=1,n.DEFAULT_REVERB_PREDELAY=1.5,n.DEFAULT_REVERB_TAIL_ONSET=3.8,n.DEFAULT_REVERB_GAIN=.01,n.DEFAULT_REVERB_MAX_DURATION=3,n.DEFAULT_REVERB_FREQUENCY_BANDS=[31.25,62.5,125,250,500,1e3,2e3,4e3,8e3],n.NUMBER_REVERB_FREQUENCY_BANDS=n.DEFAULT_REVERB_FREQUENCY_BANDS.length,n.DEFAULT_REVERB_DURATIONS=new Float32Array(n.NUMBER_REVERB_FREQUENCY_BANDS),n.ROOM_MATERIAL_COEFFICIENTS={transparent:[1,1,1,1,1,1,1,1,1],"acoustic-ceiling-tiles":[.672,.675,.7,.66,.72,.92,.88,.75,1],"brick-bare":[.03,.03,.03,.03,.03,.04,.05,.07,.14],"brick-painted":[.006,.007,.01,.01,.02,.02,.02,.03,.06],"concrete-block-coarse":[.36,.36,.36,.44,.31,.29,.39,.25,.5],"concrete-block-painted":[.092,.09,.1,.05,.06,.07,.09,.08,.16],"curtain-heavy":[.073,.106,.14,.35,.55,.72,.7,.65,1],"fiber-glass-insulation":[.193,.22,.22,.82,.99,.99,.99,.99,1],"glass-thin":[.18,.169,.18,.06,.04,.03,.02,.02,.04],"glass-thick":[.35,.35,.35,.25,.18,.12,.07,.04,.08],grass:[.05,.05,.15,.25,.4,.55,.6,.6,.6],"linoleum-on-concrete":[.02,.02,.02,.03,.03,.03,.03,.02,.04],marble:[.01,.01,.01,.01,.01,.01,.02,.02,.04],metal:[.03,.035,.04,.04,.05,.05,.05,.07,.09],"parquet-on-concrete":[.028,.03,.04,.04,.07,.06,.06,.07,.14],"plaster-rough":[.017,.018,.02,.03,.04,.05,.04,.03,.06],"plaster-smooth":[.011,.012,.013,.015,.02,.03,.04,.05,.1],"plywood-panel":[.4,.34,.28,.22,.17,.09,.1,.11,.22],"polished-concrete-or-tile":[.008,.008,.01,.01,.015,.02,.02,.02,.04],"sheet-rock":[.29,.279,.29,.1,.05,.04,.07,.09,.18],"water-or-ice-surface":[.006,.006,.008,.008,.013,.015,.02,.025,.05],"wood-ceiling":[.15,.147,.15,.11,.1,.07,.06,.07,.14],"wood-panel":[.28,.28,.28,.22,.17,.09,.1,.11,.22],uniform:[.5,.5,.5,.5,.5,.5,.5,.5,.5]},n.DEFAULT_ROOM_MATERIALS={left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"transparent",up:"transparent"},n.NUMBER_REFLECTION_AVERAGING_BANDS=3,n.ROOM_STARTING_AVERAGING_BAND=4,n.ROOM_MIN_VOLUME=1e-4,n.ROOM_AIR_ABSORPTION_COEFFICIENTS=[6e-4,6e-4,7e-4,8e-4,.001,.0015,.0026,.006,.0207],n.ROOM_EYRING_CORRECTION_COEFFICIENT=1.38,n.TWO_PI=6.28318530717959,n.TWENTY_FOUR_LOG10=55.2620422318571,n.LOG1000=6.90775527898214,n.LOG2_DIV2=.346573590279973,n.DEGREES_TO_RADIANS=.017453292519943,n.RADIANS_TO_DEGREES=57.29577951308232,n.EPSILON_FLOAT=1e-8,n.log=function(){window.console.log.apply(window.console,["%c[ResonanceAudio]%c "+Array.prototype.slice.call(arguments).join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #BBDEFB; color: #FF5722; font-weight: 700","font-weight: 400","color: #AAA"])},n.normalizeVector=function(e){let i=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return i>t.EPSILON_FLOAT&&(i=1/i,e[0]*=i,e[1]*=i,e[2]*=i),e},n.crossProduct=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},e.exports=n},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(3),s=i(0);function a(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=s.DEFAULT_AMBISONIC_ORDER),null==t.azimuth&&(t.azimuth=s.DEFAULT_AZIMUTH),null==t.elevation&&(t.elevation=s.DEFAULT_ELEVATION),null==t.sourceWidth&&(t.sourceWidth=s.DEFAULT_SOURCE_WIDTH),this._context=e,this.input=e.createGain(),this._channelGain=[],this._merger=void 0,this.output=e.createGain(),this.setAmbisonicOrder(t.ambisonicOrder),this._azimuth=t.azimuth,this._elevation=t.elevation,this.setSourceWidth(t.sourceWidth)}a.prototype.setAmbisonicOrder=function(e){this._ambisonicOrder=a.validateAmbisonicOrder(e),this.input.disconnect();for(let e=0;e<this._channelGain.length;e++)this._channelGain[e].disconnect();null!=this._merger&&this._merger.disconnect(),delete this._channelGain,delete this._merger;let t=(this._ambisonicOrder+1)*(this._ambisonicOrder+1);this._merger=this._context.createChannelMerger(t),this._channelGain=new Array(t);for(let e=0;e<t;e++)this._channelGain[e]=this._context.createGain(),this.input.connect(this._channelGain[e]),this._channelGain[e].connect(this._merger,0,e);this._merger.connect(this.output)},a.prototype.setDirection=function(e,t){(null==e||isNaN(e))&&(e=s.DEFAULT_AZIMUTH),(null==t||isNaN(t))&&(t=s.DEFAULT_ELEVATION),this._azimuth=e,this._elevation=t,(e=Math.round(e%360))<0&&(e+=360),t=Math.round(Math.min(90,Math.max(-90,t)))+90,this._channelGain[0].gain.value=n.MAX_RE_WEIGHTS[this._spreadIndex][0];for(let i=1;i<=this._ambisonicOrder;i++){let s=n.MAX_RE_WEIGHTS[this._spreadIndex][i];for(let a=-i;a<=i;a++){let o=i*i+i+a,r=i*(i+1)/2+Math.abs(a)-1,A=n.SPHERICAL_HARMONICS[1][t][r];if(0!=a){let t=n.SPHERICAL_HARMONICS_MAX_ORDER+a-1;a<0&&(t=n.SPHERICAL_HARMONICS_MAX_ORDER+a),A*=n.SPHERICAL_HARMONICS[0][e][t]}this._channelGain[o].gain.value=A*s}}},a.prototype.setSourceWidth=function(e){this._spreadIndex=Math.min(359,Math.max(0,Math.round(e))),this.setDirection(this._azimuth,this._elevation)},a.validateAmbisonicOrder=function(e){return isNaN(e)||null==e?(s.log("Error: Invalid ambisonic order",options.ambisonicOrder,"\nUsing ambisonicOrder=1 instead."),e=1):e<1?(s.log("Error: Unable to render ambisonic order",options.ambisonicOrder,"(Min order is 1)","\nUsing min order instead."),e=1):e>n.SPHERICAL_HARMONICS_MAX_ORDER&&(s.log("Error: Unable to render ambisonic order",options.ambisonicOrder,"(Max order is",n.SPHERICAL_HARMONICS_MAX_ORDER,")\nUsing max order instead."),options.ambisonicOrder=n.SPHERICAL_HARMONICS_MAX_ORDER),e},e.exports=a},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(12),s=i(1),a=i(0);function o(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=a.DEFAULT_AMBISONIC_ORDER),null==t.position&&(t.position=a.DEFAULT_POSITION.slice()),null==t.forward&&(t.forward=a.DEFAULT_FORWARD.slice()),null==t.up&&(t.up=a.DEFAULT_UP.slice()),this.position=new Float32Array(3),this._tempMatrix3=new Float32Array(9),this._ambisonicOrder=s.validateAmbisonicOrder(t.ambisonicOrder),this._context=e,1==this._ambisonicOrder?this._renderer=n.Omnitone.createFOARenderer(e,{}):this._ambisonicOrder>1&&(this._renderer=n.Omnitone.createHOARenderer(e,{ambisonicOrder:this._ambisonicOrder})),this.input=e.createGain(),this.output=e.createGain(),this.ambisonicOutput=e.createGain();let i=this;this._renderer.initialize().then((function(){i.input.connect(i._renderer.input),i._ambisonicOrder>1?i._renderer._hoaRotator.output.connect(i.ambisonicOutput):i._renderer._foaRotator.output.connect(i.ambisonicOutput),i._renderer.output.connect(i.output)})),this.setOrientation(t.forward[0],t.forward[1],t.forward[2],t.up[0],t.up[1],t.up[2])}o.prototype.setOrientation=function(e,t,i,n,s,o){let r=a.crossProduct([e,t,i],[n,s,o]);this._tempMatrix3[0]=r[0],this._tempMatrix3[1]=r[1],this._tempMatrix3[2]=r[2],this._tempMatrix3[3]=n,this._tempMatrix3[4]=s,this._tempMatrix3[5]=o,this._tempMatrix3[6]=e,this._tempMatrix3[7]=t,this._tempMatrix3[8]=i,this._renderer.setRotationMatrix3(this._tempMatrix3)},o.prototype.setFromMatrix=function(e){this._renderer.setRotationMatrix4(e.elements),this.position[0]=e.elements[12],this.position[1]=e.elements[13],this.position[2]=e.elements[14]},e.exports=o},function(e,t,i){t.SPHERICAL_HARMONICS=[[[0,0,0,1,1,1],[.052336,.034899,.017452,.999848,.999391,.99863],[.104528,.069756,.034899,.999391,.997564,.994522],[.156434,.104528,.052336,.99863,.994522,.987688],[.207912,.139173,.069756,.997564,.990268,.978148],[.258819,.173648,.087156,.996195,.984808,.965926],[.309017,.207912,.104528,.994522,.978148,.951057],[.358368,.241922,.121869,.992546,.970296,.93358],[.406737,.275637,.139173,.990268,.961262,.913545],[.45399,.309017,.156434,.987688,.951057,.891007],[.5,.34202,.173648,.984808,.939693,.866025],[.544639,.374607,.190809,.981627,.927184,.838671],[.587785,.406737,.207912,.978148,.913545,.809017],[.62932,.438371,.224951,.97437,.898794,.777146],[.669131,.469472,.241922,.970296,.882948,.743145],[.707107,.5,.258819,.965926,.866025,.707107],[.743145,.529919,.275637,.961262,.848048,.669131],[.777146,.559193,.292372,.956305,.829038,.62932],[.809017,.587785,.309017,.951057,.809017,.587785],[.838671,.615661,.325568,.945519,.788011,.544639],[.866025,.642788,.34202,.939693,.766044,.5],[.891007,.669131,.358368,.93358,.743145,.45399],[.913545,.694658,.374607,.927184,.71934,.406737],[.93358,.71934,.390731,.920505,.694658,.358368],[.951057,.743145,.406737,.913545,.669131,.309017],[.965926,.766044,.422618,.906308,.642788,.258819],[.978148,.788011,.438371,.898794,.615661,.207912],[.987688,.809017,.45399,.891007,.587785,.156434],[.994522,.829038,.469472,.882948,.559193,.104528],[.99863,.848048,.48481,.87462,.529919,.052336],[1,.866025,.5,.866025,.5,0],[.99863,.882948,.515038,.857167,.469472,-.052336],[.994522,.898794,.529919,.848048,.438371,-.104528],[.987688,.913545,.544639,.838671,.406737,-.156434],[.978148,.927184,.559193,.829038,.374607,-.207912],[.965926,.939693,.573576,.819152,.34202,-.258819],[.951057,.951057,.587785,.809017,.309017,-.309017],[.93358,.961262,.601815,.798636,.275637,-.358368],[.913545,.970296,.615661,.788011,.241922,-.406737],[.891007,.978148,.62932,.777146,.207912,-.45399],[.866025,.984808,.642788,.766044,.173648,-.5],[.838671,.990268,.656059,.75471,.139173,-.544639],[.809017,.994522,.669131,.743145,.104528,-.587785],[.777146,.997564,.681998,.731354,.069756,-.62932],[.743145,.999391,.694658,.71934,.034899,-.669131],[.707107,1,.707107,.707107,0,-.707107],[.669131,.999391,.71934,.694658,-.034899,-.743145],[.62932,.997564,.731354,.681998,-.069756,-.777146],[.587785,.994522,.743145,.669131,-.104528,-.809017],[.544639,.990268,.75471,.656059,-.139173,-.838671],[.5,.984808,.766044,.642788,-.173648,-.866025],[.45399,.978148,.777146,.62932,-.207912,-.891007],[.406737,.970296,.788011,.615661,-.241922,-.913545],[.358368,.961262,.798636,.601815,-.275637,-.93358],[.309017,.951057,.809017,.587785,-.309017,-.951057],[.258819,.939693,.819152,.573576,-.34202,-.965926],[.207912,.927184,.829038,.559193,-.374607,-.978148],[.156434,.913545,.838671,.544639,-.406737,-.987688],[.104528,.898794,.848048,.529919,-.438371,-.994522],[.052336,.882948,.857167,.515038,-.469472,-.99863],[0,.866025,.866025,.5,-.5,-1],[-.052336,.848048,.87462,.48481,-.529919,-.99863],[-.104528,.829038,.882948,.469472,-.559193,-.994522],[-.156434,.809017,.891007,.45399,-.587785,-.987688],[-.207912,.788011,.898794,.438371,-.615661,-.978148],[-.258819,.766044,.906308,.422618,-.642788,-.965926],[-.309017,.743145,.913545,.406737,-.669131,-.951057],[-.358368,.71934,.920505,.390731,-.694658,-.93358],[-.406737,.694658,.927184,.374607,-.71934,-.913545],[-.45399,.669131,.93358,.358368,-.743145,-.891007],[-.5,.642788,.939693,.34202,-.766044,-.866025],[-.544639,.615661,.945519,.325568,-.788011,-.838671],[-.587785,.587785,.951057,.309017,-.809017,-.809017],[-.62932,.559193,.956305,.292372,-.829038,-.777146],[-.669131,.529919,.961262,.275637,-.848048,-.743145],[-.707107,.5,.965926,.258819,-.866025,-.707107],[-.743145,.469472,.970296,.241922,-.882948,-.669131],[-.777146,.438371,.97437,.224951,-.898794,-.62932],[-.809017,.406737,.978148,.207912,-.913545,-.587785],[-.838671,.374607,.981627,.190809,-.927184,-.544639],[-.866025,.34202,.984808,.173648,-.939693,-.5],[-.891007,.309017,.987688,.156434,-.951057,-.45399],[-.913545,.275637,.990268,.139173,-.961262,-.406737],[-.93358,.241922,.992546,.121869,-.970296,-.358368],[-.951057,.207912,.994522,.104528,-.978148,-.309017],[-.965926,.173648,.996195,.087156,-.984808,-.258819],[-.978148,.139173,.997564,.069756,-.990268,-.207912],[-.987688,.104528,.99863,.052336,-.994522,-.156434],[-.994522,.069756,.999391,.034899,-.997564,-.104528],[-.99863,.034899,.999848,.017452,-.999391,-.052336],[-1,0,1,0,-1,-0],[-.99863,-.034899,.999848,-.017452,-.999391,.052336],[-.994522,-.069756,.999391,-.034899,-.997564,.104528],[-.987688,-.104528,.99863,-.052336,-.994522,.156434],[-.978148,-.139173,.997564,-.069756,-.990268,.207912],[-.965926,-.173648,.996195,-.087156,-.984808,.258819],[-.951057,-.207912,.994522,-.104528,-.978148,.309017],[-.93358,-.241922,.992546,-.121869,-.970296,.358368],[-.913545,-.275637,.990268,-.139173,-.961262,.406737],[-.891007,-.309017,.987688,-.156434,-.951057,.45399],[-.866025,-.34202,.984808,-.173648,-.939693,.5],[-.838671,-.374607,.981627,-.190809,-.927184,.544639],[-.809017,-.406737,.978148,-.207912,-.913545,.587785],[-.777146,-.438371,.97437,-.224951,-.898794,.62932],[-.743145,-.469472,.970296,-.241922,-.882948,.669131],[-.707107,-.5,.965926,-.258819,-.866025,.707107],[-.669131,-.529919,.961262,-.275637,-.848048,.743145],[-.62932,-.559193,.956305,-.292372,-.829038,.777146],[-.587785,-.587785,.951057,-.309017,-.809017,.809017],[-.544639,-.615661,.945519,-.325568,-.788011,.838671],[-.5,-.642788,.939693,-.34202,-.766044,.866025],[-.45399,-.669131,.93358,-.358368,-.743145,.891007],[-.406737,-.694658,.927184,-.374607,-.71934,.913545],[-.358368,-.71934,.920505,-.390731,-.694658,.93358],[-.309017,-.743145,.913545,-.406737,-.669131,.951057],[-.258819,-.766044,.906308,-.422618,-.642788,.965926],[-.207912,-.788011,.898794,-.438371,-.615661,.978148],[-.156434,-.809017,.891007,-.45399,-.587785,.987688],[-.104528,-.829038,.882948,-.469472,-.559193,.994522],[-.052336,-.848048,.87462,-.48481,-.529919,.99863],[-0,-.866025,.866025,-.5,-.5,1],[.052336,-.882948,.857167,-.515038,-.469472,.99863],[.104528,-.898794,.848048,-.529919,-.438371,.994522],[.156434,-.913545,.838671,-.544639,-.406737,.987688],[.207912,-.927184,.829038,-.559193,-.374607,.978148],[.258819,-.939693,.819152,-.573576,-.34202,.965926],[.309017,-.951057,.809017,-.587785,-.309017,.951057],[.358368,-.961262,.798636,-.601815,-.275637,.93358],[.406737,-.970296,.788011,-.615661,-.241922,.913545],[.45399,-.978148,.777146,-.62932,-.207912,.891007],[.5,-.984808,.766044,-.642788,-.173648,.866025],[.544639,-.990268,.75471,-.656059,-.139173,.838671],[.587785,-.994522,.743145,-.669131,-.104528,.809017],[.62932,-.997564,.731354,-.681998,-.069756,.777146],[.669131,-.999391,.71934,-.694658,-.034899,.743145],[.707107,-1,.707107,-.707107,-0,.707107],[.743145,-.999391,.694658,-.71934,.034899,.669131],[.777146,-.997564,.681998,-.731354,.069756,.62932],[.809017,-.994522,.669131,-.743145,.104528,.587785],[.838671,-.990268,.656059,-.75471,.139173,.544639],[.866025,-.984808,.642788,-.766044,.173648,.5],[.891007,-.978148,.62932,-.777146,.207912,.45399],[.913545,-.970296,.615661,-.788011,.241922,.406737],[.93358,-.961262,.601815,-.798636,.275637,.358368],[.951057,-.951057,.587785,-.809017,.309017,.309017],[.965926,-.939693,.573576,-.819152,.34202,.258819],[.978148,-.927184,.559193,-.829038,.374607,.207912],[.987688,-.913545,.544639,-.838671,.406737,.156434],[.994522,-.898794,.529919,-.848048,.438371,.104528],[.99863,-.882948,.515038,-.857167,.469472,.052336],[1,-.866025,.5,-.866025,.5,0],[.99863,-.848048,.48481,-.87462,.529919,-.052336],[.994522,-.829038,.469472,-.882948,.559193,-.104528],[.987688,-.809017,.45399,-.891007,.587785,-.156434],[.978148,-.788011,.438371,-.898794,.615661,-.207912],[.965926,-.766044,.422618,-.906308,.642788,-.258819],[.951057,-.743145,.406737,-.913545,.669131,-.309017],[.93358,-.71934,.390731,-.920505,.694658,-.358368],[.913545,-.694658,.374607,-.927184,.71934,-.406737],[.891007,-.669131,.358368,-.93358,.743145,-.45399],[.866025,-.642788,.34202,-.939693,.766044,-.5],[.838671,-.615661,.325568,-.945519,.788011,-.544639],[.809017,-.587785,.309017,-.951057,.809017,-.587785],[.777146,-.559193,.292372,-.956305,.829038,-.62932],[.743145,-.529919,.275637,-.961262,.848048,-.669131],[.707107,-.5,.258819,-.965926,.866025,-.707107],[.669131,-.469472,.241922,-.970296,.882948,-.743145],[.62932,-.438371,.224951,-.97437,.898794,-.777146],[.587785,-.406737,.207912,-.978148,.913545,-.809017],[.544639,-.374607,.190809,-.981627,.927184,-.838671],[.5,-.34202,.173648,-.984808,.939693,-.866025],[.45399,-.309017,.156434,-.987688,.951057,-.891007],[.406737,-.275637,.139173,-.990268,.961262,-.913545],[.358368,-.241922,.121869,-.992546,.970296,-.93358],[.309017,-.207912,.104528,-.994522,.978148,-.951057],[.258819,-.173648,.087156,-.996195,.984808,-.965926],[.207912,-.139173,.069756,-.997564,.990268,-.978148],[.156434,-.104528,.052336,-.99863,.994522,-.987688],[.104528,-.069756,.034899,-.999391,.997564,-.994522],[.052336,-.034899,.017452,-.999848,.999391,-.99863],[0,-0,0,-1,1,-1],[-.052336,.034899,-.017452,-.999848,.999391,-.99863],[-.104528,.069756,-.034899,-.999391,.997564,-.994522],[-.156434,.104528,-.052336,-.99863,.994522,-.987688],[-.207912,.139173,-.069756,-.997564,.990268,-.978148],[-.258819,.173648,-.087156,-.996195,.984808,-.965926],[-.309017,.207912,-.104528,-.994522,.978148,-.951057],[-.358368,.241922,-.121869,-.992546,.970296,-.93358],[-.406737,.275637,-.139173,-.990268,.961262,-.913545],[-.45399,.309017,-.156434,-.987688,.951057,-.891007],[-.5,.34202,-.173648,-.984808,.939693,-.866025],[-.544639,.374607,-.190809,-.981627,.927184,-.838671],[-.587785,.406737,-.207912,-.978148,.913545,-.809017],[-.62932,.438371,-.224951,-.97437,.898794,-.777146],[-.669131,.469472,-.241922,-.970296,.882948,-.743145],[-.707107,.5,-.258819,-.965926,.866025,-.707107],[-.743145,.529919,-.275637,-.961262,.848048,-.669131],[-.777146,.559193,-.292372,-.956305,.829038,-.62932],[-.809017,.587785,-.309017,-.951057,.809017,-.587785],[-.838671,.615661,-.325568,-.945519,.788011,-.544639],[-.866025,.642788,-.34202,-.939693,.766044,-.5],[-.891007,.669131,-.358368,-.93358,.743145,-.45399],[-.913545,.694658,-.374607,-.927184,.71934,-.406737],[-.93358,.71934,-.390731,-.920505,.694658,-.358368],[-.951057,.743145,-.406737,-.913545,.669131,-.309017],[-.965926,.766044,-.422618,-.906308,.642788,-.258819],[-.978148,.788011,-.438371,-.898794,.615661,-.207912],[-.987688,.809017,-.45399,-.891007,.587785,-.156434],[-.994522,.829038,-.469472,-.882948,.559193,-.104528],[-.99863,.848048,-.48481,-.87462,.529919,-.052336],[-1,.866025,-.5,-.866025,.5,0],[-.99863,.882948,-.515038,-.857167,.469472,.052336],[-.994522,.898794,-.529919,-.848048,.438371,.104528],[-.987688,.913545,-.544639,-.838671,.406737,.156434],[-.978148,.927184,-.559193,-.829038,.374607,.207912],[-.965926,.939693,-.573576,-.819152,.34202,.258819],[-.951057,.951057,-.587785,-.809017,.309017,.309017],[-.93358,.961262,-.601815,-.798636,.275637,.358368],[-.913545,.970296,-.615661,-.788011,.241922,.406737],[-.891007,.978148,-.62932,-.777146,.207912,.45399],[-.866025,.984808,-.642788,-.766044,.173648,.5],[-.838671,.990268,-.656059,-.75471,.139173,.544639],[-.809017,.994522,-.669131,-.743145,.104528,.587785],[-.777146,.997564,-.681998,-.731354,.069756,.62932],[-.743145,.999391,-.694658,-.71934,.034899,.669131],[-.707107,1,-.707107,-.707107,0,.707107],[-.669131,.999391,-.71934,-.694658,-.034899,.743145],[-.62932,.997564,-.731354,-.681998,-.069756,.777146],[-.587785,.994522,-.743145,-.669131,-.104528,.809017],[-.544639,.990268,-.75471,-.656059,-.139173,.838671],[-.5,.984808,-.766044,-.642788,-.173648,.866025],[-.45399,.978148,-.777146,-.62932,-.207912,.891007],[-.406737,.970296,-.788011,-.615661,-.241922,.913545],[-.358368,.961262,-.798636,-.601815,-.275637,.93358],[-.309017,.951057,-.809017,-.587785,-.309017,.951057],[-.258819,.939693,-.819152,-.573576,-.34202,.965926],[-.207912,.927184,-.829038,-.559193,-.374607,.978148],[-.156434,.913545,-.838671,-.544639,-.406737,.987688],[-.104528,.898794,-.848048,-.529919,-.438371,.994522],[-.052336,.882948,-.857167,-.515038,-.469472,.99863],[-0,.866025,-.866025,-.5,-.5,1],[.052336,.848048,-.87462,-.48481,-.529919,.99863],[.104528,.829038,-.882948,-.469472,-.559193,.994522],[.156434,.809017,-.891007,-.45399,-.587785,.987688],[.207912,.788011,-.898794,-.438371,-.615661,.978148],[.258819,.766044,-.906308,-.422618,-.642788,.965926],[.309017,.743145,-.913545,-.406737,-.669131,.951057],[.358368,.71934,-.920505,-.390731,-.694658,.93358],[.406737,.694658,-.927184,-.374607,-.71934,.913545],[.45399,.669131,-.93358,-.358368,-.743145,.891007],[.5,.642788,-.939693,-.34202,-.766044,.866025],[.544639,.615661,-.945519,-.325568,-.788011,.838671],[.587785,.587785,-.951057,-.309017,-.809017,.809017],[.62932,.559193,-.956305,-.292372,-.829038,.777146],[.669131,.529919,-.961262,-.275637,-.848048,.743145],[.707107,.5,-.965926,-.258819,-.866025,.707107],[.743145,.469472,-.970296,-.241922,-.882948,.669131],[.777146,.438371,-.97437,-.224951,-.898794,.62932],[.809017,.406737,-.978148,-.207912,-.913545,.587785],[.838671,.374607,-.981627,-.190809,-.927184,.544639],[.866025,.34202,-.984808,-.173648,-.939693,.5],[.891007,.309017,-.987688,-.156434,-.951057,.45399],[.913545,.275637,-.990268,-.139173,-.961262,.406737],[.93358,.241922,-.992546,-.121869,-.970296,.358368],[.951057,.207912,-.994522,-.104528,-.978148,.309017],[.965926,.173648,-.996195,-.087156,-.984808,.258819],[.978148,.139173,-.997564,-.069756,-.990268,.207912],[.987688,.104528,-.99863,-.052336,-.994522,.156434],[.994522,.069756,-.999391,-.034899,-.997564,.104528],[.99863,.034899,-.999848,-.017452,-.999391,.052336],[1,0,-1,-0,-1,0],[.99863,-.034899,-.999848,.017452,-.999391,-.052336],[.994522,-.069756,-.999391,.034899,-.997564,-.104528],[.987688,-.104528,-.99863,.052336,-.994522,-.156434],[.978148,-.139173,-.997564,.069756,-.990268,-.207912],[.965926,-.173648,-.996195,.087156,-.984808,-.258819],[.951057,-.207912,-.994522,.104528,-.978148,-.309017],[.93358,-.241922,-.992546,.121869,-.970296,-.358368],[.913545,-.275637,-.990268,.139173,-.961262,-.406737],[.891007,-.309017,-.987688,.156434,-.951057,-.45399],[.866025,-.34202,-.984808,.173648,-.939693,-.5],[.838671,-.374607,-.981627,.190809,-.927184,-.544639],[.809017,-.406737,-.978148,.207912,-.913545,-.587785],[.777146,-.438371,-.97437,.224951,-.898794,-.62932],[.743145,-.469472,-.970296,.241922,-.882948,-.669131],[.707107,-.5,-.965926,.258819,-.866025,-.707107],[.669131,-.529919,-.961262,.275637,-.848048,-.743145],[.62932,-.559193,-.956305,.292372,-.829038,-.777146],[.587785,-.587785,-.951057,.309017,-.809017,-.809017],[.544639,-.615661,-.945519,.325568,-.788011,-.838671],[.5,-.642788,-.939693,.34202,-.766044,-.866025],[.45399,-.669131,-.93358,.358368,-.743145,-.891007],[.406737,-.694658,-.927184,.374607,-.71934,-.913545],[.358368,-.71934,-.920505,.390731,-.694658,-.93358],[.309017,-.743145,-.913545,.406737,-.669131,-.951057],[.258819,-.766044,-.906308,.422618,-.642788,-.965926],[.207912,-.788011,-.898794,.438371,-.615661,-.978148],[.156434,-.809017,-.891007,.45399,-.587785,-.987688],[.104528,-.829038,-.882948,.469472,-.559193,-.994522],[.052336,-.848048,-.87462,.48481,-.529919,-.99863],[0,-.866025,-.866025,.5,-.5,-1],[-.052336,-.882948,-.857167,.515038,-.469472,-.99863],[-.104528,-.898794,-.848048,.529919,-.438371,-.994522],[-.156434,-.913545,-.838671,.544639,-.406737,-.987688],[-.207912,-.927184,-.829038,.559193,-.374607,-.978148],[-.258819,-.939693,-.819152,.573576,-.34202,-.965926],[-.309017,-.951057,-.809017,.587785,-.309017,-.951057],[-.358368,-.961262,-.798636,.601815,-.275637,-.93358],[-.406737,-.970296,-.788011,.615661,-.241922,-.913545],[-.45399,-.978148,-.777146,.62932,-.207912,-.891007],[-.5,-.984808,-.766044,.642788,-.173648,-.866025],[-.544639,-.990268,-.75471,.656059,-.139173,-.838671],[-.587785,-.994522,-.743145,.669131,-.104528,-.809017],[-.62932,-.997564,-.731354,.681998,-.069756,-.777146],[-.669131,-.999391,-.71934,.694658,-.034899,-.743145],[-.707107,-1,-.707107,.707107,-0,-.707107],[-.743145,-.999391,-.694658,.71934,.034899,-.669131],[-.777146,-.997564,-.681998,.731354,.069756,-.62932],[-.809017,-.994522,-.669131,.743145,.104528,-.587785],[-.838671,-.990268,-.656059,.75471,.139173,-.544639],[-.866025,-.984808,-.642788,.766044,.173648,-.5],[-.891007,-.978148,-.62932,.777146,.207912,-.45399],[-.913545,-.970296,-.615661,.788011,.241922,-.406737],[-.93358,-.961262,-.601815,.798636,.275637,-.358368],[-.951057,-.951057,-.587785,.809017,.309017,-.309017],[-.965926,-.939693,-.573576,.819152,.34202,-.258819],[-.978148,-.927184,-.559193,.829038,.374607,-.207912],[-.987688,-.913545,-.544639,.838671,.406737,-.156434],[-.994522,-.898794,-.529919,.848048,.438371,-.104528],[-.99863,-.882948,-.515038,.857167,.469472,-.052336],[-1,-.866025,-.5,.866025,.5,-0],[-.99863,-.848048,-.48481,.87462,.529919,.052336],[-.994522,-.829038,-.469472,.882948,.559193,.104528],[-.987688,-.809017,-.45399,.891007,.587785,.156434],[-.978148,-.788011,-.438371,.898794,.615661,.207912],[-.965926,-.766044,-.422618,.906308,.642788,.258819],[-.951057,-.743145,-.406737,.913545,.669131,.309017],[-.93358,-.71934,-.390731,.920505,.694658,.358368],[-.913545,-.694658,-.374607,.927184,.71934,.406737],[-.891007,-.669131,-.358368,.93358,.743145,.45399],[-.866025,-.642788,-.34202,.939693,.766044,.5],[-.838671,-.615661,-.325568,.945519,.788011,.544639],[-.809017,-.587785,-.309017,.951057,.809017,.587785],[-.777146,-.559193,-.292372,.956305,.829038,.62932],[-.743145,-.529919,-.275637,.961262,.848048,.669131],[-.707107,-.5,-.258819,.965926,.866025,.707107],[-.669131,-.469472,-.241922,.970296,.882948,.743145],[-.62932,-.438371,-.224951,.97437,.898794,.777146],[-.587785,-.406737,-.207912,.978148,.913545,.809017],[-.544639,-.374607,-.190809,.981627,.927184,.838671],[-.5,-.34202,-.173648,.984808,.939693,.866025],[-.45399,-.309017,-.156434,.987688,.951057,.891007],[-.406737,-.275637,-.139173,.990268,.961262,.913545],[-.358368,-.241922,-.121869,.992546,.970296,.93358],[-.309017,-.207912,-.104528,.994522,.978148,.951057],[-.258819,-.173648,-.087156,.996195,.984808,.965926],[-.207912,-.139173,-.069756,.997564,.990268,.978148],[-.156434,-.104528,-.052336,.99863,.994522,.987688],[-.104528,-.069756,-.034899,.999391,.997564,.994522],[-.052336,-.034899,-.017452,.999848,.999391,.99863]],[[-1,-0,1,-0,0,-1,-0,0,-0],[-.999848,.017452,.999543,-.030224,264e-6,-.999086,.042733,-59e-5,4e-6],[-.999391,.034899,.998173,-.060411,.001055,-.996348,.085356,-.002357,34e-6],[-.99863,.052336,.995891,-.090524,.002372,-.991791,.127757,-.005297,113e-6],[-.997564,.069756,.992701,-.120527,.004214,-.985429,.169828,-.0094,268e-6],[-.996195,.087156,.988606,-.150384,.006578,-.977277,.21146,-.014654,523e-6],[-.994522,.104528,.983611,-.180057,.009462,-.967356,.252544,-.021043,903e-6],[-.992546,.121869,.977722,-.209511,.012862,-.955693,.292976,-.028547,.001431],[-.990268,.139173,.970946,-.238709,.016774,-.942316,.332649,-.037143,.002131],[-.987688,.156434,.963292,-.267617,.021193,-.927262,.371463,-.046806,.003026],[-.984808,.173648,.954769,-.296198,.026114,-.910569,.409317,-.057505,.00414],[-.981627,.190809,.945388,-.324419,.03153,-.892279,.446114,-.069209,.005492],[-.978148,.207912,.935159,-.352244,.037436,-.872441,.481759,-.08188,.007105],[-.97437,.224951,.924096,-.379641,.043823,-.851105,.516162,-.095481,.008999],[-.970296,.241922,.912211,-.406574,.050685,-.828326,.549233,-.109969,.011193],[-.965926,.258819,.899519,-.433013,.058013,-.804164,.580889,-.1253,.013707],[-.961262,.275637,.886036,-.458924,.065797,-.77868,.61105,-.141427,.016556],[-.956305,.292372,.871778,-.484275,.074029,-.75194,.639639,-.158301,.019758],[-.951057,.309017,.856763,-.509037,.082698,-.724012,.666583,-.175868,.023329],[-.945519,.325568,.841008,-.533178,.091794,-.694969,.691816,-.194075,.027281],[-.939693,.34202,.824533,-.55667,.101306,-.664885,.715274,-.212865,.03163],[-.93358,.358368,.807359,-.579484,.111222,-.633837,.736898,-.23218,.036385],[-.927184,.374607,.789505,-.601592,.121529,-.601904,.756637,-.25196,.041559],[-.920505,.390731,.770994,-.622967,.132217,-.569169,.774442,-.272143,.04716],[-.913545,.406737,.751848,-.643582,.143271,-.535715,.79027,-.292666,.053196],[-.906308,.422618,.732091,-.663414,.154678,-.501627,.804083,-.313464,.059674],[-.898794,.438371,.711746,-.682437,.166423,-.466993,.81585,-.334472,.066599],[-.891007,.45399,.690839,-.700629,.178494,-.431899,.825544,-.355623,.073974],[-.882948,.469472,.669395,-.717968,.190875,-.396436,.833145,-.376851,.081803],[-.87462,.48481,.647439,-.734431,.203551,-.360692,.838638,-.398086,.090085],[-.866025,.5,.625,-.75,.216506,-.32476,.842012,-.419263,.098821],[-.857167,.515038,.602104,-.764655,.229726,-.288728,.843265,-.440311,.108009],[-.848048,.529919,.578778,-.778378,.243192,-.252688,.842399,-.461164,.117644],[-.838671,.544639,.555052,-.791154,.256891,-.21673,.839422,-.481753,.127722],[-.829038,.559193,.530955,-.802965,.270803,-.180944,.834347,-.502011,.138237],[-.819152,.573576,.506515,-.813798,.284914,-.14542,.827194,-.521871,.149181],[-.809017,.587785,.481763,-.823639,.299204,-.110246,.817987,-.541266,.160545],[-.798636,.601815,.456728,-.832477,.313658,-.075508,.806757,-.560132,.172317],[-.788011,.615661,.431441,-.840301,.328257,-.041294,.793541,-.578405,.184487],[-.777146,.62932,.405934,-.847101,.342984,-.007686,.778379,-.596021,.19704],[-.766044,.642788,.380236,-.852869,.357821,.025233,.761319,-.612921,.209963],[-.75471,.656059,.35438,-.857597,.372749,.057383,.742412,-.629044,.223238],[-.743145,.669131,.328396,-.861281,.387751,.088686,.721714,-.644334,.23685],[-.731354,.681998,.302317,-.863916,.402807,.119068,.699288,-.658734,.250778],[-.71934,.694658,.276175,-.865498,.417901,.148454,.675199,-.67219,.265005],[-.707107,.707107,.25,-.866025,.433013,.176777,.649519,-.684653,.279508],[-.694658,.71934,.223825,-.865498,.448125,.203969,.622322,-.696073,.294267],[-.681998,.731354,.197683,-.863916,.463218,.229967,.593688,-.706405,.309259],[-.669131,.743145,.171604,-.861281,.478275,.254712,.5637,-.715605,.324459],[-.656059,.75471,.14562,-.857597,.493276,.278147,.532443,-.723633,.339844],[-.642788,.766044,.119764,-.852869,.508205,.300221,.500009,-.730451,.355387],[-.62932,.777146,.094066,-.847101,.523041,.320884,.46649,-.736025,.371063],[-.615661,.788011,.068559,-.840301,.537768,.340093,.431982,-.740324,.386845],[-.601815,.798636,.043272,-.832477,.552367,.357807,.396584,-.74332,.402704],[-.587785,.809017,.018237,-.823639,.566821,.373991,.360397,-.744989,.418613],[-.573576,.819152,-.006515,-.813798,.581112,.388612,.323524,-.745308,.434544],[-.559193,.829038,-.030955,-.802965,.595222,.401645,.286069,-.744262,.450467],[-.544639,.838671,-.055052,-.791154,.609135,.413066,.24814,-.741835,.466352],[-.529919,.848048,-.078778,-.778378,.622833,.422856,.209843,-.738017,.482171],[-.515038,.857167,-.102104,-.764655,.6363,.431004,.171288,-.732801,.497894],[-.5,.866025,-.125,-.75,.649519,.4375,.132583,-.726184,.51349],[-.48481,.87462,-.147439,-.734431,.662474,.44234,.093837,-.718167,.528929],[-.469472,.882948,-.169395,-.717968,.67515,.445524,.05516,-.708753,.544183],[-.45399,.891007,-.190839,-.700629,.687531,.447059,.016662,-.69795,.55922],[-.438371,.898794,-.211746,-.682437,.699602,.446953,-.02155,-.685769,.574011],[-.422618,.906308,-.232091,-.663414,.711348,.445222,-.059368,-.672226,.588528],[-.406737,.913545,-.251848,-.643582,.722755,.441884,-.096684,-.657339,.602741],[-.390731,.920505,-.270994,-.622967,.733809,.436964,-.133395,-.64113,.616621],[-.374607,.927184,-.289505,-.601592,.744496,.430488,-.169397,-.623624,.630141],[-.358368,.93358,-.307359,-.579484,.754804,.422491,-.204589,-.604851,.643273],[-.34202,.939693,-.324533,-.55667,.76472,.413008,-.238872,-.584843,.65599],[-.325568,.945519,-.341008,-.533178,.774231,.402081,-.27215,-.563635,.668267],[-.309017,.951057,-.356763,-.509037,.783327,.389754,-.304329,-.541266,.680078],[-.292372,.956305,-.371778,-.484275,.791997,.376077,-.335319,-.517778,.691399],[-.275637,.961262,-.386036,-.458924,.800228,.361102,-.365034,-.493216,.702207],[-.258819,.965926,-.399519,-.433013,.808013,.344885,-.393389,-.467627,.712478],[-.241922,.970296,-.412211,-.406574,.81534,.327486,-.420306,-.441061,.722191],[-.224951,.97437,-.424096,-.379641,.822202,.308969,-.445709,-.413572,.731327],[-.207912,.978148,-.435159,-.352244,.828589,.289399,-.469527,-.385215,.739866],[-.190809,.981627,-.445388,-.324419,.834495,.268846,-.491693,-.356047,.74779],[-.173648,.984808,-.454769,-.296198,.839912,.247382,-.512145,-.326129,.755082],[-.156434,.987688,-.463292,-.267617,.844832,.225081,-.530827,-.295521,.761728],[-.139173,.990268,-.470946,-.238709,.849251,.20202,-.547684,-.264287,.767712],[-.121869,.992546,-.477722,-.209511,.853163,.178279,-.562672,-.232494,.773023],[-.104528,.994522,-.483611,-.180057,.856563,.153937,-.575747,-.200207,.777648],[-.087156,.996195,-.488606,-.150384,.859447,.129078,-.586872,-.167494,.781579],[-.069756,.997564,-.492701,-.120527,.861811,.103786,-.596018,-.134426,.784806],[-.052336,.99863,-.495891,-.090524,.863653,.078146,-.603158,-.101071,.787324],[-.034899,.999391,-.498173,-.060411,.864971,.052243,-.608272,-.0675,.789126],[-.017452,.999848,-.499543,-.030224,.865762,.026165,-.611347,-.033786,.790208],[0,1,-.5,0,.866025,-0,-.612372,0,.790569],[.017452,.999848,-.499543,.030224,.865762,-.026165,-.611347,.033786,.790208],[.034899,.999391,-.498173,.060411,.864971,-.052243,-.608272,.0675,.789126],[.052336,.99863,-.495891,.090524,.863653,-.078146,-.603158,.101071,.787324],[.069756,.997564,-.492701,.120527,.861811,-.103786,-.596018,.134426,.784806],[.087156,.996195,-.488606,.150384,.859447,-.129078,-.586872,.167494,.781579],[.104528,.994522,-.483611,.180057,.856563,-.153937,-.575747,.200207,.777648],[.121869,.992546,-.477722,.209511,.853163,-.178279,-.562672,.232494,.773023],[.139173,.990268,-.470946,.238709,.849251,-.20202,-.547684,.264287,.767712],[.156434,.987688,-.463292,.267617,.844832,-.225081,-.530827,.295521,.761728],[.173648,.984808,-.454769,.296198,.839912,-.247382,-.512145,.326129,.755082],[.190809,.981627,-.445388,.324419,.834495,-.268846,-.491693,.356047,.74779],[.207912,.978148,-.435159,.352244,.828589,-.289399,-.469527,.385215,.739866],[.224951,.97437,-.424096,.379641,.822202,-.308969,-.445709,.413572,.731327],[.241922,.970296,-.412211,.406574,.81534,-.327486,-.420306,.441061,.722191],[.258819,.965926,-.399519,.433013,.808013,-.344885,-.393389,.467627,.712478],[.275637,.961262,-.386036,.458924,.800228,-.361102,-.365034,.493216,.702207],[.292372,.956305,-.371778,.484275,.791997,-.376077,-.335319,.517778,.691399],[.309017,.951057,-.356763,.509037,.783327,-.389754,-.304329,.541266,.680078],[.325568,.945519,-.341008,.533178,.774231,-.402081,-.27215,.563635,.668267],[.34202,.939693,-.324533,.55667,.76472,-.413008,-.238872,.584843,.65599],[.358368,.93358,-.307359,.579484,.754804,-.422491,-.204589,.604851,.643273],[.374607,.927184,-.289505,.601592,.744496,-.430488,-.169397,.623624,.630141],[.390731,.920505,-.270994,.622967,.733809,-.436964,-.133395,.64113,.616621],[.406737,.913545,-.251848,.643582,.722755,-.441884,-.096684,.657339,.602741],[.422618,.906308,-.232091,.663414,.711348,-.445222,-.059368,.672226,.588528],[.438371,.898794,-.211746,.682437,.699602,-.446953,-.02155,.685769,.574011],[.45399,.891007,-.190839,.700629,.687531,-.447059,.016662,.69795,.55922],[.469472,.882948,-.169395,.717968,.67515,-.445524,.05516,.708753,.544183],[.48481,.87462,-.147439,.734431,.662474,-.44234,.093837,.718167,.528929],[.5,.866025,-.125,.75,.649519,-.4375,.132583,.726184,.51349],[.515038,.857167,-.102104,.764655,.6363,-.431004,.171288,.732801,.497894],[.529919,.848048,-.078778,.778378,.622833,-.422856,.209843,.738017,.482171],[.544639,.838671,-.055052,.791154,.609135,-.413066,.24814,.741835,.466352],[.559193,.829038,-.030955,.802965,.595222,-.401645,.286069,.744262,.450467],[.573576,.819152,-.006515,.813798,.581112,-.388612,.323524,.745308,.434544],[.587785,.809017,.018237,.823639,.566821,-.373991,.360397,.744989,.418613],[.601815,.798636,.043272,.832477,.552367,-.357807,.396584,.74332,.402704],[.615661,.788011,.068559,.840301,.537768,-.340093,.431982,.740324,.386845],[.62932,.777146,.094066,.847101,.523041,-.320884,.46649,.736025,.371063],[.642788,.766044,.119764,.852869,.508205,-.300221,.500009,.730451,.355387],[.656059,.75471,.14562,.857597,.493276,-.278147,.532443,.723633,.339844],[.669131,.743145,.171604,.861281,.478275,-.254712,.5637,.715605,.324459],[.681998,.731354,.197683,.863916,.463218,-.229967,.593688,.706405,.309259],[.694658,.71934,.223825,.865498,.448125,-.203969,.622322,.696073,.294267],[.707107,.707107,.25,.866025,.433013,-.176777,.649519,.684653,.279508],[.71934,.694658,.276175,.865498,.417901,-.148454,.675199,.67219,.265005],[.731354,.681998,.302317,.863916,.402807,-.119068,.699288,.658734,.250778],[.743145,.669131,.328396,.861281,.387751,-.088686,.721714,.644334,.23685],[.75471,.656059,.35438,.857597,.372749,-.057383,.742412,.629044,.223238],[.766044,.642788,.380236,.852869,.357821,-.025233,.761319,.612921,.209963],[.777146,.62932,.405934,.847101,.342984,.007686,.778379,.596021,.19704],[.788011,.615661,.431441,.840301,.328257,.041294,.793541,.578405,.184487],[.798636,.601815,.456728,.832477,.313658,.075508,.806757,.560132,.172317],[.809017,.587785,.481763,.823639,.299204,.110246,.817987,.541266,.160545],[.819152,.573576,.506515,.813798,.284914,.14542,.827194,.521871,.149181],[.829038,.559193,.530955,.802965,.270803,.180944,.834347,.502011,.138237],[.838671,.544639,.555052,.791154,.256891,.21673,.839422,.481753,.127722],[.848048,.529919,.578778,.778378,.243192,.252688,.842399,.461164,.117644],[.857167,.515038,.602104,.764655,.229726,.288728,.843265,.440311,.108009],[.866025,.5,.625,.75,.216506,.32476,.842012,.419263,.098821],[.87462,.48481,.647439,.734431,.203551,.360692,.838638,.398086,.090085],[.882948,.469472,.669395,.717968,.190875,.396436,.833145,.376851,.081803],[.891007,.45399,.690839,.700629,.178494,.431899,.825544,.355623,.073974],[.898794,.438371,.711746,.682437,.166423,.466993,.81585,.334472,.066599],[.906308,.422618,.732091,.663414,.154678,.501627,.804083,.313464,.059674],[.913545,.406737,.751848,.643582,.143271,.535715,.79027,.292666,.053196],[.920505,.390731,.770994,.622967,.132217,.569169,.774442,.272143,.04716],[.927184,.374607,.789505,.601592,.121529,.601904,.756637,.25196,.041559],[.93358,.358368,.807359,.579484,.111222,.633837,.736898,.23218,.036385],[.939693,.34202,.824533,.55667,.101306,.664885,.715274,.212865,.03163],[.945519,.325568,.841008,.533178,.091794,.694969,.691816,.194075,.027281],[.951057,.309017,.856763,.509037,.082698,.724012,.666583,.175868,.023329],[.956305,.292372,.871778,.484275,.074029,.75194,.639639,.158301,.019758],[.961262,.275637,.886036,.458924,.065797,.77868,.61105,.141427,.016556],[.965926,.258819,.899519,.433013,.058013,.804164,.580889,.1253,.013707],[.970296,.241922,.912211,.406574,.050685,.828326,.549233,.109969,.011193],[.97437,.224951,.924096,.379641,.043823,.851105,.516162,.095481,.008999],[.978148,.207912,.935159,.352244,.037436,.872441,.481759,.08188,.007105],[.981627,.190809,.945388,.324419,.03153,.892279,.446114,.069209,.005492],[.984808,.173648,.954769,.296198,.026114,.910569,.409317,.057505,.00414],[.987688,.156434,.963292,.267617,.021193,.927262,.371463,.046806,.003026],[.990268,.139173,.970946,.238709,.016774,.942316,.332649,.037143,.002131],[.992546,.121869,.977722,.209511,.012862,.955693,.292976,.028547,.001431],[.994522,.104528,.983611,.180057,.009462,.967356,.252544,.021043,903e-6],[.996195,.087156,.988606,.150384,.006578,.977277,.21146,.014654,523e-6],[.997564,.069756,.992701,.120527,.004214,.985429,.169828,.0094,268e-6],[.99863,.052336,.995891,.090524,.002372,.991791,.127757,.005297,113e-6],[.999391,.034899,.998173,.060411,.001055,.996348,.085356,.002357,34e-6],[.999848,.017452,.999543,.030224,264e-6,.999086,.042733,59e-5,4e-6],[1,-0,1,-0,0,1,-0,0,-0]]],t.SPHERICAL_HARMONICS_AZIMUTH_RESOLUTION=t.SPHERICAL_HARMONICS[0].length,t.SPHERICAL_HARMONICS_ELEVATION_RESOLUTION=t.SPHERICAL_HARMONICS[1].length,t.SPHERICAL_HARMONICS_MAX_ORDER=t.SPHERICAL_HARMONICS[0][0].length/2,t.MAX_RE_WEIGHTS=[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1.003236,1.002156,.999152,.990038],[1.03237,1.021194,.990433,.898572],[1.062694,1.040231,.979161,.799806],[1.093999,1.058954,.964976,.693603],[1.126003,1.077006,.947526,.57989],[1.158345,1.093982,.926474,.45869],[1.19059,1.109437,.901512,.330158],[1.222228,1.12289,.87237,.194621],[1.252684,1.133837,.838839,.052614],[1.281987,1.142358,.801199,0],[1.312073,1.150207,.760839,0],[1.343011,1.157424,.717799,0],[1.374649,1.163859,.671999,0],[1.406809,1.169354,.623371,0],[1.439286,1.173739,.571868,0],[1.471846,1.176837,.517465,0],[1.504226,1.178465,.460174,0],[1.536133,1.178438,.400043,0],[1.567253,1.176573,.337165,0],[1.597247,1.172695,.271688,0],[1.625766,1.166645,.203815,0],[1.652455,1.158285,.133806,0],[1.676966,1.147506,.061983,0],[1.699006,1.134261,0,0],[1.720224,1.119789,0,0],[1.741631,1.10481,0,0],[1.763183,1.08933,0,0],[1.784837,1.073356,0,0],[1.806548,1.056898,0,0],[1.828269,1.039968,0,0],[1.849952,1.02258,0,0],[1.871552,1.004752,0,0],[1.893018,.986504,0,0],[1.914305,.967857,0,0],[1.935366,.948837,0,0],[1.956154,.929471,0,0],[1.976625,.90979,0,0],[1.996736,.889823,0,0],[2.016448,.869607,0,0],[2.035721,.849175,0,0],[2.054522,.828565,0,0],[2.072818,.807816,0,0],[2.090581,.786964,0,0],[2.107785,.766051,0,0],[2.124411,.745115,0,0],[2.140439,.724196,0,0],[2.155856,.703332,0,0],[2.170653,.682561,0,0],[2.184823,.661921,0,0],[2.198364,.641445,0,0],[2.211275,.621169,0,0],[2.223562,.601125,0,0],[2.23523,.581341,0,0],[2.246289,.561847,0,0],[2.256751,.542667,0,0],[2.266631,.523826,0,0],[2.275943,.505344,0,0],[2.284707,.487239,0,0],[2.292939,.469528,0,0],[2.300661,.452225,0,0],[2.307892,.435342,0,0],[2.314654,.418888,0,0],[2.320969,.40287,0,0],[2.326858,.387294,0,0],[2.332343,.372164,0,0],[2.337445,.357481,0,0],[2.342186,.343246,0,0],[2.346585,.329458,0,0],[2.350664,.316113,0,0],[2.354442,.303208,0,0],[2.357937,.290738,0,0],[2.361168,.278698,0,0],[2.364152,.26708,0,0],[2.366906,.255878,0,0],[2.369446,.245082,0,0],[2.371786,.234685,0,0],[2.37394,.224677,0,0],[2.375923,.215048,0,0],[2.377745,.20579,0,0],[2.379421,.196891,0,0],[2.380959,.188342,0,0],[2.382372,.180132,0,0],[2.383667,.172251,0,0],[2.384856,.164689,0,0],[2.385945,.157435,0,0],[2.386943,.150479,0,0],[2.387857,.143811,0,0],[2.388694,.137421,0,0],[2.38946,.131299,0,0],[2.39016,.125435,0,0],[2.390801,.11982,0,0],[2.391386,.114445,0,0],[2.391921,.1093,0,0],[2.39241,.104376,0,0],[2.392857,.099666,0,0],[2.393265,.09516,0,0],[2.393637,.090851,0,0],[2.393977,.086731,0,0],[2.394288,.082791,0,0],[2.394571,.079025,0,0],[2.394829,.075426,0,0],[2.395064,.071986,0,0],[2.395279,.068699,0,0],[2.395475,.065558,0,0],[2.395653,.062558,0,0],[2.395816,.059693,0,0],[2.395964,.056955,0,0],[2.396099,.054341,0,0],[2.396222,.051845,0,0],[2.396334,.049462,0,0],[2.396436,.047186,0,0],[2.396529,.045013,0,0],[2.396613,.042939,0,0],[2.396691,.040959,0,0],[2.396761,.039069,0,0],[2.396825,.037266,0,0],[2.396883,.035544,0,0],[2.396936,.033901,0,0],[2.396984,.032334,0,0],[2.397028,.030838,0,0],[2.397068,.02941,0,0],[2.397104,.028048,0,0],[2.397137,.026749,0,0],[2.397167,.025509,0,0],[2.397194,.024326,0,0],[2.397219,.023198,0,0],[2.397242,.022122,0,0],[2.397262,.021095,0,0],[2.397281,.020116,0,0],[2.397298,.019181,0,0],[2.397314,.01829,0,0],[2.397328,.017441,0,0],[2.397341,.01663,0,0],[2.397352,.015857,0,0],[2.397363,.015119,0,0],[2.397372,.014416,0,0],[2.397381,.013745,0,0],[2.397389,.013106,0,0],[2.397396,.012496,0,0],[2.397403,.011914,0,0],[2.397409,.01136,0,0],[2.397414,.010831,0,0],[2.397419,.010326,0,0],[2.397424,.009845,0,0],[2.397428,.009387,0,0],[2.397432,.008949,0,0],[2.397435,.008532,0,0],[2.397438,.008135,0,0],[2.397441,.007755,0,0],[2.397443,.007394,0,0],[2.397446,.007049,0,0],[2.397448,.006721,0,0],[2.39745,.006407,0,0],[2.397451,.006108,0,0],[2.397453,.005824,0,0],[2.397454,.005552,0,0],[2.397456,.005293,0,0],[2.397457,.005046,0,0],[2.397458,.004811,0,0],[2.397459,.004586,0,0],[2.39746,.004372,0,0],[2.397461,.004168,0,0],[2.397461,.003974,0,0],[2.397462,.003788,0,0],[2.397463,.003611,0,0],[2.397463,.003443,0,0],[2.397464,.003282,0,0],[2.397464,.003129,0,0],[2.397465,.002983,0,0],[2.397465,.002844,0,0],[2.397465,.002711,0,0],[2.397466,.002584,0,0],[2.397466,.002464,0,0],[2.397466,.002349,0,0],[2.397466,.002239,0,0],[2.397467,.002135,0,0],[2.397467,.002035,0,0],[2.397467,.00194,0,0],[2.397467,.001849,0,0],[2.397467,.001763,0,0],[2.397467,.001681,0,0],[2.397468,.001602,0,0],[2.397468,.001527,0,0],[2.397468,.001456,0,0],[2.397468,.001388,0,0],[2.397468,.001323,0,0],[2.397468,.001261,0,0],[2.397468,.001202,0,0],[2.397468,.001146,0,0],[2.397468,.001093,0,0],[2.397468,.001042,0,0],[2.397468,993e-6,0,0],[2.397468,947e-6,0,0],[2.397468,902e-6,0,0],[2.397468,86e-5,0,0],[2.397468,82e-5,0,0],[2.397469,782e-6,0,0],[2.397469,745e-6,0,0],[2.397469,71e-5,0,0],[2.397469,677e-6,0,0],[2.397469,646e-6,0,0],[2.397469,616e-6,0,0],[2.397469,587e-6,0,0],[2.397469,559e-6,0,0],[2.397469,533e-6,0,0],[2.397469,508e-6,0,0],[2.397469,485e-6,0,0],[2.397469,462e-6,0,0],[2.397469,44e-5,0,0],[2.397469,42e-5,0,0],[2.397469,4e-4,0,0],[2.397469,381e-6,0,0],[2.397469,364e-6,0,0],[2.397469,347e-6,0,0],[2.397469,33e-5,0,0],[2.397469,315e-6,0,0],[2.397469,3e-4,0,0],[2.397469,286e-6,0,0],[2.397469,273e-6,0,0],[2.397469,26e-5,0,0],[2.397469,248e-6,0,0],[2.397469,236e-6,0,0],[2.397469,225e-6,0,0],[2.397469,215e-6,0,0],[2.397469,205e-6,0,0],[2.397469,195e-6,0,0],[2.397469,186e-6,0,0],[2.397469,177e-6,0,0],[2.397469,169e-6,0,0],[2.397469,161e-6,0,0],[2.397469,154e-6,0,0],[2.397469,147e-6,0,0],[2.397469,14e-5,0,0],[2.397469,133e-6,0,0],[2.397469,127e-6,0,0],[2.397469,121e-6,0,0],[2.397469,115e-6,0,0],[2.397469,11e-5,0,0],[2.397469,105e-6,0,0],[2.397469,1e-4,0,0],[2.397469,95e-6,0,0],[2.397469,91e-6,0,0],[2.397469,87e-6,0,0],[2.397469,83e-6,0,0],[2.397469,79e-6,0,0],[2.397469,75e-6,0,0],[2.397469,71e-6,0,0],[2.397469,68e-6,0,0],[2.397469,65e-6,0,0],[2.397469,62e-6,0,0],[2.397469,59e-6,0,0],[2.397469,56e-6,0,0],[2.397469,54e-6,0,0],[2.397469,51e-6,0,0],[2.397469,49e-6,0,0],[2.397469,46e-6,0,0],[2.397469,44e-6,0,0],[2.397469,42e-6,0,0],[2.397469,4e-5,0,0],[2.397469,38e-6,0,0],[2.397469,37e-6,0,0],[2.397469,35e-6,0,0],[2.397469,33e-6,0,0],[2.397469,32e-6,0,0],[2.397469,3e-5,0,0],[2.397469,29e-6,0,0],[2.397469,27e-6,0,0],[2.397469,26e-6,0,0],[2.397469,25e-6,0,0],[2.397469,24e-6,0,0],[2.397469,23e-6,0,0],[2.397469,22e-6,0,0],[2.397469,21e-6,0,0],[2.397469,2e-5,0,0],[2.397469,19e-6,0,0],[2.397469,18e-6,0,0],[2.397469,17e-6,0,0],[2.397469,16e-6,0,0],[2.397469,15e-6,0,0],[2.397469,15e-6,0,0],[2.397469,14e-6,0,0],[2.397469,13e-6,0,0],[2.397469,13e-6,0,0],[2.397469,12e-6,0,0],[2.397469,12e-6,0,0],[2.397469,11e-6,0,0],[2.397469,11e-6,0,0],[2.397469,1e-5,0,0],[2.397469,1e-5,0,0],[2.397469,9e-6,0,0],[2.397469,9e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0]],t.MAX_RE_WEIGHTS_RESOLUTION=t.MAX_RE_WEIGHTS.length},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(5),s=i(6),a=i(1),o=i(0);function r(e,t){null==t&&(t={}),null==t.position&&(t.position=o.DEFAULT_POSITION.slice()),null==t.forward&&(t.forward=o.DEFAULT_FORWARD.slice()),null==t.up&&(t.up=o.DEFAULT_UP.slice()),null==t.minDistance&&(t.minDistance=o.DEFAULT_MIN_DISTANCE),null==t.maxDistance&&(t.maxDistance=o.DEFAULT_MAX_DISTANCE),null==t.rolloff&&(t.rolloff=o.DEFAULT_ROLLOFF),null==t.gain&&(t.gain=o.DEFAULT_SOURCE_GAIN),null==t.alpha&&(t.alpha=o.DEFAULT_DIRECTIVITY_ALPHA),null==t.sharpness&&(t.sharpness=o.DEFAULT_DIRECTIVITY_SHARPNESS),null==t.sourceWidth&&(t.sourceWidth=o.DEFAULT_SOURCE_WIDTH),this._scene=e,this._position=t.position,this._forward=t.forward,this._up=t.up,this._dx=new Float32Array(3),this._right=o.crossProduct(this._forward,this._up);let i=e._context;this.input=i.createGain(),this._directivity=new n(i,{alpha:t.alpha,sharpness:t.sharpness}),this._toEarly=i.createGain(),this._toLate=i.createGain(),this._attenuation=new s(i,{minDistance:t.minDistance,maxDistance:t.maxDistance,rolloff:t.rolloff}),this._encoder=new a(i,{ambisonicOrder:e._ambisonicOrder,sourceWidth:t.sourceWidth}),this.input.connect(this._toLate),this._toLate.connect(e._room.late.input),this.input.connect(this._attenuation.input),this._attenuation.output.connect(this._toEarly),this._toEarly.connect(e._room.early.input),this._attenuation.output.connect(this._directivity.input),this._directivity.output.connect(this._encoder.input),this._encoder.output.connect(e._listener.input),this.setPosition(t.position[0],t.position[1],t.position[2]),this.input.gain.value=t.gain}r.prototype.setPosition=function(e,t,i){this._position[0]=e,this._position[1]=t,this._position[2]=i;let n=function(e){let t=1;e>o.EPSILON_FLOAT&&(t=1-e/o.SOURCE_MAX_OUTSIDE_ROOM_DISTANCE,t=Math.max(0,Math.min(1,t)));return t}(this._scene._room.getDistanceOutsideRoom(this._position[0],this._position[1],this._position[2]));this._toLate.gain.value=n,this._toEarly.gain.value=n,this._update()},r.prototype._update=function(){for(let e=0;e<3;e++)this._dx[e]=this._position[e]-this._scene._listener.position[e];let e=Math.sqrt(this._dx[0]*this._dx[0]+this._dx[1]*this._dx[1]+this._dx[2]*this._dx[2]);e>0&&(this._dx[0]/=e,this._dx[1]/=e,this._dx[2]/=e);let t=Math.atan2(-this._dx[0],this._dx[2])*o.RADIANS_TO_DEGREES,i=Math.atan2(this._dx[1],Math.sqrt(this._dx[0]*this._dx[0]+this._dx[2]*this._dx[2]))*o.RADIANS_TO_DEGREES;this._attenuation.setDistance(e),this._directivity.computeAngle(this._forward,this._dx),this._encoder.setDirection(t,i)},r.prototype.setRolloff=function(e){this._attenuation.setRolloff(e)},r.prototype.setMinDistance=function(e){this._attenuation.minDistance=e},r.prototype.setMaxDistance=function(e){this._attenuation.maxDistance=e},r.prototype.setGain=function(e){this.input.gain.value=e},r.prototype.setOrientation=function(e,t,i,n,s,a){this._forward[0]=e,this._forward[1]=t,this._forward[2]=i,this._up[0]=n,this._up[1]=s,this._up[2]=a,this._right=o.crossProduct(this._forward,this._up)},r.prototype.setFromMatrix=function(e){this._right[0]=e.elements[0],this._right[1]=e.elements[1],this._right[2]=e.elements[2],this._up[0]=e.elements[4],this._up[1]=e.elements[5],this._up[2]=e.elements[6],this._forward[0]=e.elements[8],this._forward[1]=e.elements[9],this._forward[2]=e.elements[10],this._right=o.normalizeVector(this._right),this._up=o.normalizeVector(this._up),this._forward=o.normalizeVector(this._forward),this.setPosition(e.elements[12],e.elements[13],e.elements[14])},r.prototype.setSourceWidth=function(e){this._encoder.setSourceWidth(e),this.setPosition(this._position[0],this._position[1],this._position[2])},r.prototype.setDirectivityPattern=function(e,t){this._directivity.setPattern(e,t),this.setPosition(this._position[0],this._position[1],this._position[2])},e.exports=r},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(0);function s(e,t){null==t&&(t={}),null==t.alpha&&(t.alpha=n.DEFAULT_DIRECTIVITY_ALPHA),null==t.sharpness&&(t.sharpness=n.DEFAULT_DIRECTIVITY_SHARPNESS),this._context=e,this._lowpass=e.createBiquadFilter(),this._lowpass.type="lowpass",this._lowpass.Q.value=0,this._lowpass.frequency.value=.5*e.sampleRate,this._cosTheta=0,this.setPattern(t.alpha,t.sharpness),this.input=this._lowpass,this.output=this._lowpass}s.prototype.computeAngle=function(e,t){let i=n.normalizeVector(e),s=n.normalizeVector(t),a=1;if(this._alpha>n.EPSILON_FLOAT){let e=i[0]*s[0]+i[1]*s[1]+i[2]*s[2];a=1-this._alpha+this._alpha*e,a=Math.pow(Math.abs(a),this._sharpness)}this._lowpass.frequency.value=.5*this._context.sampleRate*a},s.prototype.setPattern=function(e,t){this._alpha=Math.min(1,Math.max(0,e)),this._sharpness=Math.max(1,t),this.computeAngle([this._cosTheta*this._cosTheta,0,0],[1,0,0])},e.exports=s},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(0);function s(e,t){null==t&&(t={}),null==t.minDistance&&(t.minDistance=n.DEFAULT_MIN_DISTANCE),null==t.maxDistance&&(t.maxDistance=n.DEFAULT_MAX_DISTANCE),null==t.rolloff&&(t.rolloff=n.DEFAULT_ATTENUATION_ROLLOFF),this.minDistance=t.minDistance,this.maxDistance=t.maxDistance,this.setRolloff(t.rolloff),this._gainNode=e.createGain(),this.setDistance(t.maxDistance),this.input=this._gainNode,this.output=this._gainNode}s.prototype.setDistance=function(e){let t=1;if("logarithmic"==this._rolloff){if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;if(i>n.EPSILON_FLOAT){let n=1/(i+1);t=(1/(e-this.minDistance+1)-n)/(1-n)}}}else if("linear"==this._rolloff)if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;i>n.EPSILON_FLOAT&&(t=(this.maxDistance-e)/i)}this._gainNode.gain.value=t},s.prototype.setRolloff=function(e){let t=~n.ATTENUATION_ROLLOFFS.indexOf(e);null!=e&&t?e=e.toString().toLowerCase():(t||n.log('Invalid rolloff model ("'+e+'"). Using default: "'+n.DEFAULT_ATTENUATION_ROLLOFF+'".'),e=n.DEFAULT_ATTENUATION_ROLLOFF),this._rolloff=e},e.exports=s},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(8),s=i(9),a=i(0);function o(e){let t={};for(let e in a.DEFAULT_ROOM_MATERIALS)a.DEFAULT_ROOM_MATERIALS.hasOwnProperty(e)&&(t[e]=a.ROOM_MATERIAL_COEFFICIENTS[a.DEFAULT_ROOM_MATERIALS[e]]);null==e&&(e={},Object.assign(e,a.DEFAULT_ROOM_MATERIALS));for(let i in a.DEFAULT_ROOM_MATERIALS)a.DEFAULT_ROOM_MATERIALS.hasOwnProperty(i)&&e.hasOwnProperty(i)?e[i]in a.ROOM_MATERIAL_COEFFICIENTS?t[i]=a.ROOM_MATERIAL_COEFFICIENTS[e[i]]:a.log('Material "'+e[i]+'" on wall "'+i+'" not found. Using "'+a.DEFAULT_ROOM_MATERIALS[i]+'".'):a.log('Wall "'+i+'" is not defined. Default used.');return t}function r(e){null==e&&(e={});for(let t in a.DEFAULT_ROOM_DIMENSIONS)e.hasOwnProperty(t)||(e[t]=a.DEFAULT_ROOM_DIMENSIONS[t]);return e}function A(e,t,i){let n=new Float32Array(a.NUMBER_REVERB_FREQUENCY_BANDS);e=r(e),t=function(e){null==e&&(e={});for(let t in a.DEFAULT_ROOM_MATERIALS)e.hasOwnProperty(t)||(e[t]=a.ROOM_MATERIAL_COEFFICIENTS[a.DEFAULT_ROOM_MATERIALS[t]]);return e}(t),null==i&&(i=a.DEFAULT_SPEED_OF_SOUND);let s=a.TWENTY_FOUR_LOG10/i,o=e.width*e.height*e.depth;if(o<a.ROOM_MIN_VOLUME)return n;let A=e.width*e.height,l=e.width*e.depth,c=e.depth*e.height,h=2*(A+l+c);for(let e=0;e<a.NUMBER_REVERB_FREQUENCY_BANDS;e++){let i=((t.left[e]+t.right[e])*A+(t.down[e]+t.up[e])*l+(t.front[e]+t.back[e])*c)/h;n[e]=a.ROOM_EYRING_CORRECTION_COEFFICIENT*s*o/(-h*Math.log(1-i)+4*a.ROOM_AIR_ABSORPTION_COEFFICIENTS[e]*o)}return n}function l(e){let t=[];for(let i in a.DEFAULT_REFLECTION_COEFFICIENTS)if(a.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(i)){t[i]=0;for(let n=0;n<a.NUMBER_REFLECTION_AVERAGING_BANDS;n++){let s=n+a.ROOM_STARTING_AVERAGING_BAND;t[i]+=e[i][s]}t[i]/=a.NUMBER_REFLECTION_AVERAGING_BANDS,t[i]=Math.sqrt(1-t[i])}return t}function c(e,t){null==t&&(t={}),null==t.listenerPosition&&(t.listenerPosition=a.DEFAULT_POSITION.slice()),null==t.dimensions&&(t.dimensions={},Object.assign(t.dimensions,a.DEFAULT_ROOM_DIMENSIONS)),null==t.materials&&(t.materials={},Object.assign(t.materials,a.DEFAULT_ROOM_MATERIALS)),null==t.speedOfSound&&(t.speedOfSound=a.DEFAULT_SPEED_OF_SOUND),t.dimensions=r(t.dimensions);let i=o(t.materials),c=l(i),h=A(t.dimensions,i,t.speedOfSound);this.early=new s(e,{dimensions:t.dimensions,coefficients:c,speedOfSound:t.speedOfSound,listenerPosition:t.listenerPosition}),this.late=new n(e,{durations:h}),this.speedOfSound=t.speedOfSound,this.output=e.createGain(),this.early.output.connect(this.output),this._merger=e.createChannelMerger(4),this.late.output.connect(this._merger,0,0),this._merger.connect(this.output)}c.prototype.setProperties=function(e,t){let i=o(t),n=A(e,i,this.speedOfSound);this.late.setDurations(n),this.early.speedOfSound=this.speedOfSound;let s=l(i);this.early.setRoomProperties(e,s)},c.prototype.setListenerPosition=function(e,t,i){this.early.speedOfSound=this.speedOfSound,this.early.setListenerPosition(e,t,i);let n=this.getDistanceOutsideRoom(e,t,i),s=1;n>a.EPSILON_FLOAT&&(s=1-n/a.LISTENER_MAX_OUTSIDE_ROOM_DISTANCE,s=Math.max(0,Math.min(1,s))),this.output.gain.value=s},c.prototype.getDistanceOutsideRoom=function(e,t,i){let n=Math.max(0,-this.early._halfDimensions.width-e,e-this.early._halfDimensions.width),s=Math.max(0,-this.early._halfDimensions.height-t,t-this.early._halfDimensions.height),a=Math.max(0,-this.early._halfDimensions.depth-i,i-this.early._halfDimensions.depth);return Math.sqrt(n*n+s*s+a*a)},e.exports=c},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(0);function s(e,t){null==t&&(t={}),null==t.durations&&(t.durations=n.DEFAULT_REVERB_DURATIONS.slice()),null==t.predelay&&(t.predelay=n.DEFAULT_REVERB_PREDELAY),null==t.gain&&(t.gain=n.DEFAULT_REVERB_GAIN),null==t.bandwidth&&(t.bandwidth=n.DEFAULT_REVERB_BANDWIDTH),null==t.tailonset&&(t.tailonset=n.DEFAULT_REVERB_TAIL_ONSET);let i=t.predelay/1e3;this._bandwidthCoeff=t.bandwidth*n.LOG2_DIV2,this._tailonsetSamples=t.tailonset/1e3,this._context=e,this.input=e.createGain(),this._predelay=e.createDelay(i),this._convolver=e.createConvolver(),this.output=e.createGain(),this.output.gain.value=t.gain,this._convolver.normalize=!1,this.input.connect(this._predelay),this._predelay.connect(this._convolver),this._convolver.connect(this.output),this.setDurations(t.durations)}s.prototype.setDurations=function(e){if(e.length!==n.NUMBER_REVERB_FREQUENCY_BANDS)return void n.log("Warning: invalid number of RT60 values provided to reverb.");let t=new Float32Array(n.NUMBER_REVERB_FREQUENCY_BANDS),i=this._context.sampleRate;for(let s=0;s<e.length;s++)e[s]=Math.max(0,Math.min(n.DEFAULT_REVERB_MAX_DURATION,e[s])),t[s]=Math.round(e[s]*i*n.DEFAULT_REVERB_DURATION_MULTIPLIER);let s=0;for(let e=0;e<t.length;e++)t[e]>s&&(s=t[e]);s<1&&(s=1);let a=this._context.createBuffer(1,s,i),o=a.getChannelData(0),r=new Float32Array(s);for(let e=0;e<s;e++)r[e]=2*Math.random()-1;for(let e=0;e<n.NUMBER_REVERB_FREQUENCY_BANDS;e++){let s=-n.LOG1000/t[e],a=n.TWO_PI*n.DEFAULT_REVERB_FREQUENCY_BANDS[e]/i,A=Math.sin(a),l=A*Math.sinh(this._bandwidthCoeff*a/A),c=1/(1+l),h=l*c,u=-2*Math.cos(a)*c,d=(1-l)*c,g=0,p=0;for(let i=0;i<t[e];i++){let e=r[i]*Math.exp(s*i)-u*g-d*p;o[i]+=h*(e-p),p=g,g=e}}let A=Math.round(this._tailonsetSamples);for(let e=0;e<Math.min(o.length,A);e++){let t=.5*(1-Math.cos(n.TWO_PI*e/(2*A-1)));o[e]*=t}this._convolver.buffer=a},e.exports=s},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(0);function s(e,t){null==t&&(t={}),null==t.speedOfSound&&(t.speedOfSound=n.DEFAULT_SPEED_OF_SOUND),null==t.listenerPosition&&(t.listenerPosition=n.DEFAULT_POSITION.slice()),null==t.coefficients&&(t.coefficients={},Object.assign(t.coefficients,n.DEFAULT_REFLECTION_COEFFICIENTS)),this.speedOfSound=t.speedOfSound,this.input=e.createGain(),this.output=e.createGain(),this._lowpass=e.createBiquadFilter(),this._delays={},this._gains={},this._inverters={},this._merger=e.createChannelMerger(4);for(let t in n.DEFAULT_REFLECTION_COEFFICIENTS)n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(t)&&(this._delays[t]=e.createDelay(n.MAX_DURATION),this._gains[t]=e.createGain());this._inverters.right=e.createGain(),this._inverters.down=e.createGain(),this._inverters.back=e.createGain(),this._lowpass.type="lowpass",this._lowpass.frequency.value=n.DEFAULT_REFLECTION_CUTOFF_FREQUENCY,this._lowpass.Q.value=0;for(let e in n.DEFAULT_REFLECTION_COEFFICIENTS)n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(e)&&(this._delays[e].delayTime.value=0,this._gains[e].gain.value=0);this._inverters.right.gain.value=-1,this._inverters.down.gain.value=-1,this._inverters.back.gain.value=-1,this.input.connect(this._lowpass);for(let e in n.DEFAULT_REFLECTION_COEFFICIENTS)n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(e)&&(this._lowpass.connect(this._delays[e]),this._delays[e].connect(this._gains[e]),this._gains[e].connect(this._merger,0,0));this._gains.left.connect(this._merger,0,1),this._gains.right.connect(this._inverters.right),this._inverters.right.connect(this._merger,0,1),this._gains.up.connect(this._merger,0,2),this._gains.down.connect(this._inverters.down),this._inverters.down.connect(this._merger,0,2),this._gains.front.connect(this._merger,0,3),this._gains.back.connect(this._inverters.back),this._inverters.back.connect(this._merger,0,3),this._merger.connect(this.output),this._listenerPosition=t.listenerPosition,this.setRoomProperties(t.dimensions,t.coefficients)}s.prototype.setListenerPosition=function(e,t,i){this._listenerPosition=[e,t,i];let s={left:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.width+e)+n.DEFAULT_REFLECTION_MIN_DISTANCE,right:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.width-e)+n.DEFAULT_REFLECTION_MIN_DISTANCE,front:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.depth+i)+n.DEFAULT_REFLECTION_MIN_DISTANCE,back:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.depth-i)+n.DEFAULT_REFLECTION_MIN_DISTANCE,down:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.height+t)+n.DEFAULT_REFLECTION_MIN_DISTANCE,up:n.DEFAULT_REFLECTION_MULTIPLIER*Math.max(0,this._halfDimensions.height-t)+n.DEFAULT_REFLECTION_MIN_DISTANCE};for(let e in n.DEFAULT_REFLECTION_COEFFICIENTS)if(n.DEFAULT_REFLECTION_COEFFICIENTS.hasOwnProperty(e)){let t=s[e]/this.speedOfSound;this._delays[e].delayTime.value=t;let i=this._coefficients[e]/s[e];this._gains[e].gain.value=i}},s.prototype.setRoomProperties=function(e,t){null==e&&(e={},Object.assign(e,n.DEFAULT_ROOM_DIMENSIONS)),null==t&&(t={},Object.assign(t,n.DEFAULT_REFLECTION_COEFFICIENTS)),this._coefficients=t,this._halfDimensions={},this._halfDimensions.width=.5*e.width,this._halfDimensions.height=.5*e.height,this._halfDimensions.depth=.5*e.depth,this.setListenerPosition(this._listenerPosition[0],this._listenerPosition[1],this._listenerPosition[2])},e.exports=s},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.ResonanceAudio=i(11),t.ResonanceAudio.Attenuation=i(6),t.ResonanceAudio.Directivity=i(5),t.ResonanceAudio.EarlyReflections=i(9),t.ResonanceAudio.Encoder=i(1),t.ResonanceAudio.LateReflections=i(8),t.ResonanceAudio.Listener=i(2),t.ResonanceAudio.Room=i(7),t.ResonanceAudio.Source=i(4),t.ResonanceAudio.Tables=i(3),t.ResonanceAudio.Utils=i(0),t.ResonanceAudio.Version=i(13)},function(e,t,i){
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=i(2),s=i(4),a=i(7),o=i(1),r=i(0);function A(e,t){null==t&&(t={}),null==t.ambisonicOrder&&(t.ambisonicOrder=r.DEFAULT_AMBISONIC_ORDER),null==t.listenerPosition&&(t.listenerPosition=r.DEFAULT_POSITION.slice()),null==t.listenerForward&&(t.listenerForward=r.DEFAULT_FORWARD.slice()),null==t.listenerUp&&(t.listenerUp=r.DEFAULT_UP.slice()),null==t.dimensions&&(t.dimensions={},Object.assign(t.dimensions,r.DEFAULT_ROOM_DIMENSIONS)),null==t.materials&&(t.materials={},Object.assign(t.materials,r.DEFAULT_ROOM_MATERIALS)),null==t.speedOfSound&&(t.speedOfSound=r.DEFAULT_SPEED_OF_SOUND),this._ambisonicOrder=o.validateAmbisonicOrder(t.ambisonicOrder),this._sources=[],this._room=new a(e,{listenerPosition:t.listenerPosition,dimensions:t.dimensions,materials:t.materials,speedOfSound:t.speedOfSound}),this._listener=new n(e,{ambisonicOrder:t.ambisonicOrder,position:t.listenerPosition,forward:t.listenerForward,up:t.listenerUp}),this._context=e,this.output=e.createGain(),this.ambisonicOutput=e.createGain(),this.ambisonicInput=this._listener.input,this._room.output.connect(this._listener.input),this._listener.output.connect(this.output),this._listener.ambisonicOutput.connect(this.ambisonicOutput)}A.prototype.createSource=function(e){let t=new s(this,e);return this._sources[this._sources.length]=t,t},A.prototype.setAmbisonicOrder=function(e){this._ambisonicOrder=o.validateAmbisonicOrder(e)},A.prototype.setRoomProperties=function(e,t){this._room.setProperties(e,t)},A.prototype.setListenerPosition=function(e,t,i){this._listener.position[0]=e,this._listener.position[1]=t,this._listener.position[2]=i,this._room.setListenerPosition(e,t,i),this._sources.forEach((function(e){e._update()}))},A.prototype.setListenerOrientation=function(e,t,i,n,s,a){this._listener.setOrientation(e,t,i,n,s,a)},A.prototype.setListenerFromMatrix=function(e){this._listener.setFromMatrix(e),this.setListenerPosition(this._listener.position[0],this._listener.position[1],this._listener.position[2])},A.prototype.setSpeedOfSound=function(e){this._room.speedOfSound=e},e.exports=A},function(e,t,i){!function(t,i){e.exports=i()}(0,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){let i,n,s,a,o,r,A,l,c,h,u,d,g,p,m,f,v,w,E,y,D,C,_,F,B,b,S,P,M;t.log=function(){window.console.log.apply(window.console,["%c[Omnitone]%c "+Array.prototype.slice.call(arguments).join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #BBDEFB; color: #FF5722; font-weight: 500","font-weight: 300","color: #AAA"])},t.throw=function(){throw window.console.error.apply(window.console,["%c[Omnitone]%c "+Array.prototype.slice.call(arguments).join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #C62828; color: #FFEBEE; font-weight: 800","font-weight: 400","color: #AAA"]),new Error(!1)},t.invertMatrix4=function(e,t){return i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],r=t[5],A=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11],g=t[12],p=t[13],m=t[14],f=t[15],v=i*r-n*o,w=i*A-s*o,E=i*l-a*o,y=n*A-s*r,D=n*l-a*r,C=s*l-a*A,_=c*p-h*g,F=c*m-u*g,B=c*f-d*g,b=h*m-u*p,S=h*f-d*p,P=u*f-d*m,M=v*P-w*S+E*b+y*B-D*F+C*_,M?(M=1/M,e[0]=(r*P-A*S+l*b)*M,e[1]=(s*S-n*P-a*b)*M,e[2]=(p*C-m*D+f*y)*M,e[3]=(u*D-h*C-d*y)*M,e[4]=(A*B-o*P-l*F)*M,e[5]=(i*P-s*B+a*F)*M,e[6]=(m*E-g*C-f*w)*M,e[7]=(c*C-u*E+d*w)*M,e[8]=(o*S-r*B+l*_)*M,e[9]=(n*B-i*S-a*_)*M,e[10]=(g*D-p*E+f*v)*M,e[11]=(h*E-c*D-d*v)*M,e[12]=(r*F-o*b-A*_)*M,e[13]=(i*b-n*F+s*_)*M,e[14]=(p*w-g*y-m*v)*M,e[15]=(c*y-h*w+u*v)*M,e):null},t.isDefinedENUMEntry=function(e,t){for(let i in e)if(t===e[i])return!0;return!1},t.isAudioContext=function(e){return e instanceof AudioContext||e instanceof OfflineAudioContext},t.isAudioBuffer=function(e){return e instanceof AudioBuffer},t.mergeBufferListByChannel=function(e,i){const n=i[0].length,s=i[0].sampleRate;let a=0;for(let e=0;e<i.length;++e)a>32&&t.throw("Utils.mergeBuffer: Number of channels cannot exceed 32.(got "+a+")"),n!==i[e].length&&t.throw("Utils.mergeBuffer: AudioBuffer lengths are inconsistent. (expected "+n+" but got "+i[e].length+")"),s!==i[e].sampleRate&&t.throw("Utils.mergeBuffer: AudioBuffer sample rates are inconsistent. (expected "+s+" but got "+i[e].sampleRate+")"),a+=i[e].numberOfChannels;const o=e.createBuffer(a,n,s);let r=0;for(let e=0;e<i.length;++e)for(let t=0;t<i[e].numberOfChannels;++t)o.getChannelData(r++).set(i[e].getChannelData(t));return o},t.splitBufferbyChannel=function(e,i,n){i.numberOfChannels<=n&&t.throw("Utils.splitBuffer: Insufficient number of channels. ("+i.numberOfChannels+" splitted by "+n+")");let s=0;const a=Math.ceil(i.numberOfChannels/n);for(let t=0;t<a;++t){let t=e.createBuffer(n,i.length,i.sampleRate);for(let e=0;e<n;++e)s<i.numberOfChannels&&t.getChannelData(e).set(i.getChannelData(s++))}return bufferList},t.getArrayBufferFromBase64String=function(e){let t=window.atob(e),i=new Uint8Array(t.length);return i.forEach((e,n)=>i[n]=t.charCodeAt(n)),i.buffer}},function(e,t,i){const n=i(0),s={BASE64:"base64",URL:"url"};function a(e,t,i){this._context=n.isAudioContext(e)?e:n.throw("BufferList: Invalid BaseAudioContext."),this._options={dataType:s.BASE64,verbose:!1},i&&(i.dataType&&n.isDefinedENUMEntry(s,i.dataType)&&(this._options.dataType=i.dataType),i.verbose&&(this._options.verbose=Boolean(i.verbose))),this._bufferList=[],this._bufferData=this._options.dataType===s.BASE64?t:t.slice(0),this._numberOfTasks=this._bufferData.length,this._resolveHandler=null,this._rejectHandler=new Function}a.prototype.load=function(){return new Promise(this._promiseGenerator.bind(this))},a.prototype._promiseGenerator=function(e,t){"function"!=typeof e?n.throw("BufferList: Invalid Promise resolver."):this._resolveHandler=e,"function"==typeof t&&(this._rejectHandler=t);for(let e=0;e<this._bufferData.length;++e)this._options.dataType===s.BASE64?this._launchAsyncLoadTask(e):this._launchAsyncLoadTaskXHR(e)},a.prototype._launchAsyncLoadTask=function(e){const t=this;this._context.decodeAudioData(n.getArrayBufferFromBase64String(this._bufferData[e]),(function(i){t._updateProgress(e,i)}),(function(i){t._updateProgress(e,null);const s='BufferList: decoding ArrayByffer("'+e+'" from Base64-encoded data failed. ('+i+")";n.throw(s),t._rejectHandler(s)}))},a.prototype._launchAsyncLoadTaskXHR=function(e){const t=new XMLHttpRequest;t.open("GET",this._bufferData[e]),t.responseType="arraybuffer";const i=this;t.onload=function(){if(200===t.status)i._context.decodeAudioData(t.response,(function(t){i._updateProgress(e,t)}),(function(t){i._updateProgress(e,null);const s='BufferList: decoding "'+i._bufferData[e]+'" failed. ('+t+")";n.throw(s),i._rejectHandler(s)}));else{const s='BufferList: XHR error while loading "'+i._bufferData[e]+"("+t.statusText+")";n.throw(s),i._rejectHandler(s)}},t.onerror=function(t){n.throw('BufferList: XHR network failed on loading "'+i._bufferData[e]+'".'),i._updateProgress(e,null),i._rejectHandler()},t.send()},a.prototype._updateProgress=function(e,t){if(this._bufferList[e]=t,this._options.verbose){let t=this._options.dataType===s.BASE64?"ArrayBuffer("+e+") from Base64-encoded HRIR":'"'+this._bufferData[e]+'"';n.log("BufferList: "+t+" successfully loaded.")}if(0==--this._numberOfTasks){let e=this._options.dataType===s.BASE64?this._bufferData.length+" AudioBuffers from Base64-encoded HRIRs":this._bufferData.length+" files via XHR";n.log("BufferList: "+e+" loaded successfully."),this._resolveHandler(this._bufferList)}},e.exports=a},function(e,t,i){const n={DEFAULT:[0,1,2,3],SAFARI:[2,0,1,3],FUMA:[0,3,1,2]};function s(e,t){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._merger=this._context.createChannelMerger(4),this.input=this._splitter,this.output=this._merger,this.setChannelMap(t||n.DEFAULT)}s.prototype.setChannelMap=function(e){Array.isArray(e)&&(this._channelMap=e,this._splitter.disconnect(),this._splitter.connect(this._merger,0,this._channelMap[0]),this._splitter.connect(this._merger,1,this._channelMap[1]),this._splitter.connect(this._merger,2,this._channelMap[2]),this._splitter.connect(this._merger,3,this._channelMap[3]))},s.ChannelMap=n,e.exports=s},function(e,t,i){function n(e){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._inY=this._context.createGain(),this._inZ=this._context.createGain(),this._inX=this._context.createGain(),this._m0=this._context.createGain(),this._m1=this._context.createGain(),this._m2=this._context.createGain(),this._m3=this._context.createGain(),this._m4=this._context.createGain(),this._m5=this._context.createGain(),this._m6=this._context.createGain(),this._m7=this._context.createGain(),this._m8=this._context.createGain(),this._outY=this._context.createGain(),this._outZ=this._context.createGain(),this._outX=this._context.createGain(),this._merger=this._context.createChannelMerger(4),this._splitter.connect(this._inY,1),this._splitter.connect(this._inZ,2),this._splitter.connect(this._inX,3),this._inY.gain.value=-1,this._inX.gain.value=-1,this._inY.connect(this._m0),this._inY.connect(this._m1),this._inY.connect(this._m2),this._inZ.connect(this._m3),this._inZ.connect(this._m4),this._inZ.connect(this._m5),this._inX.connect(this._m6),this._inX.connect(this._m7),this._inX.connect(this._m8),this._m0.connect(this._outY),this._m1.connect(this._outZ),this._m2.connect(this._outX),this._m3.connect(this._outY),this._m4.connect(this._outZ),this._m5.connect(this._outX),this._m6.connect(this._outY),this._m7.connect(this._outZ),this._m8.connect(this._outX),this._splitter.connect(this._merger,0,0),this._outY.connect(this._merger,0,1),this._outZ.connect(this._merger,0,2),this._outX.connect(this._merger,0,3),this._outY.gain.value=-1,this._outX.gain.value=-1,this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}n.prototype.setRotationMatrix3=function(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[3],this._m4.gain.value=e[4],this._m5.gain.value=e[5],this._m6.gain.value=e[6],this._m7.gain.value=e[7],this._m8.gain.value=e[8]},n.prototype.setRotationMatrix4=function(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[4],this._m4.gain.value=e[5],this._m5.gain.value=e[6],this._m6.gain.value=e[8],this._m7.gain.value=e[9],this._m8.gain.value=e[10]},n.prototype.getRotationMatrix3=function(){return[this._m0.gain.value,this._m1.gain.value,this._m2.gain.value,this._m3.gain.value,this._m4.gain.value,this._m5.gain.value,this._m6.gain.value,this._m7.gain.value,this._m8.gain.value]},n.prototype.getRotationMatrix4=function(){let e=new Float32Array(16);return e[0]=this._m0.gain.value,e[1]=this._m1.gain.value,e[2]=this._m2.gain.value,e[4]=this._m3.gain.value,e[5]=this._m4.gain.value,e[6]=this._m5.gain.value,e[8]=this._m6.gain.value,e[9]=this._m7.gain.value,e[10]=this._m8.gain.value,e},e.exports=n},function(e,t,i){function n(e,t){this._context=e,this._active=!1,this._isBufferLoaded=!1,this._buildAudioGraph(),t&&this.setHRIRBufferList(t),this.enable()}n.prototype._buildAudioGraph=function(){this._splitterWYZX=this._context.createChannelSplitter(4),this._mergerWY=this._context.createChannelMerger(2),this._mergerZX=this._context.createChannelMerger(2),this._convolverWY=this._context.createConvolver(),this._convolverZX=this._context.createConvolver(),this._splitterWY=this._context.createChannelSplitter(2),this._splitterZX=this._context.createChannelSplitter(2),this._inverter=this._context.createGain(),this._mergerBinaural=this._context.createChannelMerger(2),this._summingBus=this._context.createGain(),this._splitterWYZX.connect(this._mergerWY,0,0),this._splitterWYZX.connect(this._mergerWY,1,1),this._splitterWYZX.connect(this._mergerZX,2,0),this._splitterWYZX.connect(this._mergerZX,3,1),this._mergerWY.connect(this._convolverWY),this._mergerZX.connect(this._convolverZX),this._convolverWY.connect(this._splitterWY),this._convolverZX.connect(this._splitterZX),this._splitterWY.connect(this._mergerBinaural,0,0),this._splitterWY.connect(this._mergerBinaural,0,1),this._splitterWY.connect(this._mergerBinaural,1,0),this._splitterWY.connect(this._inverter,1,0),this._inverter.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,0,0),this._splitterZX.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,1,0),this._splitterZX.connect(this._mergerBinaural,1,1),this._convolverWY.normalize=!1,this._convolverZX.normalize=!1,this._inverter.gain.value=-1,this.input=this._splitterWYZX,this.output=this._summingBus},n.prototype.setHRIRBufferList=function(e){this._isBufferLoaded||(this._convolverWY.buffer=e[0],this._convolverZX.buffer=e[1],this._isBufferLoaded=!0)},n.prototype.enable=function(){this._mergerBinaural.connect(this._summingBus),this._active=!0},n.prototype.disable=function(){this._mergerBinaural.disconnect(),this._active=!1},e.exports=n},function(e,t,i){const n=i(0);function s(e,t,i,s,a){this._context=e,this._buffers=new Map,this._loadingTasks={},this._resolve=i,this._reject=s,this._progress=a;for(let e=0;e<t.length;e++){const i=t[e];if(this._loadingTasks.hasOwnProperty(i.name))return void n.log("Duplicated filename when loading: "+i.name);this._loadingTasks[i.name]=0,this._loadAudioFile(i)}}s.prototype._loadAudioFile=function(e){const t=new XMLHttpRequest;t.open("GET",e.url),t.responseType="arraybuffer";const i=this;t.onload=function(){200===t.status?i._context.decodeAudioData(t.response,(function(t){i._done(e.name,t)}),(function(t){n.log("Decoding failure: "+e.url+" ("+t+")"),i._done(e.name,null)})):(n.log("XHR Error: "+e.url+" ("+t.statusText+")"),i._done(e.name,null))},t.onerror=function(t){n.log("XHR Network failure: "+e.url),i._done(e.name,null)},t.send()},s.prototype._done=function(e,t){this._loadingTasks[e]=null!==t?"loaded":"failed",this._buffers.set(e,t),this._updateProgress(e)},s.prototype._updateProgress=function(e){let t=0,i=0,n=0;for(const e in this._loadingTasks)Object.prototype.hasOwnProperty.call(this._loadingTasks,e)&&(n++,"loaded"===this._loadingTasks[e]?t++:"failed"===this._loadingTasks[e]&&i++);"function"!=typeof this._progress?t!==n?t+i!==n||this._reject(this._buffers):this._resolve(this._buffers):this._progress(e,t,n)},e.exports=s},function(e,t,i){const n=i(0),s=[1.4142,.8166,.8166,.8166];e.exports=function(e){if(this._context=e,this._input=this._context.createGain(),this._context.createIIRFilter){const e=function(e,t){const i=Math.tan(Math.PI*e/t),n=i*i,s=n+2*i+1;return{lowpassA:[1,2*(n-1)/s,(n-2*i+1)/s],lowpassB:[n/s,2*n/s,n/s],hipassA:[1,2*(n-1)/s,(n-2*i+1)/s],hipassB:[1/s,-2/s,1/s]}}(690,this._context.sampleRate);this._lpf=this._context.createIIRFilter(e.lowpassB,e.lowpassA),this._hpf=this._context.createIIRFilter(e.hipassB,e.hipassA)}else n.log("IIR filter is missing. Using Biquad filter instead."),this._lpf=this._context.createBiquadFilter(),this._hpf=this._context.createBiquadFilter(),this._lpf.frequency.value=690,this._hpf.frequency.value=690,this._hpf.type="highpass";this._splitterLow=this._context.createChannelSplitter(4),this._splitterHigh=this._context.createChannelSplitter(4),this._gainHighW=this._context.createGain(),this._gainHighY=this._context.createGain(),this._gainHighZ=this._context.createGain(),this._gainHighX=this._context.createGain(),this._merger=this._context.createChannelMerger(4),this._input.connect(this._hpf),this._hpf.connect(this._splitterHigh),this._splitterHigh.connect(this._gainHighW,0),this._splitterHigh.connect(this._gainHighY,1),this._splitterHigh.connect(this._gainHighZ,2),this._splitterHigh.connect(this._gainHighX,3),this._gainHighW.connect(this._merger,0,0),this._gainHighY.connect(this._merger,0,1),this._gainHighZ.connect(this._merger,0,2),this._gainHighX.connect(this._merger,0,3),this._input.connect(this._lpf),this._lpf.connect(this._splitterLow),this._splitterLow.connect(this._merger,0,0),this._splitterLow.connect(this._merger,1,1),this._splitterLow.connect(this._merger,2,2),this._splitterLow.connect(this._merger,3,3);const t=this._context.currentTime;this._gainHighW.gain.setValueAtTime(-1*s[0],t),this._gainHighY.gain.setValueAtTime(-1*s[1],t),this._gainHighZ.gain.setValueAtTime(-1*s[2],t),this._gainHighX.gain.setValueAtTime(-1*s[3],t),this.input=this._input,this.output=this._merger}},function(e,t,i){function n(e,t){if(2!==t.IR.numberOfChannels)throw new Error("IR does not have 2 channels. cannot proceed.");this._active=!1,this._context=e,this._input=this._context.createChannelSplitter(4),this._cW=this._context.createGain(),this._cY=this._context.createGain(),this._cZ=this._context.createGain(),this._cX=this._context.createGain(),this._convolver=this._context.createConvolver(),this._gain=this._context.createGain(),this._input.connect(this._cW,0),this._input.connect(this._cY,1),this._input.connect(this._cZ,2),this._input.connect(this._cX,3),this._cW.connect(this._convolver),this._cY.connect(this._convolver),this._cZ.connect(this._convolver),this._cX.connect(this._convolver),this._convolver.connect(this._gain),this._gain.connect(this._context.destination),this.enable(),this._convolver.normalize=!1,this._convolver.buffer=t.IR,this._gain.gain.value=t.gain,this._cW.gain.value=t.coefficients[0],this._cY.gain.value=t.coefficients[1],this._cZ.gain.value=t.coefficients[2],this._cX.gain.value=t.coefficients[3],this.input=this._input}n.prototype.enable=function(){this._gain.connect(this._context.destination),this._active=!0},n.prototype.disable=function(){this._gain.disconnect(),this._active=!1},e.exports=n},function(e,t,i){function n(e,t,i){this._context=e,this._active=!1,this._isBufferLoaded=!1,this._ambisonicOrder=t,this._numberOfChannels=(this._ambisonicOrder+1)*(this._ambisonicOrder+1),this._buildAudioGraph(),i&&this.setHRIRBufferList(i),this.enable()}n.prototype._buildAudioGraph=function(){const e=Math.ceil(this._numberOfChannels/2);this._inputSplitter=this._context.createChannelSplitter(this._numberOfChannels),this._stereoMergers=[],this._convolvers=[],this._stereoSplitters=[],this._positiveIndexSphericalHarmonics=this._context.createGain(),this._negativeIndexSphericalHarmonics=this._context.createGain(),this._inverter=this._context.createGain(),this._binauralMerger=this._context.createChannelMerger(2),this._outputGain=this._context.createGain();for(let t=0;t<e;++t)this._stereoMergers[t]=this._context.createChannelMerger(2),this._convolvers[t]=this._context.createConvolver(),this._stereoSplitters[t]=this._context.createChannelSplitter(2),this._convolvers[t].normalize=!1;for(let e=0;e<=this._ambisonicOrder;++e)for(let t=-e;t<=e;t++){const i=e*e+e+t,n=Math.floor(i/2);this._inputSplitter.connect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].connect(this._convolvers[n]),this._convolvers[n].connect(this._stereoSplitters[n]),t>=0?this._stereoSplitters[n].connect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].connect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.connect(this._inverter),this._inverter.connect(this._binauralMerger,0,1),this._inverter.gain.value=-1,this.input=this._inputSplitter,this.output=this._outputGain},n.prototype.setHRIRBufferList=function(e){if(!this._isBufferLoaded){for(let t=0;t<e.length;++t)this._convolvers[t].buffer=e[t];this._isBufferLoaded=!0}},n.prototype.enable=function(){this._binauralMerger.connect(this._outputGain),this._active=!0},n.prototype.disable=function(){this._binauralMerger.disconnect(),this._active=!1},e.exports=n},function(e,t,i){function n(e,t){return e===t?1:0}function s(e,t,i,n,s){const a=(n+t)*(2*t+1)+(i+t);e[t-1][a].gain.value=s}function a(e,t,i,n){const s=(n+t)*(2*t+1)+(i+t);return e[t-1][s].gain.value}function o(e,t,i,n,s){return n===s?a(e,1,t,1)*a(e,s-1,i,s-1)-a(e,1,t,-1)*a(e,s-1,i,1-s):n===-s?a(e,1,t,1)*a(e,s-1,i,1-s)+a(e,1,t,-1)*a(e,s-1,i,s-1):a(e,1,t,0)*a(e,s-1,i,n)}function r(e,t,i,n){return o(e,0,t,i,n)}function A(e,t,i,s){if(0===t)return o(e,1,1,i,s)+o(e,-1,-1,i,s);if(t>0){const a=n(t,1);return o(e,1,t-1,i,s)*Math.sqrt(1+a)-o(e,-1,1-t,i,s)*(1-a)}{const a=n(t,-1);return o(e,1,t+1,i,s)*(1-a)+o(e,-1,-t-1,i,s)*Math.sqrt(1+a)}}function l(e,t,i,n){return 0===t?0:t>0?o(e,1,t+1,i,n)+o(e,-1,-t-1,i,n):o(e,1,t-1,i,n)-o(e,-1,1-t,i,n)}function c(e,t,i){const s=n(e,0),a=Math.abs(t)===i?1/(2*i*(2*i-1)):1/((i+t)*(i-t));return[Math.sqrt((i+e)*(i-e)*a),.5*(1-2*s)*Math.sqrt((1+s)*(i+Math.abs(e)-1)*(i+Math.abs(e))*a),-.5*(1-s)*Math.sqrt((i-Math.abs(e)-1)*(i-Math.abs(e)))*a]}function h(e,t){for(let i=-t;i<=t;i++)for(let n=-t;n<=t;n++){const a=c(i,n,t);Math.abs(a[0])>0&&(a[0]*=r(e,i,n,t)),Math.abs(a[1])>0&&(a[1]*=A(e,i,n,t)),Math.abs(a[2])>0&&(a[2]*=l(e,i,n,t)),s(e,t,i,n,a[0]+a[1]+a[2])}}function u(e){for(let t=2;t<=e.length;t++)h(e,t)}function d(e,t){this._context=e,this._ambisonicOrder=t;const i=(t+1)*(t+1);let n,s,a,o,r;this._splitter=this._context.createChannelSplitter(i),this._merger=this._context.createChannelMerger(i),this._gainNodeMatrix=[];for(let e=1;e<=t;e++){n=e*e,s=2*e+1,this._gainNodeMatrix[e-1]=[];for(let t=0;t<s;t++){a=n+t;for(let i=0;i<s;i++)o=n+i,r=t*s+i,this._gainNodeMatrix[e-1][r]=this._context.createGain(),this._splitter.connect(this._gainNodeMatrix[e-1][r],a),this._gainNodeMatrix[e-1][r].connect(this._merger,0,o)}}this._splitter.connect(this._merger,0,0),this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}d.prototype.setRotationMatrix3=function(e){for(let t=0;t<9;++t)this._gainNodeMatrix[0][t].gain.value=e[t];u(this._gainNodeMatrix)},d.prototype.setRotationMatrix4=function(e){this._gainNodeMatrix[0][0].gain.value=e[0],this._gainNodeMatrix[0][1].gain.value=e[1],this._gainNodeMatrix[0][2].gain.value=e[2],this._gainNodeMatrix[0][3].gain.value=e[4],this._gainNodeMatrix[0][4].gain.value=e[5],this._gainNodeMatrix[0][5].gain.value=e[6],this._gainNodeMatrix[0][6].gain.value=e[8],this._gainNodeMatrix[0][7].gain.value=e[9],this._gainNodeMatrix[0][8].gain.value=e[10],u(this._gainNodeMatrix)},d.prototype.getRotationMatrix3=function(){let e=new Float32Array(9);for(let t=0;t<9;++t)e[t]=this._gainNodeMatrix[0][t].gain.value;return e},d.prototype.getRotationMatrix4=function(){let e=new Float32Array(16);return e[0]=this._gainNodeMatrix[0][0].gain.value,e[1]=this._gainNodeMatrix[0][1].gain.value,e[2]=this._gainNodeMatrix[0][2].gain.value,e[4]=this._gainNodeMatrix[0][3].gain.value,e[5]=this._gainNodeMatrix[0][4].gain.value,e[6]=this._gainNodeMatrix[0][5].gain.value,e[8]=this._gainNodeMatrix[0][6].gain.value,e[9]=this._gainNodeMatrix[0][7].gain.value,e[10]=this._gainNodeMatrix[0][8].gain.value,e},d.prototype.getAmbisonicOrder=function(){return this._ambisonicOrder},e.exports=d},function(e,t,i){
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
t.Omnitone=i(11)},function(e,t,i){const n=i(1),s=i(4),a=i(12),o=i(6),r=i(14),A=i(3),l=i(2),c=i(7),h=i(8),u=i(16),d=i(9),g=i(19),p=i(0),m=i(20),f=i(5);let v={};v.browserInfo=g.getBrowserInfo(),v.loadAudioBuffers=function(e,t){return new Promise((function(i,n){new f(e,t,(function(e){i(e)}),n)}))},v.createBufferList=function(e,t,i){return new n(e,t,i||{dataType:"url"}).load()},v.mergeBufferListByChannel=p.mergeBufferListByChannel,v.splitBufferbyChannel=p.splitBufferbyChannel,v.createFOAConvolver=function(e,t){return new s(e,t)},v.createFOARouter=function(e,t){return new l(e,t)},v.createFOARotator=function(e){return new A(e)},v.createFOAPhaseMatchedFilter=function(e){return new o(e)},v.createFOAVirtualSpeaker=function(e,t){return new c(e,t)},v.createFOADecoder=function(e,t,i){return p.log("WARNING: FOADecoder is deprecated in favor of FOARenderer."),new a(e,t,i)},v.createFOARenderer=function(e,t){return new r(e,t)},v.createHOARotator=function(e,t){return new d(e,t)},v.createHOAConvolver=function(e,t,i){return new h(e,t,i)},v.createHOARenderer=function(e,t){return new u(e,t)},p.log("Version "+m+" (running "+v.browserInfo.name+" "+v.browserInfo.version+" on "+v.browserInfo.platform+")"),"safari"===v.browserInfo.name.toLowerCase()&&(g.patchSafari(),p.log(v.browserInfo.name+" detected. Appliying polyfill...")),e.exports=v},function(e,t,i){const n=i(5),s=i(2),a=i(3),o=i(6),r=i(7),A=i(13),l=i(0);function c(e,t,i){this._isDecoderReady=!1,this._context=e,this._videoElement=t,this._decodingMode="ambisonic",this._postGainDB=0,this._HRTFSetUrl="https://raw.githubusercontent.com/GoogleChrome/omnitone/master/build/resources/",this._channelMap=s.ChannelMap.DEFAULT,i&&(i.postGainDB&&(this._postGainDB=i.postGainDB),i.HRTFSetUrl&&(this._HRTFSetUrl=i.HRTFSetUrl),i.channelMap&&(this._channelMap=i.channelMap)),this._speakerData=[];for(let e=0;e<A.length;++e)this._speakerData.push({name:A[e].name,url:this._HRTFSetUrl+"/"+A[e].url,coef:A[e].coef});this._tempMatrix4=new Float32Array(16)}c.prototype.initialize=function(){l.log("Initializing... (mode: "+this._decodingMode+")");let e=this._channelMap.toString(),t=s.ChannelMap.DEFAULT.toString();e!==t&&l.log("Remapping channels (["+t+"] -> ["+e+"])"),this._audioElementSource=this._context.createMediaElementSource(this._videoElement),this._foaRouter=new s(this._context,this._channelMap),this._foaRotator=new a(this._context),this._foaPhaseMatchedFilter=new o(this._context),this._audioElementSource.connect(this._foaRouter.input),this._foaRouter.output.connect(this._foaRotator.input),this._foaRotator.output.connect(this._foaPhaseMatchedFilter.input),this._foaVirtualSpeakers=[],this._bypass=this._context.createGain(),this._audioElementSource.connect(this._bypass);const i=Math.pow(10,this._postGainDB/20);l.log("Gain compensation: "+i+" ("+this._postGainDB+"dB)");const A=this;return new Promise((function(e,t){new n(A._context,A._speakerData,(function(t){for(let e=0;e<A._speakerData.length;++e)A._foaVirtualSpeakers[e]=new r(A._context,{coefficients:A._speakerData[e].coef,IR:t.get(A._speakerData[e].name),gain:i}),A._foaPhaseMatchedFilter.output.connect(A._foaVirtualSpeakers[e].input);A.setMode(A._decodingMode),A._isDecoderReady=!0,l.log("HRTF IRs are loaded successfully. The decoder is ready."),e()}),t)}))},c.prototype.setRotationMatrix=function(e){this._foaRotator.setRotationMatrix(e)},c.prototype.setRotationMatrixFromCamera=function(e){l.invertMatrix4(this._tempMatrix4,e.elements),this._foaRotator.setRotationMatrix4(this._tempMatrix4)},c.prototype.setMode=function(e){if(e!==this._decodingMode){switch(e){case"bypass":this._decodingMode="bypass";for(let e=0;e<this._foaVirtualSpeakers.length;++e)this._foaVirtualSpeakers[e].disable();this._bypass.connect(this._context.destination);break;case"ambisonic":this._decodingMode="ambisonic";for(let e=0;e<this._foaVirtualSpeakers.length;++e)this._foaVirtualSpeakers[e].enable();this._bypass.disconnect();break;case"off":this._decodingMode="off";for(let e=0;e<this._foaVirtualSpeakers.length;++e)this._foaVirtualSpeakers[e].disable();this._bypass.disconnect()}l.log("Decoding mode changed. ("+e+")")}},e.exports=c},function(e,t){e.exports=[{name:"E35_A135",url:"E35_A135.wav",gainFactor:1,coef:[.125,.216495,.21653,-.216495]},{name:"E35_A-135",url:"E35_A-135.wav",gainFactor:1,coef:[.125,-.216495,.21653,-.216495]},{name:"E-35_A135",url:"E-35_A135.wav",gainFactor:1,coef:[.125,.216495,-.21653,-.216495]},{name:"E-35_A-135",url:"E-35_A-135.wav",gainFactor:1,coef:[.125,-.216495,-.21653,-.216495]},{name:"E35_A45",url:"E35_A45.wav",gainFactor:1,coef:[.125,.216495,.21653,.216495]},{name:"E35_A-45",url:"E35_A-45.wav",gainFactor:1,coef:[.125,-.216495,.21653,.216495]},{name:"E-35_A45",url:"E-35_A45.wav",gainFactor:1,coef:[.125,.216495,-.21653,.216495]},{name:"E-35_A-45",url:"E-35_A-45.wav",gainFactor:1,coef:[.125,-.216495,-.21653,.216495]}]},function(e,t,i){const n=i(1),s=i(4),a=i(15),o=i(3),r=i(2),A=i(0),l={AMBISONIC:"ambisonic",BYPASS:"bypass",OFF:"off"};function c(e,t){this._context=A.isAudioContext(e)?e:A.throw("FOARenderer: Invalid BaseAudioContext."),this._config={channelMap:r.ChannelMap.DEFAULT,renderingMode:l.AMBISONIC},t&&(t.channelMap&&(Array.isArray(t.channelMap)&&4===t.channelMap.length?this._config.channelMap=t.channelMap:A.throw("FOARenderer: Invalid channel map. (got "+t.channelMap+")")),t.hrirPathList&&(Array.isArray(t.hrirPathList)&&2===t.hrirPathList.length?this._config.pathList=t.hrirPathList:A.throw("FOARenderer: Invalid HRIR URLs. It must be an array with 2 URLs to HRIR files. (got "+t.hrirPathList+")")),t.renderingMode&&(Object.values(l).includes(t.renderingMode)?this._config.renderingMode=t.renderingMode:A.log("FOARenderer: Invalid rendering mode order. (got"+t.renderingMode+') Fallbacks to the mode "ambisonic".'))),this._buildAudioGraph(),this._tempMatrix4=new Float32Array(16),this._isRendererReady=!1}c.prototype._buildAudioGraph=function(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._foaRouter=new r(this._context,this._config.channelMap),this._foaRotator=new o(this._context),this._foaConvolver=new s(this._context),this.input.connect(this._foaRouter.input),this.input.connect(this._bypass),this._foaRouter.output.connect(this._foaRotator.input),this._foaRotator.output.connect(this._foaConvolver.input),this._foaConvolver.output.connect(this.output),this.input.channelCount=4,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"},c.prototype._initializeCallback=function(e,t){(this._config.pathList?new n(this._context,this._config.pathList,{dataType:"url"}):new n(this._context,a)).load().then(function(t){this._foaConvolver.setHRIRBufferList(t),this.setRenderingMode(this._config.renderingMode),this._isRendererReady=!0,A.log("FOARenderer: HRIRs loaded successfully. Ready."),e()}.bind(this),(function(){const e="FOARenderer: HRIR loading/decoding failed.";A.throw(e),t(e)}))},c.prototype.initialize=function(){return A.log("FOARenderer: Initializing... (mode: "+this._config.renderingMode+")"),new Promise(this._initializeCallback.bind(this),(function(e){A.throw("FOARenderer: Initialization failed. ("+e+")")}))},c.prototype.setChannelMap=function(e){this._isRendererReady&&e.toString()!==this._config.channelMap.toString()&&(A.log("Remapping channels (["+this._config.channelMap.toString()+"] -> ["+e.toString()+"])."),this._config.channelMap=e.slice(),this._foaRouter.setChannelMap(this._config.channelMap))},c.prototype.setRotationMatrix3=function(e){this._isRendererReady&&this._foaRotator.setRotationMatrix3(e)},c.prototype.setRotationMatrix4=function(e){this._isRendererReady&&this._foaRotator.setRotationMatrix4(e)},c.prototype.setRotationMatrixFromCamera=function(e){this._isRendererReady&&(A.invertMatrix4(this._tempMatrix4,e.elements),this._foaRotator.setRotationMatrix4(this._tempMatrix4))},c.prototype.setRenderingMode=function(e){if(e!==this._config.renderingMode){switch(e){case l.AMBISONIC:this._foaConvolver.enable(),this._bypass.disconnect();break;case l.BYPASS:this._foaConvolver.disable(),this._bypass.connect(this.output);break;case l.OFF:this._foaConvolver.disable(),this._bypass.disconnect();break;default:return void A.log('FOARenderer: Rendering mode "'+e+'" is not supported.')}this._config.renderingMode=e,A.log("FOARenderer: Rendering mode changed. ("+e+")")}},e.exports=c},function(e,t){e.exports=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wIA9v8QAPv/CwD+/wcA/v8MAP//AQD7/wEACAAEAPj/+v8YABAA7v/n//v/9P/M/8D//f34/R38EvzxAfEBtA2lDTcBJQFJ9T71FP0D/cD1tfVo/Wv9uPTO9PPmOufc/U/+agL3Aisc/RxuGKEZBv3j/iYMzQ2gAzsEQQUABiQFrASzA5cB2QmyCy0AtgR4AeYGtfgAA2j5OQHP+scArPsMBJgEggIEBtz6+QVq/pj/aPg8BPP3gQEi+jEAof0fA1v9+/7S+8IBjvwd/xD4IADL/Pf9zvs+/l3+wgB7/+L+7fzFADH9kf6A+n3+DP6+/TP9xP68/pn+w/26/i39YgA0/u790Pt9/kD+7v1s/Wb+8f4C/1P+pf/x/cT+6/3p/Xz9ff5F/0f9G/4r/6v/4P5L/sL+ff7c/pj+Ov7X/UT+9P5G/oz+6v6A/2D+9/6P/8r/bP7m/ij+C//e/tj/Gf4e/9v+FwDP/lz/sP7F/2H+rv/G/s7/Hf7y/4P+NAD9/k0AK/6w/zP/hACh/sX/gf44AOP+dgCm/iUAk/5qAOD+PwC+/jEAWP4CAAr/bQBw/vv/zf5iACD/OgCS/uD/Cv9oAAb/CgDK/kwA//5tACH/TgCg/h4AHP9aABP/JADP/hEAYv9gAAj/3f8m/ysAYv8gACX/8/8k/ysAXv8bABH//v8j/ygAa/8qAAD/9f9g/1YAWf8JACH/AgB2/z4AXP/w/z3/FgB2/ykAX//9/z//EwCV/zUAS//n/1T/GACK/x4ATv/0/4P/QQB4//v/WP/2/3X/HAB8//P/V//3/2f/AQBh/9v/Tf/x/5P/IwCI/wMAf/8hAKP/JACZ/xUAiv8nAK//HgCr/yMAm/8uAMz/OACi/yQAqf87AMT/MwCY/yUAtP9FAMH/KgCu/ycAyP85AMv/IwCz/xoA1f8qAMn/FgC8/xQA4/8nAMX/CwDJ/xQA4f8ZAMH/BgDO/xQA4f8WAMP/BwDU/xQA4P8QAMH/AQDb/xQA3P8JAMP/AgDh/xIA2v8EAMj/AgDk/w0A1f/+/8v/AwDm/wwA0v/+/9H/BgDl/wkAzv/8/9T/BwDk/wcAzv/8/9r/CQDi/wQAzf/8/9//CADf////0P/9/+L/BwDd//7/0////+T/BgDb//z/1f8AAOf/BQDZ//v/2v8CAOb/AwDY//v/3v8EAOb/AgDY//3/4f8FAOX/AQDZ//7/5P8GAOP/AADb/wAA5/8GAOH////d/wIA5/8FAOD////f/wMA6P8FAOD////h/wQA6P8EAN7////h/wUA4v8DANv/AQDd/wQA3P8CANn/AgDb/wMA2/8CANv/AgDd/wIA3v8CAOH/AQDj/wEA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAA/f8CAP//AQD//wEA//8BAP3/AAACAP7/+f8AAAIA/P8FAAQA8/8AABoA+f/V/wQAHQDO/xoAQQBO/ocA0Px1/ucHW/4UCm8HLO6kAjv8/fCRDdAAYfPiBIgFXveUCM0GBvh6/nz7rf0J/QcQSRVdBgoBSgFR62r9NP8m+LoEAvriBVAAiAPmABEGMf2l+SwBjva6/G4A//8P/CYDMgXm/R0CKAE6/fcBBwAtAND+kQA0A5UDhwFs/8IB8fydAEP/A/8v/e7/mP8j/2YBIwE3Av0AYv+uAOD8lgAg/wwAIf/L/n0Ae//OAJMB3P/XAF//XwCM/08AB/8NAEf/rf4jAT3/lgAJAP4AHgDpAO8AUf9L/07/Qf8KAOD/x/+D/3sATQCDAMoA0f79/+L/EQDt/7EAqv+S/7IAuv/o/wgAc//X//H/SwCm/+3/Yf/B/yoAAADI/7X/AwBg/5EATgCX/xYA/P+q/00AVACY/6v/BADD/zwALQCN/8z/KQDu/ygAEgCZ/6f/VQDC//T/KQCs/7P/UgAfAO7/NgC8/57/awAZAPP/+P/V/8z/bQBBAL//DgD0/+T/TABBAMz/CwAxAPz/SQBqALn/BgALAPz/EAA7AIz/3/8iAAUA//8kALf/y/9VABQA+v81AOj/0P9cAB4A+f8WAOr/vv83ABgAw/8JAOj/4f8nACIAsf/y/w4A3v8gACQAxP/n/ycA7P8WAC0Ayf/U/ycA9v/7/yUA0P/P/zUABADc/xUA5P/J/zcACwDS/xUA9P/m/zAACQDX/+3/9v/2/yQACgDZ/+P/AwAKABYA///b/9j/EQALABkADgD6/+7/GwD4/w4A8P/w//j/EgAEAAUA9f/1/wQAGgD4/wAA5////wAAGQD1////7f8FAAUAFQDv/wAA6v8LAAcAFQDs/wEA9P8SAAYACwDr//7/AQASAAYABQDv/wIAAwAWAAIAAgDv/wAABgATAAEA/f/u/wQABgAQAPr/+P/z/wUACQALAPj/9//4/wgABwAKAPT/+f/5/w4ABwAIAPT/+//9/w4AAwADAPH//f///w8A//8BAPP///8BAA0A/f/+//X/AgACAA0A+//8//b/BAADAAoA+f/7//n/BgADAAcA+P/7//v/BwABAAQA+P/8//3/CQABAAIA9//9////CQD/////+P///wAACAD9//7/+f8AAAAABwD8//3/+v8CAAAABgD7//z//P8EAAAABAD6//3//P8FAP//AgD6//7//v8FAP7/AQD7//////8GAP7/AAD7/wEA//8EAP3/AAD9/wEA/v8DAP3/AAD9/wIA/v8CAP3/AQD9/wIA/v8CAP7/AQD+/wEA"]},function(e,t,i){const n=i(1),s=i(8),a=i(9),o=i(17),r=i(18),A=i(0),l={AMBISONIC:"ambisonic",BYPASS:"bypass",OFF:"off"},c=[2,3];function h(e,t){this._context=A.isAudioContext(e)?e:A.throw("HOARenderer: Invalid BaseAudioContext."),this._config={ambisonicOrder:3,renderingMode:l.AMBISONIC},t&&t.ambisonicOrder&&(c.includes(t.ambisonicOrder)?this._config.ambisonicOrder=t.ambisonicOrder:A.log("HOARenderer: Invalid ambisonic order. (got "+t.ambisonicOrder+") Fallbacks to 3rd-order ambisonic.")),this._config.numberOfChannels=(this._config.ambisonicOrder+1)*(this._config.ambisonicOrder+1),this._config.numberOfStereoChannels=Math.ceil(this._config.numberOfChannels/2),t&&t.hrirPathList&&(Array.isArray(t.hrirPathList)&&t.hrirPathList.length===this._config.numberOfStereoChannels?this._config.pathList=t.hrirPathList:A.throw("HOARenderer: Invalid HRIR URLs. It must be an array with "+this._config.numberOfStereoChannels+" URLs to HRIR files. (got "+t.hrirPathList+")")),t&&t.renderingMode&&(Object.values(l).includes(t.renderingMode)?this._config.renderingMode=t.renderingMode:A.log("HOARenderer: Invalid rendering mode. (got "+t.renderingMode+') Fallbacks to "ambisonic".')),this._buildAudioGraph(),this._isRendererReady=!1}h.prototype._buildAudioGraph=function(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._hoaRotator=new a(this._context,this._config.ambisonicOrder),this._hoaConvolver=new s(this._context,this._config.ambisonicOrder),this.input.connect(this._hoaRotator.input),this.input.connect(this._bypass),this._hoaRotator.output.connect(this._hoaConvolver.input),this._hoaConvolver.output.connect(this.output),this.input.channelCount=this._config.numberOfChannels,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"},h.prototype._initializeCallback=function(e,t){let i;i=this._config.pathList?new n(this._context,this._config.pathList,{dataType:"url"}):2===this._config.ambisonicOrder?new n(this._context,r):new n(this._context,o),i.load().then(function(t){this._hoaConvolver.setHRIRBufferList(t),this.setRenderingMode(this._config.renderingMode),this._isRendererReady=!0,A.log("HOARenderer: HRIRs loaded successfully. Ready."),e()}.bind(this),(function(){const e="HOARenderer: HRIR loading/decoding failed.";A.throw(e),t(e)}))},h.prototype.initialize=function(){return A.log("HOARenderer: Initializing... (mode: "+this._config.renderingMode+", ambisonic order: "+this._config.ambisonicOrder+")"),new Promise(this._initializeCallback.bind(this),(function(e){A.throw("HOARenderer: Initialization failed. ("+e+")")}))},h.prototype.setRotationMatrix3=function(e){this._isRendererReady&&this._hoaRotator.setRotationMatrix3(e)},h.prototype.setRotationMatrix4=function(e){this._isRendererReady&&this._hoaRotator.setRotationMatrix4(e)},h.prototype.setRenderingMode=function(e){if(e!==this._config.renderingMode){switch(e){case l.AMBISONIC:this._hoaConvolver.enable(),this._bypass.disconnect();break;case l.BYPASS:this._hoaConvolver.disable(),this._bypass.connect(this.output);break;case l.OFF:this._hoaConvolver.disable(),this._bypass.disconnect();break;default:return void A.log('HOARenderer: Rendering mode "'+e+'" is not supported.')}this._config.renderingMode=e,A.log("HOARenderer: Rendering mode changed. ("+e+")")}},e.exports=h},function(e,t){e.exports=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8YAP3/CgACAAAA//8CAAYA8/8AAPH/CgDv/97/e/+y/9P+UQDwAHUBEwV7/pP8P/y09bsDwAfNBGYIFf/Y+736+fP890Hv8AGcC3T/vwYy+S70AAICA3AD4AagBw0R4w3ZEAcN8RVYAV8Q8P2z+kECHwdK/jIG0QNKAYUElf8IClj7BgjX+/f8j/l3/5f/6fkK+xz8FP0v/nj/Mf/n/FcBPfvH/1H3+gBP/Hf8cfiCAR/54QBh+UQAcvkzAWL8TP13+iD/V/73+wv9Kv+Y/hv+xPz7/UL83//a/z/9AP6R/5L+jf26/P3+rP26/tD8nP7B/Pv+WP1V/sP9gv91/3P9xP3J/nv/GP5S/sb+IP8v/9j/dv7U/pr+6v+u/Z3/sv5cAOr9Q/83/+n/zP5x/57+2//k/nwA/v01//L+SACB/sD/Ff81AJT+TgDp/ocAm/5dAFT+MgD+/pMAW/7o/yH/xQDA/kkA9P6LAL3+pAC0/iQAz/5UALD+UwAt/3UAhf4UAA//pwC+/joAz/5aAAv/fwDY/iMAIf+uAPP+ZAAc/0QAy/4xAB7/TgDs/goADP8wAEL/NwDo/ub/Uf9BAC3/+v9F/y4ARP9HAFP/EQA3/xMATP81AG3/HQAu/wgAaP9FACb/9f9B/y0AUP8rAED/CwBV/z4AW/8TAGH/BQBK/xsAfv8eAFn/AgB3/zwAff8RAGj//v+E/yAAb//0/3n/FwBz/xcAiv8PAHn/FQCJ/xgAg//x/3j/EQCa/ycAff/w/47/HwCI//X/iv/7/43/JQCM/+n/kP8AAJb/JACj//7/oP8ZAML/SwCo/w4Atv8tAMb/PACr/xcAwP9HAMP/OADF/y4A0f9IANL/NwC//zEA0f9LAMb/MAC8/y4A3f9GAMH/FQDQ/yYA2/8sAMT/AwDX/xkA3v8SAM3/9v/c/w8A4f8LAMj/8f/h/xQA2P8CAMn/8//j/xQA0v/7/9H//P/i/xEA0v/1/9L//f/j/w0A0f/x/9f//v/k/wgAz//u/9z/AwDg/wMA0P/v/9//BQDf////0v/y/+D/CADc//3/0v/2/+L/CgDa//r/1v/5/+T/CgDY//j/2f/9/+T/CADY//f/3P8AAOT/BwDY//f/4P8EAOP/BADZ//j/4v8GAOL/AwDa//r/5f8IAOH/AQDc//3/5v8JAOD//v/f////5v8IAOD//v/h/wIA5/8HAOD//f/j/wMA5/8GAOD//f/l/wYA5v8EAOD//v/m/wYA5f8CAOL////n/wYA5P8BAOH/AADl/wUA4f///+H/AQDk/wMA4f///+T/AQDm/wEA5////+r/AADt/wAA7/////P/AAD1////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v///wAAAAAAAAAAAQAAAAAA///9/wAABAD+//n/AgAJAAAA+v/+//f/DAAdAPv/+v+l/8L+jf/4/vgAdwVPAQACLQBo+Qj/Ev7o/N3/VgCbA08Bxf+L+yn9J/2HCU8FmgBvDe30Rv5h/LT09gi5CxkA5gOi8/30kwEM+4YJMf2nBmkJJAQQBLoFtvvv+m4A7PF6/R0Bif3qAuf8WARAAf4GyABG/BIAwvr4Acv8U//c/yIC8AEn/B8Daf2CAgMBAf3MAN38vgLK/UT/QwCyAPYClPyvAW/+pQAoASD+zP+R/IYC1f7C/nEBQP96AZb+1QAIAM//yQE7/tkAZ/7TAXL/w/8+AIsAtwB7/24A4v9a/z4A7v4iADb/dwCj/23/kgBOANUAIv8lAKEAxP9gAK7/BwCP/5kA7/9v/0wAzv9DAGT/3/9vAHv/6P+q/xUA7P8XAO//uv/g/2UAEgCV/wEATADM/+7/+//j/+D/9v/i//j/IgD+/xoAxf/6/z4A5/+8/9D/QwDq/+3/OQDT/zUAIgA/APP/PgAjAPD/BwAGACAADAC3//b/HAA3AN//RgDN/w8AIAACAN//GQBDACEAIwA+ACoAJQAeAPz/KgAYAPr/DgAEABYAIgAcAMT/7f8OAOL/5P/2//L/9P8GAPT/7v/8/+7/6v/t//z/AgAUAOL//P8VAAMA4/8IAPb/+P8MAAoA5v8NAAsA9v///wEAAAD9//n/9/8JAAYA7v/6/wMA+f8GAAEA7f/7/xgACAD4/w8A///3/w0A+f8BAAIA/P/5/xIA///9//r/7v/+/xYACQD///H/CwDz/wEADgAHAPP/FADn/+3/AQD5//f/AgD7/wEABwAMAAEADQD8//n/8f8OAPX/BAD+//X/+v8WAAQA+f8CAAEA7/8QAAEA/P8DAAUA9f8KAAwA9v8DAAUA+f8OAAoA9f/7/w0A+v8EAAgA8P/6/woA+//8/wkA+P/3/woA+//8/wcA9//1/woAAwD5/wcA/P/3/w0AAwD3/wEABAD2/wkABgD3/wEABQD3/wUABQD3//v/BwD3/wMABQD3//r/CQD7////BQD6//n/CQD9//3/BAD9//j/BwAAAPv/AwD///j/BwABAPn/AQABAPn/BQACAPn///8DAPr/AwADAPr//v8EAPv/AQADAPv//P8FAP3///8DAPz/+/8FAP7//f8CAP7/+/8EAP///P8BAP//+/8DAAEA+/8AAAEA+/8CAAIA+////wIA/f8AAAIA/P/+/wIA/f8AAAIA/f/9/wMA/////wEA///+/wIA/////wAAAAD+/wAAAAD/////AAD//wAA//8AAP//AAD//wAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAP////8AAP//AAAAAPz//f8IAAMA9////w4AAQD6/wwA8//+/y8Afv/0/2H/UP5gAbH+2QG1B2cAVAIh/l32FPyM/nACPQDV/+UEo/Q6AQwCu/oLD9kF8QJA/Uz+Wf2KCOcC+wUKBsL5aQBQ97rwOPiPAvn5CAl8AHEDkQPcAA8Bn/lIAdz7HQF1+xz9cAM4/94E4gDKAun+cgPYAYr9JgJr/bf+ivxz/MoBgv5UA8EBSgAQAJ7/UgEk/cQB7f63/sD/vf4XAhT/BQFCADYAnQGI/9EBtv3hALD/vP+c/3H/TgIN/1sBpf8yAP3/4f8qABr+1f8OAJ3/dwAGADEBnv9JAPz/IQBwAIH/jgAS/4wAsACTAOn/DQDCALn/ZQCSAAIAAwD1/9//jv9aADQA/v9EAB0AfgA8AAQACgB9APr/IAARAPT/5v9xACAABAAHAGUAt/89AC4ACgAjAMP/+v/9/xYA7f/1/+D/7P87AC0Auv8RAAcA9/8FAC8A2//y/xIAEwAaADQAJADp/zoAAgAfABIA2f/e/zUA+P/6/w4A9//A/zcA4//P//T/5f/R////EwDb/w4A8/8BABkANADh/xEA+f/0/wIAHADc//j/GwD1//f/GADs/+v/EAAAAPz/EgD3/+r/FgAMAAkAGAD9/+z/IQAQAPH/GQD3//z/CgAfAOX/AgD8//H/BAATAOv/+v///wIABAAdAOj/BQAPAAcAAQATAOz/8/8JAAkA6f8VAOv/+f8QABUA/v8OAO3/+P8KABUA9f8FAPv/5/8TAA0A7f8XAAkAAQAJABYA4/8WAAcACgANABEA7v8EAP7/AAD+/wMA9//7/xAAAQD8/wQA+f/7/wMABgDq/wAA+v/3/wYACQD1//3/BAD9/wgADgDw//r/AgD6/wEACADv//j/BQD///X/BwDu//j/AgACAPP/BAD2//n/BAAGAPb/BAD8//3/BQAJAPL/AwD+//3/BAAIAPP//f8DAPz/AAAGAPP/+/8CAP7//f8FAPX/+f8DAAAA/P8EAPf/+v8GAAMA+/8EAPv/+/8GAAQA+v8CAP///P8EAAUA+f8AAP///f8CAAUA+P///wEA/v8BAAUA+f/+/wIAAAD//wUA+v/9/wMAAQD9/wQA+//9/wMAAgD8/wMA/P/9/wMAAwD7/wEA/v/+/wIAAwD6/wEA///+/wAABAD6/wAAAQD//wAAAwD7////AQAAAP//AwD8//7/AgABAP3/AgD9//7/AQABAP3/AQD+//7/AAACAPz/AAD+//////8BAP3/AAD//wAA//8BAP7/AAD//wAA/v8AAP7/AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////P/9//3//////wAAAAAAAAIAAgACAP//CAAEAEEA//+cAAUAb/8HAAH9+P9eARkAogQUAJn8BwCd/gX/+QQNAKoC9gFdAtb/b/vd/936TP/6AsD/nfqn/un1W/0dA8IEsQLvAJv2bP72+WMAkP8dAcX+nQO2AIr6bP/EABX+NgK/Bdj2IQv2AE4EUAiD/xQAnwIm/B0B/wGNAoH7sQaP/b8CiQakAqD+R/9xA477KQL//6r75v/O/pcCgQCtAiMCBQAkANAARwHf//39hgBl/kUAJgEtAUEATgA/AgoASADK/zUAJv29/vL+l/9c/0cAUwBBAE8A6QE5/87/Wv9NAOf+5v7P/5P/4/9BAKYAQwDD/zYB5v+r/zYATwAp/1v/WQAEAB0AhwA0AA0AIAA3AAEAzv/u/+//5v9m/zwAIADQ/8T/SABiANb/SwAbAFf/MQDX/7L/hP8TAPr/AgAMAAsAHwAZAI3/VgDC/9v/5//x/6P/AwBlAMv/yf82AB4A+P9WAPj/NwDi/1EA0v9JANj/JwAcAAEADABYANj/4f8MAEwAmP82AN//3P8UADYA7//6/wIACADU/ygAyv82AN7/9v/2/ygAxv/9/+3/5//n/zUA6//g/y4ADgD5/wsABwDv/xIADwAGACoAJQD3/zIA+/8FABsAFgDO/zAAHAAIABQALADp/xcACAAAAPH/GADs/wkACQAFAAgAFQDp/wIAHAD1//P/EQDw/+3/GAD9/+f/HAD8//T/DAAQAPH/HwD4//r/DwAPAOj/EQACAOn/DAAXAOX/BAAOANH/9/8MAO//9f8LANT/9f8EAO//6f8NANb/+P8KAOz/5v8MAOD/7f8UAO//7//+//7/9v8YAPj/9f/z/wsA+v8SAPD/+v/x/xYA+f8SAPb/9//3/xEABQACAPn/9//y/xQACQD///b//v/7/xIACQD9//H/AAD7/xEAAgD5//P/AwD9/w8AAgD3//D/BAD//wUA/v/0//D/BgADAAMA/P/2//f/BwAGAP7/+//2//j/CAAFAPv/+f/5//v/BwAHAPn/9//7//7/BQAFAPf/9//+/wEABAACAPf/+P8BAAIAAgAAAPj/9/8CAAMAAAD+//n/+f8EAAQA/v/8//r/+/8EAAMA/P/7//z//P8EAAIA/P/5//7//v8DAAEA+//5//////8CAAAA+//5/wEAAAABAP//+//6/wIAAQD///3//P/7/wMAAQD///3//f/9/wIAAQD9//3//v/9/wMAAQD9//z/AAD//wEAAAD9//z/AAAAAAAA///9//3/AAD//wAA/v////7/AAD//wAA////////AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+////+f////v//v///wAA/////wUAAQAIAAIABwACAHkATAAOAaMAAf9C/9X6QvwhArAAtghABW37nv/y+0wAWQNcAE8JRwSOC6AEJe8P8S/zrPWaBI/+LQA/+0L+P/4K8AgAb/8uCh78BQtC614GaQWfAin5UfzN8Tf+GQizAZ4MCQMbGJ4BoRS7AvcHyQARA6n9ZwHZ/z4DvwAZAlAB6gbNAS4GFADFATL7E/2K+j37C/xp/SD9Uv0VAOsDs//WAd3+bv7F/f79mP2X/KH+FwC0/1n+VgFcATABHQGaAET+nf8Y/hoAovpqAXj9CQKW/lsCl/4RApj+bAHk/RcAlv4BAG/+DgDi//3/GwAOAEIAq/+y/3z/8v8+/7T/Tv8//27/mgDZ/1sA+P+cAAAA/P/i/yMAi/85AMP/KgDM/9MA9P+QABoA4QAiACwACwBdAP7/TQDb/y0Ayf+SAA0AZwDg/4wA+/8/AAMAgQDp/w0ADAAQAAoANgAgAA4AKABIAB4A4v/3/+f/+v/c/+n/EADn/wgAFAAqAOz/IwDc/9//3f8XAND/2v/a/w0A5v8BANb/9P/m/wAA8P8ZAN3/RwAGAEsABgB/AP7/NAASAEgABAA3AP3/KgD9/1sA8P8lAOr/FgD1/xAA4/8kAOv/AwD4/xEA5f8NAPT/+v/3/x8A7f8PAPj/IwD5/yAA9/8ZAAEAGgD4/xoA9f8HAAMACAD0/xgA+P8AAPr/IQDp/w4A8v8HAPX/IgD1/wYA+P8GAPX/GgD3/woABQASAAcAGQDw/+v/9P8bAP3/HADs/+f/7/8LAPr//v/0//T/AgD2/wsA6P///+P/CADY//7/5v/3/wQA/v8LAPD/GgD1/yMA/P8QAOv/LADw/yQA+P8XAO7/MQD9/yEAAQAcAPD/IgD9/xMA+/8OAO//FQABAAoA+/8PAPP/FQABAAQA9/8PAPX/CAADAAEA+P8NAPv/CAAGAAUA9/8JAP//AAAFAPz/+f8HAAQA/f8FAP3//P8FAAYA+P8DAP7/+/8AAAcA9/8BAP///f///wgA9//+/wAA/v/8/wUA9//8/wIA///7/wUA+v/7/wIAAAD6/wMA/P/6/wEAAQD6/wEA/v/7/wIAAgD6////AAD7/wEAAgD7//7/AQD8/wAAAwD8//3/AwD9/wAAAgD9//z/AwD/////AgD+//z/AwAAAP7/AQD///3/AgABAP3/AAAAAP3/AgACAPz///8BAP3/AQACAP3//v8BAP7/AAABAP3//v8CAP7///8BAP7//f8CAP////8AAAAA/v8CAAAAAAAAAAAA/v8BAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA/////wAAAQD+////AAAGAP3/OAABAIIAAwBv//f/E/0QAK0ADQCzA/7/8P4u/0cBDQCJA6ABbQDg/w7/z/9o+Vn/SPnL/1//Ef+2+jr9RfZgA5QFZwILDFj+PAb2/nEFKgKk/R0Dlv6b/FUDsP6YAoj9SgAT/iL/tAPwAv8A0P6zAr7/dwAnAf39uP22/skA2v///2YCoP4UAUsAZgF2AJH+4P70/rz9+f+U/Xv/8v7CAcb+TACS/kwAv/+x/tX9oP71/oL/1f8nAEUAZwGtAAgAIgC/AD4BaP8GAGH/dQDF/64Arf8nAakAhAH9/+kAQQD3AFb/q/8p/yIAR/8FAPD/ZAA/AIYA3v8tADQADQBp/3f/CwABAP3/Wf8OANj/WwDH/xoAe/8DAKz/zv96/z8A3f/J/5X/IAD5//j/q//c/+//RADq//D/vv8pADUAFQDI/y8ACAAbANb/OwD3/+3/9f/e/wcAIAAeAMH/8/8xAC0AEADW/+3/HAADAPv/8P8DAOL/OwD3/xcACQAHAM//5f8XAAcAz//T/9D/HgD9////yf/e//v/AgD//9H/6/////H/+/8hAAIA9//7/w0AFgAQAPL/2v/8/xsAGQABANz/9P8YAAQA/v/y/wMA5v8YAAkAAAAAAAMA7/8KABgADwDs//j/BwATABsA8P/1//z/BAAMAAAA9P/s/xAA/v8GAAkA/v/p/wMACwALAP7/9P/p/wcADQAFAPb/7//4/w0ACAD8//b//v/1/wMACwD1//T/8P/8/wAACQDz/+f/5P8GAAkABQD5//D/+v8FAA0AAwD///T/AgACABAA/v8CAPD/+/8FAAoA9f/3//f//v8GAP7/9v/t//z/+f8AAPj/+v/3/wEA+v8HAPr//P/5/wQA//8DAPr/+P/3/wYA///+//X/+//5/wQA/f/7//X/+//4/wMA/f/8//j//v/9/wYA///8//f/AgAAAAUA/f/6//n/AwACAAIA/f/7//z/AwACAAAA/f/6//3/AgADAP7//f/7/wAAAwAFAPz////8/wMAAgAEAPv//v/+/wMAAgADAPv//v///wMAAQABAPv//f8AAAIAAAD///v//f8BAAIA///+//z//v8CAAIA/v/9//3///8CAAEA/v/9//7/AAACAAAA/v/9////AAABAAAA/f/9/wAAAQABAP///f/+/wEAAQAAAP///v/+/wEAAQD///7//v///wEAAQD///7//v///wEAAAD+//7///8AAAAAAAD+//7///8AAAAA///+//7///8AAAAA////////AAAAAP////////////8AAP//////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAAAAABAAAAAAD//////////////v////3/////////+//8////AQD9//z/9f8BAAIA+f8dACgAWQBxAJX/qv+Y/uz9aP9k/7UDUQQBAiQA4Pgi/AkB0gKaBsD/+fxp/vz9CQSp/I/+ywDO+vMD0fzK/PABcgBeBfoBv/+uAuH9Sf5gAy39awMmBWUBuP9fA9/9fgDj/2/+EACaACcCSv9Z/2j/rv7hAA0AWf55/7L84P7E/SIAT/67AMv/tf+FAA7/1v+7/gv/IP+E/sQA+P5aAXz/tP9XAFX/tP8o/4r/j//e/yQAMv9mAJT/rgCr/9X/EwCb//H/9f7F/6D/EAAoAK3//v+e/zsAh/+B/7r/if/C/2r/4P/z/6//HwCy/0IA7/9ZALT/y/80ACgA9v/J/9//DgA5ADUALQARADIACwAfAOf/NgArACMACQBBAEcAGAAjAC4AWQBUAHcAAAAfACEAIAAcAPj/CADk/yQA7v89AEEAFwD5/xYA6f8aAOX/AADF/zQADwAUAOT/BQDr/yUA6P8XAOf/HADR/0AA8P8nAAgACQDt/ycAKAAHAPH/IQDz/xsACADn//n/DgADAA4A8P///8z/GgDN/yMA/f8QANj/MwACAC0ACwAOAO3/JgAZAAUACgAAAA4AIgAaAAkADwACAAAAHQATAAUABQACAAgACwAjAO////8AAA8ABQAPAPL//f8GAAsABgAGAPD/8v8GAPz/CAD6//H/6v8PAAgABgD4//3/9v8aAAgABwD1//7//v8QAAoACAD//wUA9v8QAAoABAAFAAgAAgAJAAoAAwD//w0AAgD//wcA/v8DAAoABQAFABUABAAKAAYABwAHAA8ACgAGAAwADwAMAAkAEAAJAAgADwAMAAgADgAJAAUACQAPAAUACwAHAAEABgAIAAEABAAGAP//AgAJAAAAAgAEAP7///8IAAIA//8GAAEAAQAJAAIA/v8EAAMA//8JAAEA/v8DAAMA/v8HAAMA/f8BAAUA/v8FAAMA/v8BAAcA//8DAAMA/v8BAAYA//8CAAMA/////wcAAAAAAAMAAAD//wYAAQD+/wMAAQD//wUAAQD+/wIAAgD//wQAAgD+/wEAAwD//wMAAwD+/wEAAwD//wIAAwD//wEABAAAAAEABAD//wAABAABAAAAAwAAAAAABAABAP//AwABAAAAAwACAP//AgACAAAAAwACAP//AgACAAAAAgACAAAAAQADAAAAAQACAAAAAQADAAAAAQACAAAAAAACAAEAAAACAAEAAAACAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAAAAAAAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA//8AAP//AAACAAAA+f8BAAYA///4/wIA//8AAA8A/v/V/wEAEwA9AAEBRwA2AF7/kfog/3gBwv99CDYBU/qtAUX/AP7OAfkAX/o9B38FSfwaAuT14/60BAr8CQAI/tfyIQTzAXP+egdUBBwBof7TBMT8bAWi/5EEWwBRAAAKyfxE/8b88vp6ACP+PAF4/qD8MQNM/ygCJ/2XAPD9kP5gAVT/iP9I/lEB4P8qAD0BFAGa/+7/DgB2AOP98gFm/u/+Vv5/AG8ASP9gAM//qv9w//oAcv+2/jIBHgA7/6D/oAAGAKH/lADT/wAAggC8AAYAkP9yAEcAkf8BAOD/RAAr/zUANwDt/xQAJQAkAMT/zwA/AOH/xv9zAGsANQBTAIcALAAvACIATACy/xMADADg/xcAWABvAJL/7f9VAPb/EgDt/wcA4f8kAPP/5P+h/wgACQDy//r/LgAQAMn/8/9CAOX/5v/S/9//3P8pABYAuP/s/w8AFgDt/+3/7v/w/9j/5/8GAOf/2P/2//P//v8kABMAuf/m/xoADADZ/+r/3P8KAAUAKwDe/wsA3P8VAAAADgAfAB0ACAAMAF4AGgAhAPL/MwDz/0kABAAKAPX/LwAbAAkA9v/s/+3/8/8CABAAAADm//n/BQALAAUAAQDj//n/JQAVAPX/9v/+/wIAEQABAPP/8P/1/wAABgD6/+3/7//o//j/DAD8/+b/8P8IAAkABgD4//D/8P8UAAoAAwD4/wAA+f8OAAcAAAAFAPX/9v8TAAkA8v8EAPb/9/8dAA0A7/8CAPn/+f8SAAQA8/8CAOf/+v8DAAgA9P////H//P8IAAUA8//0/wIAAQAGAAgA9//7/wAA+/8EAP//+P/+////AgACAAsA8v/+/wIABQD7/wgA9v/7/wMABAD5/wAA/P/3/wEAAQD7//7//P/1/wQA///3//r////3/wMAAwD1//r/AwD6////AgD4//n/AwD8//7/AgD4//n/AwD+//3/AQD4//n/BQD///n/AAD6//j/BAABAPj/AAD9//v/AwADAPj//v/+//z/AwAEAPj//v8BAP7/AQADAPj//f8CAP////8EAPr//P8DAAAA/v8CAPv//P8DAAEA/f8BAP3//f8DAAIA/P8AAP7//f8DAAIA/P///wAA/f8BAAIA+//+/wEA//8AAAEA+//+/wEA/////wEA/P/+/wEA///+/wAA/f/9/wEAAAD9/wAA/f/+/wEAAQD8/////v/+/wAAAQD8////////////AQD9////AAD/////AAD+////AAAAAP//AAD///////8AAP//AAD//wAA//8AAP//"]},function(e,t){e.exports=["UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wQA8/8ZAPr/DAD+/wMA/v8KAAQA/f8DAAMABADs//z/8v/z/8f/R/90/ob+//zAAWsDAwY3DKn9//tu93DvkwI6An4CuwJ0/BH7VPux92X0Gu7N/EX9mgfqCkkIiRMgBd4NQQGL/c0G/xBxAKELZATUA/sIHRSx+fkCyAUmBNEJIARlAdHz2AjNACcIsAW4AlECsvtJ/P/7K/tf++n8aP4W+g0FXAElAMn8nQHn/sT+Zv7N+9X2xvzM/O3+EvpqBBD7SQLd+vb/sPlw/JD72/3n+Rr+L/wS/vz6UQGg/Nf+Av5L/5X9Gv2//SP+mf3j/lf+v/2B/ZH/5P05/iL9MP9F/uf9UP4v/qv9mv7o/Xn+wP2k/8L+uP5J/tD+Dv/Y/bL+mP72/n3+pP+7/hAA+/5zAGH+Z/+u/g8Azv2y/6L+//9o/iIADP8VACz/CwCN/pb/1v4yAFP+wf+4/jsAcf5VAP3+bADa/nMA6f4sAOT+IQBd/v7/7v6aAIL+QADe/nEA0P4yAKz+CQCo/moAuf5xAN7+mAC8/jcANf9eAPX+IAA1/1kAAP9hAMz+PQD5/m0A2/4gAPr+UQDh/jQAEv9BAPH+FABN/zkASv9DADP/BABe/1IAGf8oAE3/RQAw/zIAQf8mADn/GgBE/xIAR/8hAD7/BABy/zEAKP/0/07/GwBX/z4ARf8mAFr/QQBV/zUAVP8eAFz/JABt/0EAUP8MAHz/KgBr/ycAYv8EAH3/MABl/x8Agv8bAIj/GgBv//z/ff8AAJX/IABu/+T/jv/r/4z/9/9n/77/pP8JAJD/EQCJ//r/q/8WAJ//GQCU/xYAtv8qAKr/PQCW/ysAwf8+ALb/OgC3/ygAz/8uAM7/OgDH/ygAz/8kAMz/OgC//xsA1f8qAMn/LwDN/xcA1f8oAMv/JQDR/xMAzf8bAM//HgDU/wUA2v8ZANL/EwDW/wEA1f8ZAMz/BwDX/wIA0v8SANT/BQDW/wMA0/8PANT/AADY/wIA1f8MANX/+f/a/wUA0v8IANf/+//Y/wUA0/8DANr/+f/Y/wQA1v8BANr/+f/Z/wUA1//8/9z/+v/Y/wYA2f/8/93//v/Y/wUA2v/9/93////Z/wUA3P/8/97/AgDa/wMA3v/8/97/AwDb/wIA3//9/97/BADd/wEA4f///9//BQDf/wAA4v8AAN//BQDf/wAA4/8CAN//BADh/wAA4/8DAOD/BADi////4/8DAOH/AwDk/wAA5P8FAOL/AgDl/wEA5P8FAOL/AQDl/wEA4/8EAOL/AQDj/wIA4P8DAN//AADg/wIA3v8CAOD/AADh/wEA4v8AAOP/AADm/wAA6P8AAOz/AADu/wAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////f/+//7///8AAP////8BAAEA/f8AAAEAAQAFAAUA9//6/x0A2f/9/xMA3P+jAE//of9HAKP//gCj/77/Z/vi/28D9/ywDJAJIvr6AsX0Xec4BhcGzf23DZP7yfZ6C1//nwBDBIHyYgob/Tf3sQ41ANoKRA/A+E7yffAa9gD5EQUBDMwMygiqAHMAqPqhAGUB2/gE+a78H/+4APT6DwIUAA0HNwMhBfL8E/90A5n7dP9cALIC+v5C/q0AOv9kAogBHv01/+3/qAQD/ub8T/4vAOUA5P6KATv+ywEYAeT+KP6i/3gCFP6h/hr/+P83ACL/VADn/8UARQJI/4MAu/8qAlj+wf4iAPb/LgFJ/8QAUABAAI4ABf+k/3X/YgFK/ij/j/9HADoAi/+WAA0BVwC/ACL/LACe//cARv9i/xgAUgA0ACj/FgBgAIj/5P9M/7z/zv8/AKz/gv8sAEQA6/+I/yYAawDL/7T/xf8qAOv/FQCu/5n/EgAyAO3/i/9LAE4A+//R//P/FgDe/8z/u/8DADIALAAZALL/TAA8ABwAo//1/xwA/P/L/z0A6P8jAN7/7v+a/zAAwf/7/3//KQAuACwA9v8RAGYAIwBNADgAKgASAF0ADgANACEAMQDH//H/LQACAB0Ay////x0APAABAAQA2v8iAAcAEgDE/+v/FQD+/+P/DAD1/97/6v/4//X/EwD4/+7/5P8cAA0ACQDH//7/CQAXAAEA/P/5//j/CwAWAAEABQD9//n/AQAWAB0A7v/k/wAACQAmAP//9/8AAPn/8/8aAO//6/8fAOv/5v8hAP//5/8PAOf/AAAGAPn/6v8JAAYABgABAOv/1//1//L/+P8DABcA6f/8/wMACgD7/xAA3v/2//z/DADu//z/5v/5/wEA/P/6//7/7v/x/wQABgD5/wAA8v/w/wkAEQD2//j/+v8EAAcAEAD3//v/+v8CAAAACQD3//v//v/9/wUADAD2//X/AgAHAAAABwD2//T/BgAKAP7/AQD4//r/BAAIAPn/AAD3//f/BQAHAPv//v/7//n/BQAJAPj/+v/9//7/AgAGAPj/+f8BAAEAAgAFAPn/+v8BAAIAAAAEAPn/+f8CAAQA/v8BAPr/+v8CAAQA/P////v//P8CAAQA+//+//3//f8CAAUA+v/9//////8AAAQA+v/8////AAD//wIA+//8/wAAAQD+/wEA+//8/wAAAgD9/////P/9/wEAAgD8//7//f/9/wAAAgD8//3//v/+////AQD8//z/////////AAD8//3///8AAP7/AAD9//7///8AAP7////+//////8AAP7////+////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v8AAP///////wAAAAAAAP7/AQABAAAABwD///X/BQAjAPL/CQDb/9D/GAAb/7sAYwCW/z0BcP/X/7T/2QDW+wH8yANCCCUJ5QT++UXmhPwhA78FuAxH+p78ifudBlAG9vmu/lAK2fdlB///cfjoCa0E7Akn9Yb/zvba+AkAHPywBGEBFwUNAL8AXAAGA20DFvmR/kz+F/06Ag/+GwHl/5EEKgJd/q0AP/ym/9n6EfxY/2H+/QFtAC4C6QBDAaMCo/20/+3/3f/p/fL9rv9V/6cBhQHuAX4AcwJYAaH/IP/P/gsApP0LAe7/sQBuAI0AAgGDAE4BzACe/5X//v+v/+f+Zf+gAOv/5QBhAOIApAANASYAuP+h/8b/HQBr/9//bACWAGEAFAB5AD0AWQDU/+D/Yf/p//D/s/+R/4QAMQBvABEAkQBfABQAJgDW/wwA8/8XALz/vf8zAFAAKwD1/zEAPwDJ/x0A7/8LAOX/FwDR//H/EQAdAO//6P8QAFEA2f8WABEAMgDy/xIA+f/s/xAALgDv////HQAvAPT/+f8iAAYAEgAFABoAGgD//w0A+f/0/xsAHgDx/9f/GAACAPH/8f8JAPf/GwALABEA7/8cAPT/CgD2//j/BQD8/+3/OgAgAAYA9f8PAN7/DgD9/9r/1//3/+3/9//1//b/8//5//f/AgAJAOf/+v8OAAMACwD9/+7/5f8eAAEA9//q//7/8P8WAP7/+//4/wIA+f8TAAIA9f/5/wcA+P8iAAgA9v/n/xoA//8gAAUABwDj/wAA9v8BAAUAFQDn/wMA7v8QABAAEQDm/wwA8f8aAAAABwDu/wcACgASAAEA7//w//f/BgARAAkA6P/3/wcADgAKAAYA4f/4/wYADgAAAPr/8P/9/xQACgAHAPn/7//9/xEAAgD+//L/8v/8/xUAAwDw//H/9f8CAAsA/v/q//L/+f8FAAYA/P/r//j///8GAAkA+//o//j/AQAIAP//+v/o//v/CAAIAPv/+P/w/wEACQAHAPj/+f/0/wIACwAFAPb/+f/4/wQACwACAPP/+f/+/wYACAD///L/+/8BAAYABQD9//P//P8FAAUAAgD7//T//f8HAAQA///7//f///8IAAMA/P/6//r/AQAIAAEA+v/6//3/AgAHAAAA+f/7/wAAAwAFAP7/+P/8/wIAAgACAP3/+f/9/wMAAwAAAPz/+v/+/wQAAgD+//z/+/8AAAQAAQD8//z//f8BAAQAAAD7//3///8BAAMA///7//3/AAACAAEA/v/7//7/AQABAAAA/v/9////AQAAAP///v/+////AAD/////////////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAAAA/v/+/wAAAQD8//3/CQAJAP3/+v8PAAcApABlABkBkwCO/i//lfqa/HQAcf/3BdkCzwJcBCMC0wMN/9/9wgI7AaECYfxV/Tf83vhn/xrt8Owx/8n7cgHABYb43QcZDh4WugNrA7P74gHu/9z/zv0t/acCiQHY/iv4qQOl/ysCE/0//XT9Sf4O//j9xfupAn394gHO+rsCXAFIAxQC9wIXBgcD2AQuAnb/9gJh/6wAVfxEAI4Bvf7oAFv/bALsAMQBe/88/joAT/4dAH39/v9LAXn/gwDI//QBdABcAA0A7f4lAMn///+9/tv/iABp/13/pP/dALv/w/8MAHv//f+y/6////7U/5AAZP+Z/8r/nQDR/5r/DwDr/xAA4v+s/3z/+P9uAOv/t/82AGcAHgCb/yQAFQBGAM7/CgD3/xoAegAaAOz/CgBHAA8Adv8/AAAABQC2/xIAAAA7ABQAKgCj/z4AAQAXAJz/JAADAAcA8f/1/2AAAQAlAPD/NgDx/1wA7v/4/wMAZADv//3/HQAkAFoA8P9FAPv/FgBIAPf/WQAHAEUACQD0/xIAQwDu/wMAwP9VALn/XwCw/yEA5f8sAPj/FgDD/1YAyv8rAOX/HQDo//j/IQAQACAAHwD9/yQAHQBAABgABQAiAAUAKAD3/wkACwAKAAMABwAJAPb/+f8GAOr/JQAHABMA6P8TAA4AGgD//woA8/8ZAP//GADu/w0A9v8SAAMABwD4/wQA5P8XAAQACgDq/wUA+/8VAAcACADs/xIAAAATAPH/+v/1//T/7f///+z/+v/y/+//9/8KAAcACgAJAPT/BAAKAAAABgAIAPL/9v8KAAMABAACAPr/9v8OAAIA+P/x//v/+f8MAPb/+P/w/wQA9f8MAPn////7/woA/v8PAAEAAgD1/xAAAQAPAP//AwD//xQABwALAAAABgADABAAAgAHAAAACAABAA8ABQAFAAMABwAEAA4ABwADAAEACQAFAAoAAwD//wAACQADAAUAAQD/////CAABAAMAAAD/////BwACAAEAAAD/////BwACAP7///8BAAAABgABAP7///8CAAAABAAAAP7///8DAAAAAwAAAP3///8DAAAAAQAAAP3//v8EAAAAAAD+//////8EAP/////+/wAA/v8EAP/////+/wEA/v8EAP///v/+/wIA//8DAP///v/+/wIA//8BAP///v/+/wMA//8BAP/////+/wMA//8AAP//AAD+/wQA//8AAP7/AQD//wIA////////AQD//wIA////////AQAAAAEAAAAAAP//AQD//wEAAAAAAP//AQAAAAEAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wAA+v8AAPz/AAD//wAA/f8AAAEAAAD+/wAACQAAAAQAAAAZAAAAtgAAAFsBAABW/gAAH/oAAGcBAABoBwAAlAAAAO3/AAARAQAA+wIAAEoEAACe/gAAiv4AALD0AADJ8wAAkQQAAF34AABi8QAAPQAAAAH2AAD19AAADAMAAJwGAACTEAAA0AwAAJkHAACOBwAAuQEAANcDAAC6AgAAHwUAAHEFAAB0AwAAbgEAADz+AADYAQAAGAAAAJwCAADgAAAA//0AAMn+AAAT/AAAwP8AAOn9AAAJAAAAewEAAOn+AACN/wAAOv0AAO3+AADN/gAAcP8AACj/AACq/gAA+f4AAML9AACa/wAA/f4AAN7/AABo/wAA6/4AAE//AAAC/wAAEQAAAHX/AAB0AAAA5f8AAEwAAAB3AAAA5/8AAMIAAABCAAAAzgAAAE8AAAB3AAAAKAAAADMAAACqAAAALwAAAK4AAAASAAAAVgAAACgAAAAtAAAATAAAAP3/AAA7AAAA2/8AACQAAADw/wAALQAAADEAAAAlAAAAbAAAADMAAABUAAAAEAAAACgAAAD1/wAA9v8AAPr/AADu/wAALgAAABIAAABUAAAARAAAAGUAAABGAAAAOAAAAGAAAAAuAAAARQAAACEAAAAfAAAAAAAAAAkAAAAQAAAAAwAAABIAAADs/wAAEAAAAAYAAAASAAAAIgAAABEAAAADAAAABAAAAA8AAAD4/wAAHQAAAAsAAAAIAAAADgAAAP//AAAcAAAADwAAAAYAAAASAAAAFwAAAAMAAAAYAAAAEgAAAPr/AAAQAAAADQAAAAoAAAD3/wAABgAAAPb/AADf/wAA/v8AAPL/AAD6/wAAFAAAAAQAAAAEAAAAGwAAAAEAAAAMAAAAIAAAAAIAAAAdAAAAGAAAAAIAAAAcAAAAEgAAAAcAAAAeAAAADwAAAAQAAAAeAAAABAAAAAYAAAAZAAAAAQAAAA4AAAATAAAA/v8AAAoAAAAOAAAA+/8AAAsAAAAJAAAA+f8AAAsAAAABAAAA+f8AAAoAAAD9/wAA+v8AAAcAAAD5/wAA+v8AAAUAAAD3/wAA/f8AAAQAAAD2/wAAAAAAAAEAAAD3/wAAAgAAAAAAAAD4/wAAAwAAAP7/AAD6/wAABAAAAP3/AAD8/wAABAAAAPv/AAD+/wAAAwAAAPv/AAD//wAAAQAAAPv/AAAAAAAAAAAAAPv/AAACAAAA//8AAPz/AAACAAAA/v8AAP3/AAACAAAA/f8AAP7/AAABAAAA/f8AAP//AAABAAAA/f8AAAAAAAAAAAAA/v8AAAEAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]},function(e,t,i){t.getBrowserInfo=function(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];if(/trident/i.test(i[1]))return t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:t[1]||""};if("Chrome"===i[1]&&(t=e.match(/\bOPR|Edge\/(\d+)/),null!=t))return{name:"Opera",version:t[1]};i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/([\d.]+)/i))&&i.splice(1,1,t[1]);let n=e.match(/android|ipad|iphone/i);return n||(n=e.match(/cros|linux|mac os x|windows/i)),{name:i[0],version:i[1],platform:n?n[0]:"unknown"}},t.patchSafari=function(){window.webkitAudioContext&&window.webkitOfflineAudioContext&&(window.AudioContext=window.webkitAudioContext,window.OfflineAudioContext=window.webkitOfflineAudioContext)}},function(e,t,i){e.exports="1.0.6"}])}))},function(e,t,i){e.exports="0.0.4"}])}));class ResonanceSource extends BaseAnalyzed{constructor(e,t,i,n,s){const a=s.createSource();super(e,t,i,n,a.input),this.resNode=a,Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.resNode.setMinDistance(this.minDistance),this.resNode.setMaxDistance(this.maxDistance),this.resNode.setPosition(t.x,t.y,t.z),this.resNode.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}dispose(){this.resNode=null,super.dispose()}}class ResonanceScene extends BaseListener{constructor(e){super(),this.scene=new ResonanceAudio(e,{ambisonicOrder:3}),this.scene.output.connect(e.destination),this.scene.setRoomProperties({width:10,height:5,depth:10},{left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"grass",up:"transparent"}),Object.seal(this)}update(e){super.update(e);const{p:t,f:i,u:n}=e;this.scene.setListenerPosition(t.x,t.y,t.z),this.scene.setListenerOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(e,t,i,n,s){return new ResonanceSource(e,t,i,n,this.scene)}}const BUFFER_SIZE=1024,audioActivityEvt$1=new AudioActivityEvent;let hasAudioContext$1=Object.prototype.hasOwnProperty.call(window,"AudioContext"),hasAudioListener=hasAudioContext$1&&Object.prototype.hasOwnProperty.call(window,"AudioListener"),hasOldAudioListener=hasAudioListener&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"setPosition"),hasNewAudioListener=hasAudioListener&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"positionX"),attemptResonanceAPI=hasAudioListener;class AudioManager extends BaseAudioClient{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5,this.audioContext=null,this.pose=new InterpolatedPose,this.listener=null,this.onAudioActivity=e=>{audioActivityEvt$1.id=e.id,audioActivityEvt$1.isActive=e.isActive,this.dispatchEvent(audioActivityEvt$1)},this.poses=new Map,this.timer=new RequestAnimationFrameTimer,this.timer.addEventListener("tick",()=>{this.pose.update(this.currentTime);for(let e of this.poses.values())e.update(this.currentTime)}),Object.seal(this)}start(){this.createContext(),this.timer.start()}createContext(){if(!this.audioContext){if(hasAudioContext$1)try{this.audioContext=new AudioContext}catch(e){hasAudioContext$1=!1,console.warn("Could not create WebAudio AudioContext",e)}if(hasAudioContext$1||(this.audioContext=new MockAudioContext),hasAudioContext$1&&attemptResonanceAPI)try{this.listener=new ResonanceScene(this.audioContext)}catch(e){attemptResonanceAPI=!1,console.warn("Resonance Audio API not available!",e)}if(hasAudioContext$1&&!attemptResonanceAPI&&hasNewAudioListener)try{this.listener=new AudioListenerNew(this.audioContext.listener)}catch(e){hasNewAudioListener=!1,console.warn("No AudioListener.positionX property!",e)}if(hasAudioContext$1&&!attemptResonanceAPI&&!hasNewAudioListener&&hasOldAudioListener)try{this.listener=new AudioListenerOld(this.audioContext.listener)}catch(e){hasOldAudioListener=!1,console.warn("No WebAudio API!",e)}hasOldAudioListener&&hasAudioContext$1||(this.listener=new BaseListener),this.pose.spatializer=this.listener}}createSpatializer(e,t,i){return t&&this.listener?this.listener.createSource(e,t,i,this.audioContext,this.pose.current):null}get currentTime(){return this.audioContext.currentTime}createUser(e){return this.poses.has(e)||this.poses.set(e,new InterpolatedPose),this.poses.get(e)}removeUser(e){if(this.poses.has(e)){this.poses.get(e).dispose(),this.poses.delete(e)}}setSource(e,t){if(this.poses.has(e)){const i=this.poses.get(e);i.spatializer&&i.spatializer.removeEventListener("audioActivity",this.onAudioActivity),i.spatializer=this.createSpatializer(e,t,1024),i.spatializer&&(i.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime),i.spatializer.addEventListener("audioActivity",this.onAudioActivity))}}setAudioProperties(e,t,i,n){this.minDistance=e,this.maxDistance=t,this.transitionTime=n,this.rolloff=i;for(let e of this.poses.values())e.spatializer&&e.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime)}setLocalPosition(e,t,i){this.pose.setTarget(e,t,i,0,0,1,0,1,0,this.currentTime,this.transitionTime)}getLocalPose(){return this.pose.end}setUserPosition(e,t,i,n){if(this.poses.has(e)){this.poses.get(e).setTarget(t,i,n,0,0,1,0,1,0,this.currentTime,this.transitionTime)}}}const userInputs=new Map,audioActivityEvt$2=new AudioActivityEvent;function logger(e,t){const i=(...e)=>{"conference.endpoint_message_received"===t&&e.length>=2&&("e2e-ping-request"===e[1].type||"e2e-ping-response"===e[1].type||"stats"===e[1].type)||console.log(t,...e)};"localhost"===window.location.hostname&&e.addEventListener(t,i)}function setLoggers(e,t){for(let i of Object.values(t))-1===i.indexOf("audioLevelsChanged")&&logger(e,i)}class LibJitsiMeetClient extends BaseJitsiClient{constructor(){super(),this.joined=!1,this.connection=null,this.conference=null,this.audioClient=new AudioManager,this.audioClient.addEventListener("audioActivity",e=>{audioActivityEvt$2.id=e.id,audioActivityEvt$2.isActive=e.isActive,this.dispatchEvent(audioActivityEvt$2)}),Object.seal(this)}async initializeAsync(e,t){console.info("Connecting to:",JITSI_HOST),await import(window.location.origin+"/lib/jquery.min.js"),await import(`https://${JITSI_HOST}/libs/lib-jitsi-meet.min.js`),e=e.toLocaleLowerCase(),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),JitsiMeetJS.init(),this.connection=new JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:JVB_HOST,muc:JVB_MUC},serviceUrl:`https://${JITSI_HOST}/http-bind`,enableLipSync:!0});const{CONNECTION_ESTABLISHED:i,CONNECTION_FAILED:n,CONNECTION_DISCONNECTED:s}=JitsiMeetJS.events.connection;setLoggers(this.connection,JitsiMeetJS.events.connection);const a=i=>{this.conference=this.connection.initJitsiConference(e,{openBridgeChannel:!0});const{TRACK_ADDED:n,TRACK_REMOVED:s,CONFERENCE_JOINED:a,CONFERENCE_LEFT:o,USER_JOINED:r,USER_LEFT:A,DISPLAY_NAME_CHANGED:l,ENDPOINT_MESSAGE_RECEIVED:c}=JitsiMeetJS.events.conference;setLoggers(this.conference,JitsiMeetJS.events.conference),this.conference.addEventListener(a,async()=>{const i=this.conference.myUserId();this.joined=!0,this.dispatchEvent(Object.assign(new Event("videoConferenceJoined"),{id:i,roomName:e,displayName:t,pose:this.audioClient.pose}))}),this.conference.addEventListener(o,()=>{this.dispatchEvent(Object.assign(new Event("videoConferenceLeft"),{roomName:e})),this.joined=!1});const h=(e,t)=>{const i=e.getParticipantId()||this.localUser,n=e.getType()+"MuteStatusChanged",s=Object.assign(new Event(n),{id:i,muted:t});this.dispatchEvent(s)},u=e=>{h(e,e.isMuted())};this.conference.addEventListener(r,(e,t)=>{const i=Object.assign(new Event("participantJoined"),{id:e,displayName:t.getDisplayName(),pose:this.audioClient.createUser(e)});this.dispatchEvent(i)}),this.conference.addEventListener(A,e=>{const t=Object.assign(new Event("participantLeft"),{id:e});this.dispatchEvent(t)}),this.conference.addEventListener(l,(e,t)=>{const i=Object.assign(new Event("displayNameChange"),{id:e,displayName:t});this.dispatchEvent(i)}),this.conference.addEventListener(n,e=>{const t=e.getParticipantId()||this.localUser,i=e.isLocal(),n=e.getType(),s=Object.assign(new Event(n+"Added"),{id:t,stream:e.stream});setLoggers(e,JitsiMeetJS.events.track),e.addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,u),userInputs.has(t)||userInputs.set(t,new Map);const a=userInputs.get(t);a.has(n)&&(a.get(n).dispose(),a.delete(n)),a.set(n,e),"audio"!==n||i||this.audioClient.setSource(t,e.stream),this.dispatchEvent(s),h(e,!1)}),this.conference.addEventListener(s,e=>{const t=e.getParticipantId()||this.localUser,i=e.isLocal(),n=e.getType(),s=Object.assign(new Event(n+"Removed"),{id:t,stream:null});if(userInputs.has(t)){const e=userInputs.get(t);e.has(n)&&(e.get(n).dispose(),e.delete(n))}"audio"!==n||i||this.audioClient.setSource(t,null),e.dispose(),h(e,!0),this.dispatchEvent(s)}),this.conference.addEventListener(c,(e,t)=>{this.rxGameData({user:e,data:t})}),this.conference.join()},o=e=>{console.error("Connection failed",e),r()},r=()=>{this.connection.removeEventListener(i,a),this.connection.removeEventListener(n,o),this.connection.removeEventListener(s,r),this.connection=null};this.connection.addEventListener(i,a),this.connection.addEventListener(n,o),this.connection.addEventListener(s,r),setLoggers(JitsiMeetJS.mediaDevices,JitsiMeetJS.events.mediaDevices),this.connection.connect()}txGameData(e,t){this.conference.sendMessage(t,e)}rxGameData(e){e.data.hax===this.appFingerPrint&&this.receiveMessageFrom(e.user.getId(),e.data.command,e.data.value)}leave(){if(this.conference&&this.joined){if(null!==this.localUser&&userInputs.has(this.localUser)){const e=userInputs.get(this.localUser);e.has("audio")&&this.conference.removeTrack(e.get("audio")),e.has("video")&&this.conference.removeTrack(e.get("video"))}const e=this.once("videoConferenceLeft",3e3);return this.conference.leave(),e.then(()=>{this.connection.disconnect()}),e}}async getCurrentAudioOutputDeviceAsync(){if(!canChangeAudioOutput)return null;const e=JitsiMeetJS.mediaDevices.getAudioOutputDevice(),t=(await this.getAudioOutputDevicesAsync()).filter(t=>t.deviceId===e);return 0===t.length?null:t[0]}async setAudioOutputDeviceAsync(e){canChangeAudioOutput&&(await super.setAudioOutputDeviceAsync(e),await JitsiMeetJS.mediaDevices.setAudioOutputDevice(this.preferredAudioOutputID))}getCurrentMediaTrack(e){if(null===this.localUser)return null;if(!userInputs.has(this.localUser))return null;const t=userInputs.get(this.localUser);return t.has(e)?t.get(e):null}async getCurrentAudioInputDeviceAsync(){const e=this.getCurrentMediaTrack("audio"),t=(await this.getAudioInputDevicesAsync()).filter(t=>null!==e&&t.deviceId===e.deviceId);return 0===t.length?null:t[0]}taskOf(e){return this.when(e,e=>e.id===this.localUser,5e3)}async toggleAudioMutedAsync(){const e=this.taskOf("audioMuteStatusChanged"),t=this.getCurrentMediaTrack("audio");if(t){t.isMuted()?await t.unmute():await t.mute()}else await this.setPreferredAudioInputAsync(!0);return(await e).muted}async toggleVideoMutedAsync(){const e=this.taskOf("videoMuteStatusChanged");this.getCurrentMediaTrack("video")?await this.setVideoInputDeviceAsync(null):await this.setPreferredVideoInputAsync(!0);return(await e).muted}async setAudioInputDeviceAsync(e){await super.setAudioInputDeviceAsync(e);const t=this.getCurrentMediaTrack("audio");if(t){const e=this.taskOf("audioRemoved");this.conference.removeTrack(t),await e}if(this.preferredAudioInputID){const e=this.taskOf("audioAdded"),t=await JitsiMeetJS.createLocalTracks({devices:["audio"],micDeviceId:this.preferredAudioInputID});for(let e of t)this.conference.addTrack(e);await e}}async getCurrentVideoInputDeviceAsync(){const e=this.getCurrentMediaTrack("video"),t=(await this.getVideoInputDevicesAsync()).filter(t=>null!==e&&t.deviceId===e.deviceId);return 0===t.length?null:t[0]}async setVideoInputDeviceAsync(e){await super.setVideoInputDeviceAsync(e);const t=this.getCurrentMediaTrack("video");if(t){const e=this.taskOf("videoRemoved");this.conference.removeTrack(t),await e}if(this.preferredVideoInputID){const e=this.taskOf("videoAdded"),t=await JitsiMeetJS.createLocalTracks({devices:["video"],cameraDeviceId:this.preferredVideoInputID});for(let e of t)this.conference.addTrack(e);await e}}setDisplayName(e){this.conference.setDisplayName(e)}isMediaMuted(e){const t=this.getCurrentMediaTrack(e);return null===t||t.isMuted()}get isAudioMuted(){return this.isMediaMuted("audio")}get isVideoMuted(){return this.isMediaMuted("video")}startAudio(){this.audioClient.start()}userIDs(){return Object.keys(this.conference.participants)}userExists(e){return!!this.conference.participants[e]}users(){return Object.keys(this.conference.participants).map(e=>[e,this.conference.participants[e].getDisplayName()])}}init(new LibJitsiMeetClient);
